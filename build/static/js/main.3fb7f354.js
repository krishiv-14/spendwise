/*! For license information please see main.3fb7f354.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var b=v.prototype=new y;b.constructor=v,m(b,x.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),M(a,t,i,"",(function(e){return e}))):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=M(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=M(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},T={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=i,t.Profiler=a,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,A(_);else{var t=r(u);null!==t&&T(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(N),N=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!M());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&T(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,j=null,N=-1,E=5,C=-1;function M(){return!(t.unstable_now()-C<E)}function P(){if(null!==j){var e=t.unstable_now();C=e;var n=!0;try{n=j(!0,e)}finally{n?k():(S=!1,j=null)}}else S=!1}if("function"===typeof v)k=function(){v(P)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=P,k=function(){O.postMessage(null)}}else k=function(){x(P,0)};function A(e){j=e,S||(S=!0,k())}function T(e,n){N=x((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,T(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,A(_))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var L,I=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(Je){var t=Je.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ge){var r=Ge}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ge){r=Ge}e.call(t.prototype)}else{try{throw Error()}catch(Ge){r=Ge}e()}}catch(Ge){if(Ge&&r&&"string"===typeof Ge.stack){for(var i=Ge.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case j:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(Je){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ot){return e.body}}function Q(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){G(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,ke=null;function Se(e){if(e=Di(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=Ai(t),we(e.stateNode,e.type,t))}}function je(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Ne(){if(_e){var e=_e,t=ke;if(ke=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Ce(){}var Me=!1;function Pe(e,t,n){if(Me)return e(t,n);Me=!0;try{return Ee(e,t,n)}finally{Me=!1,(null!==_e||null!==ke)&&(Ce(),Ne())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(Qe){Oe=!1}function Te(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(it){this.onError(it)}}var Re=!1,Le=null,Ie=!1,Fe=null,ze={onError:function(e){Re=!0,Le=e}};function Be(e,t,n,r,i,s,a,o,l){Re=!1,Le=null,Te.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ue(e)!==e)throw Error(s(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,nt=i.unstable_cancelCallback,rt=i.unstable_shouldYield,st=i.unstable_requestPaint,at=i.unstable_now,lt=i.unstable_getCurrentPriorityLevel,ct=i.unstable_ImmediatePriority,ut=i.unstable_UserBlockingPriority,ht=i.unstable_NormalPriority,ft=i.unstable_LowPriority,pt=i.unstable_IdlePriority,mt=null,gt=null;var xt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(yt(e)/vt|0)|0},yt=Math.log,vt=Math.LN2;var bt=64,wt=4194304;function _t(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=_t(o):0!==(s&=a)&&(r=_t(s))}else 0!==(a=n&~i)?r=_t(a):0!==s&&(r=_t(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function St(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Et(){var e=bt;return 0===(4194240&(bt<<=1))&&(bt=64),e}function Ct(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Dt=0;function Ot(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,Tt,Rt,Lt,It,Ft=!1,zt=[],Bt=null,Ut=null,Wt=null,$t=new Map,Vt=new Map,Ht=[],Kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qt(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":$t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vt.delete(t.pointerId)}}function Yt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Di(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Qt(e){var t=Pi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void It(e.priority,(function(){Rt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Xt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ln(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Di(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Gt(e,t,n){Xt(e)&&n.delete(t)}function Jt(){Ft=!1,null!==Bt&&Xt(Bt)&&(Bt=null),null!==Ut&&Xt(Ut)&&(Ut=null),null!==Wt&&Xt(Wt)&&(Wt=null),$t.forEach(Gt),Vt.forEach(Gt)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Jt)))}function en(e){function t(t){return Zt(t,e)}if(0<zt.length){Zt(zt[0],e);for(var n=1;n<zt.length;n++){var r=zt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Bt&&Zt(Bt,e),null!==Ut&&Zt(Ut,e),null!==Wt&&Zt(Wt,e),$t.forEach(t),Vt.forEach(t),n=0;n<Ht.length;n++)(r=Ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ht.length&&null===(n=Ht[0]).blockedOn;)Qt(n),null===n.blockedOn&&Ht.shift()}var tn=b.ReactCurrentBatchConfig,nn=!0;function rn(e,t,n,r){var i=Dt,s=tn.transition;tn.transition=null;try{Dt=1,an(e,t,n,r)}finally{Dt=i,tn.transition=s}}function sn(e,t,n,r){var i=Dt,s=tn.transition;tn.transition=null;try{Dt=4,an(e,t,n,r)}finally{Dt=i,tn.transition=s}}function an(e,t,n,r){if(nn){var i=ln(e,t,n,r);if(null===i)ni(e,t,r,on,n),qt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Bt=Yt(Bt,e,t,n,r,i),!0;case"dragenter":return Ut=Yt(Ut,e,t,n,r,i),!0;case"mouseover":return Wt=Yt(Wt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $t.set(s,Yt($t.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vt.set(s,Yt(Vt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(qt(e,r),4&t&&-1<Kt.indexOf(e)){for(;null!==i;){var s=Di(i);if(null!==s&&At(s),null===(s=ln(e,t,n,r))&&ni(e,t,r,on,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else ni(e,t,r,null,n)}}var on=null;function ln(e,t,n,r){if(on=null,null!==(e=Pi(e=be(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return on=e,null}function cn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lt()){case ct:return 1;case ut:return 4;case ht:case ft:return 16;case pt:return 536870912;default:return 16}default:return 16}}var un=null,dn=null,hn=null;function fn(){if(hn)return hn;var e,t,n=dn,r=n.length,i="value"in un?un.value:un.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return hn=i.slice(e,1<t?1-t:void 0)}function pn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function mn(){return!0}function gn(){return!1}function xn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?mn:gn,this.isPropagationStopped=gn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),t}var yn,vn,bn,wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=xn(wn),kn=I({},wn,{view:0,detail:0}),Sn=xn(kn),jn=I({},kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&"mousemove"===e.type?(yn=e.screenX-bn.screenX,vn=e.screenY-bn.screenY):vn=yn=0,bn=e),yn)},movementY:function(e){return"movementY"in e?e.movementY:vn}}),Nn=xn(jn),En=xn(I({},jn,{dataTransfer:0})),Cn=xn(I({},kn,{relatedTarget:0})),Mn=xn(I({},wn,{animationName:0,elapsedTime:0,pseudoElement:0})),Pn=I({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dn=xn(Pn),On=xn(I({},wn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ln(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rn[e])&&!!t[e]}function In(){return Ln}var Fn=I({},kn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=pn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?pn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?pn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),zn=xn(Fn),Bn=xn(I({},jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=xn(I({},kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Wn=xn(I({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0})),$n=I({},jn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=xn($n),Hn=[9,13,27,32],Kn=u&&"CompositionEvent"in window,qn=null;u&&"documentMode"in document&&(qn=document.documentMode);var Yn=u&&"TextEvent"in window&&!qn,Qn=u&&(!Kn||qn&&8<qn&&11>=qn),Xn=String.fromCharCode(32),Gn=!1;function Jn(e,t){switch(e){case"keyup":return-1!==Hn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var er=!1;var tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!tr[e.type]:"textarea"===t}function rr(e,t,n,r){je(r),0<(t=ii(t,"onChange")).length&&(n=new _n("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ir=null,sr=null;function ar(e){Xr(e,0)}function or(e){if(q(Oi(e)))return e}function lr(e,t){if("change"===e)return t}var cr=!1;if(u){var ur;if(u){var dr="oninput"in document;if(!dr){var hr=document.createElement("div");hr.setAttribute("oninput","return;"),dr="function"===typeof hr.oninput}ur=dr}else ur=!1;cr=ur&&(!document.documentMode||9<document.documentMode)}function fr(){ir&&(ir.detachEvent("onpropertychange",pr),sr=ir=null)}function pr(e){if("value"===e.propertyName&&or(sr)){var t=[];rr(t,sr,e,be(e)),Pe(ar,t)}}function mr(e,t,n){"focusin"===e?(fr(),sr=n,(ir=t).attachEvent("onpropertychange",pr)):"focusout"===e&&fr()}function gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return or(sr)}function xr(e,t){if("click"===e)return or(t)}function yr(e,t){if("input"===e||"change"===e)return or(t)}var vr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function br(e,t){if(vr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!vr(e[i],t[i]))return!1}return!0}function wr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _r(e,t){var n,r=wr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wr(r)}}function kr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?kr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Sr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(et){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Nr(e){var t=Sr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kr(n.ownerDocument.documentElement,n)){if(null!==r&&jr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=_r(n,s);var a=_r(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Er=u&&"documentMode"in document&&11>=document.documentMode,Cr=null,Mr=null,Pr=null,Dr=!1;function Or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Dr||null==Cr||Cr!==Y(r)||("selectionStart"in(r=Cr)&&jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Pr&&br(Pr,r)||(Pr=r,0<(r=ii(Mr,"onSelect")).length&&(t=new _n("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Rr={},Lr={};function Ir(e){if(Rr[e])return Rr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Lr)return Rr[e]=n[t];return e}u&&(Lr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Fr=Ir("animationend"),zr=Ir("animationiteration"),Br=Ir("animationstart"),Ur=Ir("transitionend"),Wr=new Map,$r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Wr.set(e,t),l(t,[e])}for(var Hr=0;Hr<$r.length;Hr++){var Kr=$r[Hr];Vr(Kr.toLowerCase(),"on"+(Kr[0].toUpperCase()+Kr.slice(1)))}Vr(Fr,"onAnimationEnd"),Vr(zr,"onAnimationIteration"),Vr(Br,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Ur,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yr=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Ie||(Ie=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Xr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Qr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Qr(i,o,c),s=l}}}if(Ie)throw e=Fe,Ie=!1,Fe=null,e}function Gr(e,t){var n=t[Ei];void 0===n&&(n=t[Ei]=new Set);var r=e+"__bubble";n.has(r)||(ti(t,e,2,!1),n.add(r))}function Jr(e,t,n){var r=0;t&&(r|=4),ti(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function ei(e){if(!e[Zr]){e[Zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Yr.has(t)||Jr(t,!1,e),Jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,Jr("selectionchange",!1,t))}}function ti(e,t,n,r){switch(cn(t)){case 1:var i=rn;break;case 4:i=sn;break;default:i=an}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ni(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Pi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Pe((function(){var r=s,i=be(n),a=[];e:{var o=Wr.get(e);if(void 0!==o){var l=_n,c=e;switch(e){case"keypress":if(0===pn(n))break e;case"keydown":case"keyup":l=zn;break;case"focusin":c="focus",l=Cn;break;case"focusout":c="blur",l=Cn;break;case"beforeblur":case"afterblur":l=Cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=En;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case Fr:case zr:case Br:l=Mn;break;case Ur:l=Wn;break;case"scroll":l=Sn;break;case"wheel":l=Vn;break;case"copy":case"cut":case"paste":l=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Bn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(ri(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!Pi(c)&&!c[Ni])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Pi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Nn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Bn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Oi(l),f=null==c?o:Oi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,Pi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=si(f))p++;for(f=0,m=h;m;m=si(m))f++;for(;0<p-f;)u=si(u),p--;for(;0<f-p;)h=si(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=si(u),h=si(h)}u=null}else u=null;null!==l&&ai(a,o,l,u,!1),null!==c&&null!==d&&ai(a,d,c,u,!0)}if("select"===(l=(o=r?Oi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=lr;else if(nr(o))if(cr)g=yr;else{g=gr;var x=mr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=xr);switch(g&&(g=g(e,r))?rr(a,g,n,i):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=r?Oi(r):window,e){case"focusin":(nr(x)||"true"===x.contentEditable)&&(Cr=x,Mr=r,Pr=null);break;case"focusout":Pr=Mr=Cr=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,Or(a,n,i);break;case"selectionchange":if(Er)break;case"keydown":case"keyup":Or(a,n,i)}var y;if(Kn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else er?Jn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Qn&&"ko"!==n.locale&&(er||"onCompositionStart"!==v?"onCompositionEnd"===v&&er&&(y=fn()):(dn="value"in(un=i)?un.value:un.textContent,er=!0)),0<(x=ii(r,v)).length&&(v=new On(v,e,null,n,i),a.push({event:v,listeners:x}),y?v.data=y:null!==(y=Zn(n))&&(v.data=y))),(y=Yn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Xn);case"textInput":return(e=t.data)===Xn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(er)return"compositionend"===e||!Kn&&Jn(e,t)?(e=fn(),hn=dn=un=null,er=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ii(r,"onBeforeInput")).length&&(i=new On("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Xr(a,t)}))}function ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ii(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(ri(e,s,i)),null!=(s=De(e,t))&&r.push(ri(e,s,i))),e=e.return}return r}function si(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ai(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=De(n,s))&&a.unshift(ri(n,l,o)):i||null!=(l=De(n,s))&&a.push(ri(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var oi=/\r\n?/g,li=/\u0000|\uFFFD/g;function ci(e){return("string"===typeof e?e:""+e).replace(oi,"\n").replace(li,"")}function ui(e,t,n){if(t=ci(t),ci(e)!==t&&n)throw Error(s(425))}function di(){}var hi=null,fi=null;function pi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var mi="function"===typeof setTimeout?setTimeout:void 0,gi="function"===typeof clearTimeout?clearTimeout:void 0,xi="function"===typeof Promise?Promise:void 0,yi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xi?function(e){return xi.resolve(null).then(e).catch(vi)}:mi;function vi(e){setTimeout((function(){throw e}))}function bi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void en(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);en(t)}function wi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function _i(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ki=Math.random().toString(36).slice(2),Si="__reactFiber$"+ki,ji="__reactProps$"+ki,Ni="__reactContainer$"+ki,Ei="__reactEvents$"+ki,Ci="__reactListeners$"+ki,Mi="__reactHandles$"+ki;function Pi(e){var t=e[Si];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ni]||n[Si]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_i(e);null!==e;){if(n=e[Si])return n;e=_i(e)}return t}n=(e=n).parentNode}return null}function Di(e){return!(e=e[Si]||e[Ni])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Oi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ai(e){return e[ji]||null}var Ti=[],Ri=-1;function Li(e){return{current:e}}function Ii(e){0>Ri||(e.current=Ti[Ri],Ti[Ri]=null,Ri--)}function Fi(e,t){Ri++,Ti[Ri]=e.current,e.current=t}var zi={},Bi=Li(zi),Ui=Li(!1),Wi=zi;function $i(e,t){var n=e.type.contextTypes;if(!n)return zi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Hi(){Ii(Ui),Ii(Bi)}function Ki(e,t,n){if(Bi.current!==zi)throw Error(s(168));Fi(Bi,t),Fi(Ui,n)}function qi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return I({},n,r)}function Yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zi,Wi=Bi.current,Fi(Bi,e),Fi(Ui,Ui.current),!0}function Qi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=qi(e,t,Wi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ui),Ii(Bi),Fi(Bi,e)):Ii(Ui),Fi(Ui,n)}var Xi=null,Gi=!1,Ji=!1;function Zi(e){null===Xi?Xi=[e]:Xi.push(e)}function es(){if(!Ji&&null!==Xi){Ji=!0;var e=0,t=Dt;try{var n=Xi;for(Dt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Xi=null,Gi=!1}catch(We){throw null!==Xi&&(Xi=Xi.slice(e+1)),Xe(ct,es),We}finally{Dt=t,Ji=!1}}return null}var ts=[],ns=0,rs=null,is=0,ss=[],as=0,os=null,ls=1,cs="";function us(e,t){ts[ns++]=is,ts[ns++]=rs,rs=e,is=t}function ds(e,t,n){ss[as++]=ls,ss[as++]=cs,ss[as++]=os,os=e;var r=ls;e=cs;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var s=32-xt(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ls=1<<32-xt(t)+i|n<<i|r,cs=s+e}else ls=1<<s|n<<i|r,cs=e}function hs(e){null!==e.return&&(us(e,1),ds(e,1,0))}function fs(e){for(;e===rs;)rs=ts[--ns],ts[ns]=null,is=ts[--ns],ts[ns]=null;for(;e===os;)os=ss[--as],ss[as]=null,cs=ss[--as],ss[as]=null,ls=ss[--as],ss[as]=null}var ps=null,ms=null,gs=!1,xs=null;function ys(e,t){var n=$c(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function vs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ps=e,ms=wi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ps=e,ms=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==os?{id:ls,overflow:cs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$c(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ps=e,ms=null,!0);default:return!1}}function bs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ws(e){if(gs){var t=ms;if(t){var n=t;if(!vs(e,t)){if(bs(e))throw Error(s(418));t=wi(n.nextSibling);var r=ps;t&&vs(e,t)?ys(r,n):(e.flags=-4097&e.flags|2,gs=!1,ps=e)}}else{if(bs(e))throw Error(s(418));e.flags=-4097&e.flags|2,gs=!1,ps=e}}}function _s(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ps=e}function ks(e){if(e!==ps)return!1;if(!gs)return _s(e),gs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!pi(e.type,e.memoizedProps)),t&&(t=ms)){if(bs(e))throw Ss(),Error(s(418));for(;t;)ys(e,t),t=wi(t.nextSibling)}if(_s(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ms=wi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ms=null}}else ms=ps?wi(e.stateNode.nextSibling):null;return!0}function Ss(){for(var e=ms;e;)e=wi(e.nextSibling)}function js(){ms=ps=null,gs=!1}function Ns(e){null===xs?xs=[e]:xs.push(e)}var Es=b.ReactCurrentBatchConfig;function Cs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ms(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ps(e){return(0,e._init)(e._payload)}function Ds(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Ps(s)===t.type)?((r=i(t,n.props)).ref=Cs(e,t,n),r.return=e,r):((r=Kc(n.type,n.key,n.props,null,e.mode,r)).ref=Cs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=qc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Kc(t.type,t.key,t.props,null,e.mode,n)).ref=Cs(e,null,t),n.return=e,n;case _:return(t=Xc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=qc(t,e.mode,n,null)).return=e,t;Ms(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);Ms(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);Ms(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var x=f(i,d,o[m],l);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(i,d),s=a(x,s,m),null===u?c=x:u.sibling=x,u=x,d=g}if(m===o.length)return n(i,d),gs&&us(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return gs&&us(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),gs&&us(i,m),c}function g(i,o,l,c){var u=R(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,x=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(x=m,m=null):x=m.sibling;var v=f(i,m,y.value,c);if(null===v){null===m&&(m=x);break}e&&m&&null===v.alternate&&t(i,m),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v,m=x}if(y.done)return n(i,m),gs&&us(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return gs&&us(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),gs&&us(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Ps(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Cs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=qc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Kc(a.type,a.key,a.props,null,r.mode,l)).ref=Cs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Xc(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(R(a))return g(r,s,a,l);Ms(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Qc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Os=Ds(!0),As=Ds(!1),Ts=Li(null),Rs=null,Ls=null,Is=null;function Fs(){Is=Ls=Rs=null}function zs(e){var t=Ts.current;Ii(Ts),e._currentValue=t}function Bs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){Rs=e,Is=Ls=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Do=!0),e.firstContext=null)}function Ws(e){var t=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:t,next:null},null===Ls){if(null===Rs)throw Error(s(308));Ls=e,Rs.dependencies={lanes:0,firstContext:e}}else Ls=Ls.next=e;return t}var $s=null;function Vs(e){null===$s?$s=[e]:$s.push(e)}function Hs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Vs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ks(e,r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qs=!1;function Ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Bl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ks(e,n)}return null===(i=r.interleaved)?(t.next=t,Vs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ks(e,n)}function Js(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}function Zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ea(e,t,n,r){var i=e.updateQueue;qs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=I({},d,h);break e;case 2:qs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Yl|=a,e.lanes=a,e.memoizedState=d}}function ta(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var na={},ra=Li(na),ia=Li(na),sa=Li(na);function aa(e){if(e===na)throw Error(s(174));return e}function oa(e,t){switch(Fi(sa,t),Fi(ia,e),Fi(ra,na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(ra),Fi(ra,t)}function la(){Ii(ra),Ii(ia),Ii(sa)}function ca(e){aa(sa.current);var t=aa(ra.current),n=le(t,e.type);t!==n&&(Fi(ia,e),Fi(ra,n))}function ua(e){ia.current===e&&(Ii(ra),Ii(ia))}var da=Li(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=[];function pa(){for(var e=0;e<fa.length;e++)fa[e]._workInProgressVersionPrimary=null;fa.length=0}var ma=b.ReactCurrentDispatcher,ga=b.ReactCurrentBatchConfig,xa=0,ya=null,va=null,ba=null,wa=!1,_a=!1,ka=0,Sa=0;function ja(){throw Error(s(321))}function Na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(xa=a,ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ma.current=null===e||null===e.memoizedState?uo:ho,e=n(r,i),_a){a=0;do{if(_a=!1,ka=0,25<=a)throw Error(s(301));a+=1,ba=va=null,t.updateQueue=null,ma.current=fo,e=n(r,i)}while(_a)}if(ma.current=co,t=null!==va&&null!==va.next,xa=0,ba=va=ya=null,wa=!1,t)throw Error(s(300));return e}function Ca(){var e=0!==ka;return ka=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ba?ya.memoizedState=ba=e:ba=ba.next=e,ba}function Pa(){if(null===va){var e=ya.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ba?ya.memoizedState:ba.next;if(null!==t)ba=t,va=e;else{if(null===e)throw Error(s(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ba?ya.memoizedState=ba=e:ba=ba.next=e}return ba}function Da(e,t){return"function"===typeof t?t(e):t}function Oa(e){var t=Pa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((xa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ya.lanes|=d,Yl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,vr(r,t.memoizedState)||(Do=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ya.lanes|=a,Yl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Pa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);vr(a,t.memoizedState)||(Do=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ta(){}function Ra(e,t){var n=ya,r=Pa(),i=t(),a=!vr(r.memoizedState,i);if(a&&(r.memoizedState=i,Do=!0),r=r.queue,qa(Fa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ba&&1&ba.memoizedState.tag){if(n.flags|=2048,Wa(9,Ia.bind(null,n,r,i,t),void 0,null),null===Ul)throw Error(s(349));0!==(30&xa)||La(n,t,i)}return i}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,za(t)&&Ba(e)}function Fa(e,t,n){return n((function(){za(t)&&Ba(e)}))}function za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch(et){return!0}}function Ba(e){var t=Ks(e,1);null!==t&&pc(t,e,1,-1)}function Ua(e){var t=Ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t.queue=e,e=e.dispatch=so.bind(null,ya,e),[t.memoizedState,e]}function Wa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $a(){return Pa().memoizedState}function Va(e,t,n,r){var i=Ma();ya.flags|=e,i.memoizedState=Wa(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=Pa();r=void 0===r?null:r;var s=void 0;if(null!==va){var a=va.memoizedState;if(s=a.destroy,null!==r&&Na(r,a.deps))return void(i.memoizedState=Wa(t,n,s,r))}ya.flags|=e,i.memoizedState=Wa(1|t,n,s,r)}function Ka(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Ha(2048,8,e,t)}function Ya(e,t){return Ha(4,2,e,t)}function Qa(e,t){return Ha(4,4,e,t)}function Xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,Xa.bind(null,t,e),n)}function Ja(){}function Za(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eo(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function to(e,t,n){return 0===(21&xa)?(e.baseState&&(e.baseState=!1,Do=!0),e.memoizedState=n):(vr(n,t)||(n=Et(),ya.lanes|=n,Yl|=n,e.baseState=!0),t)}function no(e,t){var n=Dt;Dt=0!==n&&4>n?n:4,e(!0);var r=ga.transition;ga.transition={};try{e(!1),t()}finally{Dt=n,ga.transition=r}}function ro(){return Pa().memoizedState}function io(e,t,n){var r=fc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ao(e))oo(t,n);else if(null!==(n=Hs(e,t,n,r))){pc(n,e,r,hc()),lo(n,t,r)}}function so(e,t,n){var r=fc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ao(e))oo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,vr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Vs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Ge){}null!==(n=Hs(e,t,i,r))&&(pc(n,e,r,i=hc()),lo(n,t,r))}}function ao(e){var t=e.alternate;return e===ya||null!==t&&t===ya}function oo(e,t){_a=wa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}var co={readContext:Ws,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useInsertionEffect:ja,useLayoutEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useDeferredValue:ja,useTransition:ja,useMutableSource:ja,useSyncExternalStore:ja,useId:ja,unstable_isNewReconciler:!1},uo={readContext:Ws,useCallback:function(e,t){return Ma().memoizedState=[e,void 0===t?null:t],e},useContext:Ws,useEffect:Ka,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=io.bind(null,ya,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ma().memoizedState=e},useState:Ua,useDebugValue:Ja,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=no.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ya,i=Ma();if(gs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ul)throw Error(s(349));0!==(30&xa)||La(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ka(Fa.bind(null,r,a,e),[e]),r.flags|=2048,Wa(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ma(),t=Ul.identifierPrefix;if(gs){var n=cs;t=":"+t+"R"+(n=(ls&~(1<<32-xt(ls)-1)).toString(32)+n),0<(n=ka++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Sa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ho={readContext:Ws,useCallback:Za,useContext:Ws,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ya,useLayoutEffect:Qa,useMemo:eo,useReducer:Oa,useRef:$a,useState:function(){return Oa(Da)},useDebugValue:Ja,useDeferredValue:function(e){return to(Pa(),va.memoizedState,e)},useTransition:function(){return[Oa(Da)[0],Pa().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Ra,useId:ro,unstable_isNewReconciler:!1},fo={readContext:Ws,useCallback:Za,useContext:Ws,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ya,useLayoutEffect:Qa,useMemo:eo,useReducer:Aa,useRef:$a,useState:function(){return Aa(Da)},useDebugValue:Ja,useDeferredValue:function(e){var t=Pa();return null===va?t.memoizedState=e:to(t,va.memoizedState,e)},useTransition:function(){return[Aa(Da)[0],Pa().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Ra,useId:ro,unstable_isNewReconciler:!1};function po(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hc(),i=fc(e),s=Xs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Gs(e,s,i))&&(pc(t,e,i,r),Js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hc(),i=fc(e),s=Xs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Gs(e,s,i))&&(pc(t,e,i,r),Js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hc(),r=fc(e),i=Xs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Gs(e,i,r))&&(pc(t,e,r,n),Js(t,e,r))}};function xo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!br(n,r)||!br(i,s))}function yo(e,t,n){var r=!1,i=zi,s=t.contextType;return"object"===typeof s&&null!==s?s=Ws(s):(i=Vi(t)?Wi:Bi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?$i(e,i):zi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ys(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ws(s):(s=Vi(t)?Wi:Bi.current,i.context=$i(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(mo(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),ea(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function wo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(tt){i="\nError generating stack: "+tt.message+"\n"+tt.stack}return{value:e,source:t,stack:i,digest:null}}function _o(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ko(e,t){try{console.error(t.value)}catch(Je){setTimeout((function(){throw Je}))}}var So="function"===typeof WeakMap?WeakMap:Map;function jo(e,t,n){(n=Xs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nc||(nc=!0,rc=r),ko(0,t)},n}function No(e,t,n){(n=Xs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ko(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ko(0,t),"function"!==typeof r&&(null===ic?ic=new Set([this]):ic.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Eo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new So;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function Co(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Mo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Xs(-1,1)).tag=2,Gs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Po=b.ReactCurrentOwner,Do=!1;function Oo(e,t,n,r){t.child=null===e?As(t,null,n,r):Os(t,e.child,n,r)}function Ao(e,t,n,r,i){n=n.render;var s=t.ref;return Us(t,i),r=Ea(e,t,n,r,s,i),n=Ca(),null===e||Do?(gs&&n&&hs(t),t.flags|=1,Oo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i))}function To(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Vc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ro(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:br)(a,r)&&e.ref===t.ref)return nl(e,t,i)}return t.flags|=1,(e=Hc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(br(s,r)&&e.ref===t.ref){if(Do=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,nl(e,t,i);0!==(131072&e.flags)&&(Do=!0)}}return Fo(e,t,n,r,i)}function Lo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fi(Hl,Vl),Vl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fi(Hl,Vl),Vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Fi(Hl,Vl),Vl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Fi(Hl,Vl),Vl|=r;return Oo(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fo(e,t,n,r,i){var s=Vi(n)?Wi:Bi.current;return s=$i(t,s),Us(t,i),n=Ea(e,t,n,r,s,i),r=Ca(),null===e||Do?(gs&&r&&hs(t),t.flags|=1,Oo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nl(e,t,i))}function zo(e,t,n,r,i){if(Vi(n)){var s=!0;Yi(t)}else s=!1;if(Us(t,i),null===t.stateNode)tl(e,t),yo(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ws(c):c=$i(t,c=Vi(n)?Wi:Bi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&vo(t,a,r,c),qs=!1;var h=t.memoizedState;a.state=h,ea(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ui.current||qs?("function"===typeof u&&(mo(t,n,u,r),l=t.memoizedState),(o=qs||xo(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Qs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:po(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ws(l):l=$i(t,l=Vi(n)?Wi:Bi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&vo(t,a,r,l),qs=!1,h=t.memoizedState,a.state=h,ea(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ui.current||qs?("function"===typeof f&&(mo(t,n,f,r),p=t.memoizedState),(c=qs||xo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Bo(e,t,n,r,s,i)}function Bo(e,t,n,r,i,s){Io(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Qi(t,n,!1),nl(e,t,s);r=t.stateNode,Po.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Os(t,e.child,null,s),t.child=Os(t,null,o,s)):Oo(e,t,o,s),t.memoizedState=r.state,i&&Qi(t,n,!0),t.child}function Uo(e){var t=e.stateNode;t.pendingContext?Ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ki(0,t.context,!1),oa(e,t.containerInfo)}function Wo(e,t,n,r,i){return js(),Ns(i),t.flags|=256,Oo(e,t,n,r),t.child}var $o,Vo,Ho,Ko,qo={dehydrated:null,treeContext:null,retryLane:0};function Yo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qo(e,t,n){var r,i=t.pendingProps,a=da.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Fi(da,1&a),null===e)return ws(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Yc(l,i,0,null),e=qc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Yo(n),t.memoizedState=qo,e):Xo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Go(e,t,o,r=_o(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Yc({mode:"visible",children:r.children},i,0,null),(a=qc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Os(t,e.child,null,o),t.child.memoizedState=Yo(o),t.memoizedState=qo,a);if(0===(1&t.mode))return Go(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Go(e,t,o,r=_o(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),Do||l){if(null!==(r=Ul)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ks(e,i),pc(r,e,i,-1))}return Ec(),Go(e,t,o,r=_o(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=zc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ms=wi(i.nextSibling),ps=t,gs=!0,xs=null,null!==e&&(ss[as++]=ls,ss[as++]=cs,ss[as++]=os,ls=e.id,cs=e.overflow,os=t),t=Xo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Hc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Hc(r,o):(o=qc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Yo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=qo,i}return e=(o=e.child).sibling,i=Hc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Xo(e,t){return(t=Yc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Go(e,t,n,r){return null!==r&&Ns(r),Os(t,e.child,null,n),(e=Xo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Bs(e.return,t,n)}function Zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function el(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Oo(e,t,r.children,n),0!==(2&(r=da.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n,t);else if(19===e.tag)Jo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fi(da,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ha(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ha(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,s);break;case"together":Zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Yl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Hc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function rl(e,t){if(!gs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sl(e,t,n){var r=t.pendingProps;switch(fs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return il(t),null;case 1:case 17:return Vi(t.type)&&Hi(),il(t),null;case 3:return r=t.stateNode,la(),Ii(Ui),Ii(Bi),pa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ks(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==xs&&(yc(xs),xs=null))),Vo(e,t),il(t),null;case 5:ua(t);var i=aa(sa.current);if(n=t.type,null!==e&&null!=t.stateNode)Ho(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return il(t),null}if(e=aa(ra.current),ks(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Si]=t,r[ji]=a,e=0!==(1&t.mode),n){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(i=0;i<qr.length;i++)Gr(qr[i],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":X(r,a),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Gr("invalid",r);break;case"textarea":ie(r,a),Gr("invalid",r)}for(var l in xe(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&ui(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&ui(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Gr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=di)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Si]=t,e[ji]=r,$o(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Gr("cancel",e),Gr("close",e),i=r;break;case"iframe":case"object":case"embed":Gr("load",e),i=r;break;case"video":case"audio":for(i=0;i<qr.length;i++)Gr(qr[i],e);i=r;break;case"source":Gr("error",e),i=r;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),i=r;break;case"details":Gr("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Gr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=I({},r,{value:void 0}),Gr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Gr("invalid",e)}for(a in xe(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Gr("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return il(t),null;case 6:if(e&&null!=t.stateNode)Ko(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=aa(sa.current),aa(ra.current),ks(t)){if(r=t.stateNode,n=t.memoizedProps,r[Si]=t,(a=r.nodeValue!==n)&&null!==(e=ps))switch(e.tag){case 3:ui(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ui(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Si]=t,t.stateNode=r}return il(t),null;case 13:if(Ii(da),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(gs&&null!==ms&&0!==(1&t.mode)&&0===(128&t.flags))Ss(),js(),t.flags|=98560,a=!1;else if(a=ks(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Si]=t}else js(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),a=!1}else null!==xs&&(yc(xs),xs=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&da.current)?0===Kl&&(Kl=3):Ec())),null!==t.updateQueue&&(t.flags|=4),il(t),null);case 4:return la(),Vo(e,t),null===e&&ei(t.stateNode.containerInfo),il(t),null;case 10:return zs(t.type._context),il(t),null;case 19:if(Ii(da),null===(a=t.memoizedState))return il(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)rl(a,!1);else{if(0!==Kl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ha(e))){for(t.flags|=128,rl(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fi(da,1&da.current|2),t.child}e=e.sibling}null!==a.tail&&at()>ec&&(t.flags|=128,r=!0,rl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ha(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!gs)return il(t),null}else 2*at()-a.renderingStartTime>ec&&1073741824!==n&&(t.flags|=128,r=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=at(),t.sibling=null,n=da.current,Fi(da,r?1&n|2:1&n),t):(il(t),null);case 22:case 23:return kc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Vl)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function al(e,t){switch(fs(t),t.tag){case 1:return Vi(t.type)&&Hi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return la(),Ii(Ui),Ii(Bi),pa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ua(t),null;case 13:if(Ii(da),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));js()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(da),null;case 4:return la(),null;case 10:return zs(t.type._context),null;case 22:case 23:return kc(),null;default:return null}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vo=function(){},Ho=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,aa(ra.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=I({},i,{value:void 0}),r=I({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=di)}for(u in xe(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Gr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ko=function(e,t,n,r){n!==r&&(t.flags|=4)};var ol=!1,ll=!1,cl="function"===typeof WeakSet?WeakSet:Set,ul=null;function dl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(et){Lc(e,t,et)}else n.current=null}function hl(e,t,n){try{n()}catch(et){Lc(e,t,et)}}var fl=!1;function pl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&hl(t,n,s)}i=i.next}while(i!==r)}}function ml(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function xl(e){var t=e.alternate;null!==t&&(e.alternate=null,xl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Si],delete t[ji],delete t[Ei],delete t[Ci],delete t[Mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yl(e){return 5===e.tag||3===e.tag||4===e.tag}function vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||yl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=di));else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function wl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}var _l=null,kl=!1;function Sl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(gt&&"function"===typeof gt.onCommitFiberUnmount)try{gt.onCommitFiberUnmount(mt,n)}catch(Ze){}switch(n.tag){case 5:ll||dl(n,t);case 6:var r=_l,i=kl;_l=null,Sl(e,t,n),kl=i,null!==(_l=r)&&(kl?(e=_l,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):_l.removeChild(n.stateNode));break;case 18:null!==_l&&(kl?(e=_l,n=n.stateNode,8===e.nodeType?bi(e.parentNode,n):1===e.nodeType&&bi(e,n),en(e)):bi(_l,n.stateNode));break;case 4:r=_l,i=kl,_l=n.stateNode.containerInfo,kl=!0,Sl(e,t,n),_l=r,kl=i;break;case 0:case 11:case 14:case 15:if(!ll&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&hl(n,t,a),i=i.next}while(i!==r)}Sl(e,t,n);break;case 1:if(!ll&&(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Ze){Lc(n,t,Ze)}Sl(e,t,n);break;case 21:Sl(e,t,n);break;case 22:1&n.mode?(ll=(r=ll)||null!==n.memoizedState,Sl(e,t,n),ll=r):Sl(e,t,n);break;default:Sl(e,t,n)}}function Nl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cl),t.forEach((function(t){var r=Bc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function El(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:_l=l.stateNode,kl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(null===_l)throw Error(s(160));jl(a,o,i),_l=null,kl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Ge){Lc(i,t,Ge)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Cl(t,e),t=t.sibling}function Cl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(El(t,e),Ml(e),4&r){try{pl(3,e,e.return),ml(3,e)}catch($e){Lc(e,e.return,$e)}try{pl(5,e,e.return)}catch($e){Lc(e,e.return,$e)}}break;case 1:El(t,e),Ml(e),512&r&&null!==n&&dl(n,n.return);break;case 5:if(El(t,e),Ml(e),512&r&&null!==n&&dl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch($e){Lc(e,e.return,$e)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&G(i,a),ye(l,o);var u=ye(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):v(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[ji]=a}catch($e){Lc(e,e.return,$e)}}break;case 6:if(El(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch($e){Lc(e,e.return,$e)}}break;case 3:if(El(t,e),Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{en(t.containerInfo)}catch($e){Lc(e,e.return,$e)}break;case 4:default:El(t,e),Ml(e);break;case 13:El(t,e),Ml(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Zl=at())),4&r&&Nl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(ll=(u=ll)||d,El(t,e),ll=u):El(t,e),Ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(ul=e,d=e.child;null!==d;){for(h=ul=d;null!==ul;){switch(p=(f=ul).child,f.tag){case 0:case 11:case 14:case 15:pl(4,f,f.return);break;case 1:dl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch($e){Lc(r,n,$e)}}break;case 5:dl(f,f.return);break;case 22:if(null!==f.memoizedState){Al(h);continue}}null!==p?(p.return=f,ul=p):Al(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch($e){Lc(e,e.return,$e)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch($e){Lc(e,e.return,$e)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:El(t,e),Ml(e),4&r&&Nl(e);case 21:}}function Ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(yl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),wl(e,vl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;bl(e,vl(e),a);break;default:throw Error(s(161))}}catch(dt){Lc(e,e.return,dt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Pl(e,t,n){ul=e,Dl(e,t,n)}function Dl(e,t,n){for(var r=0!==(1&e.mode);null!==ul;){var i=ul,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||ol;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||ll;o=ol;var c=ll;if(ol=a,(ll=l)&&!c)for(ul=i;null!==ul;)l=(a=ul).child,22===a.tag&&null!==a.memoizedState?Tl(i):null!==l?(l.return=a,ul=l):Tl(i);for(;null!==s;)ul=s,Dl(s,t,n),s=s.sibling;ul=i,ol=o,ll=c}Ol(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,ul=s):Ol(e)}}function Ol(e){for(;null!==ul;){var t=ul;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ll||ml(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ll)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:po(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ta(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ta(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&en(h)}}}break;default:throw Error(s(163))}ll||512&t.flags&&gl(t)}catch(He){Lc(t,t.return,He)}}if(t===e){ul=null;break}if(null!==(n=t.sibling)){n.return=t.return,ul=n;break}ul=t.return}}function Al(e){for(;null!==ul;){var t=ul;if(t===e){ul=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ul=n;break}ul=t.return}}function Tl(e){for(;null!==ul;){var t=ul;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ml(4,t)}catch(dt){Lc(t,n,dt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(dt){Lc(t,i,dt)}}var s=t.return;try{gl(t)}catch(dt){Lc(t,s,dt)}break;case 5:var a=t.return;try{gl(t)}catch(dt){Lc(t,a,dt)}}}catch(dt){Lc(t,t.return,dt)}if(t===e){ul=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ul=o;break}ul=t.return}}var Rl,Ll=Math.ceil,Il=b.ReactCurrentDispatcher,Fl=b.ReactCurrentOwner,zl=b.ReactCurrentBatchConfig,Bl=0,Ul=null,Wl=null,$l=0,Vl=0,Hl=Li(0),Kl=0,ql=null,Yl=0,Ql=0,Xl=0,Gl=null,Jl=null,Zl=0,ec=1/0,tc=null,nc=!1,rc=null,ic=null,sc=!1,ac=null,oc=0,lc=0,cc=null,uc=-1,dc=0;function hc(){return 0!==(6&Bl)?at():-1!==uc?uc:uc=at()}function fc(e){return 0===(1&e.mode)?1:0!==(2&Bl)&&0!==$l?$l&-$l:null!==Es.transition?(0===dc&&(dc=Et()),dc):0!==(e=Dt)?e:e=void 0===(e=window.event)?16:cn(e.type)}function pc(e,t,n,r){if(50<lc)throw lc=0,cc=null,Error(s(185));Mt(e,n,r),0!==(2&Bl)&&e===Ul||(e===Ul&&(0===(2&Bl)&&(Ql|=n),4===Kl&&vc(e,$l)),mc(e,r),1===n&&0===Bl&&0===(1&t.mode)&&(ec=at()+500,Gi&&es()))}function mc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-xt(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=St(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=kt(e,e===Ul?$l:0);if(0===r)null!==n&&nt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&nt(n),1===t)0===e.tag?function(e){Gi=!0,Zi(e)}(bc.bind(null,e)):Zi(bc.bind(null,e)),yi((function(){0===(6&Bl)&&es()})),n=null;else{switch(Ot(r)){case 1:n=ct;break;case 4:n=ut;break;case 16:default:n=ht;break;case 536870912:n=pt}n=Uc(n,gc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gc(e,t){if(uc=-1,dc=0,0!==(6&Bl))throw Error(s(327));var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=kt(e,e===Ul?$l:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Cc(e,r);else{t=r;var i=Bl;Bl|=2;var a=Nc();for(Ul===e&&$l===t||(tc=null,ec=at()+500,Sc(e,t));;)try{Pc();break}catch(Ze){jc(e,Ze)}Fs(),Il.current=a,Bl=i,null!==Wl?t=0:(Ul=null,$l=0,t=Kl)}if(0!==t){if(2===t&&(0!==(i=Nt(e))&&(r=i,t=xc(e,i))),1===t)throw n=ql,Sc(e,0),vc(e,r),mc(e,at()),n;if(6===t)vc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Cc(e,r))&&(0!==(a=Nt(e))&&(r=a,t=xc(e,a))),1===t))throw n=ql,Sc(e,0),vc(e,r),mc(e,at()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ac(e,Jl,tc);break;case 3:if(vc(e,r),(130023424&r)===r&&10<(t=Zl+500-at())){if(0!==kt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){hc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mi(Ac.bind(null,e,Jl,tc),t);break}Ac(e,Jl,tc);break;case 4:if(vc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-xt(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=at()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ll(r/1960))-r)){e.timeoutHandle=mi(Ac.bind(null,e,Jl,tc),r);break}Ac(e,Jl,tc);break;default:throw Error(s(329))}}}return mc(e,at()),e.callbackNode===n?gc.bind(null,e):null}function xc(e,t){var n=Gl;return e.current.memoizedState.isDehydrated&&(Sc(e,t).flags|=256),2!==(e=Cc(e,t))&&(t=Jl,Jl=n,null!==t&&yc(t)),e}function yc(e){null===Jl?Jl=e:Jl.push.apply(Jl,e)}function vc(e,t){for(t&=~Xl,t&=~Ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function bc(e){if(0!==(6&Bl))throw Error(s(327));Tc();var t=kt(e,0);if(0===(1&t))return mc(e,at()),null;var n=Cc(e,t);if(0!==e.tag&&2===n){var r=Nt(e);0!==r&&(t=r,n=xc(e,r))}if(1===n)throw n=ql,Sc(e,0),vc(e,t),mc(e,at()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Jl,tc),mc(e,at()),null}function wc(e,t){var n=Bl;Bl|=1;try{return e(t)}finally{0===(Bl=n)&&(ec=at()+500,Gi&&es())}}function _c(e){null!==ac&&0===ac.tag&&0===(6&Bl)&&Tc();var t=Bl;Bl|=1;var n=zl.transition,r=Dt;try{if(zl.transition=null,Dt=1,e)return e()}finally{Dt=r,zl.transition=n,0===(6&(Bl=t))&&es()}}function kc(){Vl=Hl.current,Ii(Hl)}function Sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,gi(n)),null!==Wl)for(n=Wl.return;null!==n;){var r=n;switch(fs(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Hi();break;case 3:la(),Ii(Ui),Ii(Bi),pa();break;case 5:ua(r);break;case 4:la();break;case 13:case 19:Ii(da);break;case 10:zs(r.type._context);break;case 22:case 23:kc()}n=n.return}if(Ul=e,Wl=e=Hc(e.current,null),$l=Vl=t,Kl=0,ql=null,Xl=Ql=Yl=0,Jl=Gl=null,null!==$s){for(t=0;t<$s.length;t++)if(null!==(r=(n=$s[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}$s=null}return e}function jc(e,t){for(;;){var n=Wl;try{if(Fs(),ma.current=co,wa){for(var r=ya.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}wa=!1}if(xa=0,ba=va=ya=null,_a=!1,ka=0,Fl.current=null,null===n||null===n.return){Kl=1,ql=t,Wl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=$l,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Co(o);if(null!==p){p.flags&=-257,Mo(p,o,l,0,t),1&p.mode&&Eo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){Eo(a,u,t),Ec();break e}c=Error(s(426))}else if(gs&&1&l.mode){var x=Co(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),Mo(x,o,l,0,t),Ns(wo(c,l));break e}}a=c=wo(c,l),4!==Kl&&(Kl=2),null===Gl?Gl=[a]:Gl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Zs(a,jo(0,c,t));break e;case 1:l=c;var y=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===ic||!ic.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Zs(a,No(a,l,t));break e}}a=a.return}while(null!==a)}Oc(n)}catch(b){t=b,Wl===n&&null!==n&&(Wl=n=n.return);continue}break}}function Nc(){var e=Il.current;return Il.current=co,null===e?co:e}function Ec(){0!==Kl&&3!==Kl&&2!==Kl||(Kl=4),null===Ul||0===(268435455&Yl)&&0===(268435455&Ql)||vc(Ul,$l)}function Cc(e,t){var n=Bl;Bl|=2;var r=Nc();for(Ul===e&&$l===t||(tc=null,Sc(e,t));;)try{Mc();break}catch(We){jc(e,We)}if(Fs(),Bl=n,Il.current=r,null!==Wl)throw Error(s(261));return Ul=null,$l=0,Kl}function Mc(){for(;null!==Wl;)Dc(Wl)}function Pc(){for(;null!==Wl&&!rt();)Dc(Wl)}function Dc(e){var t=Rl(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,null===t?Oc(e):Wl=t,Fl.current=null}function Oc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=sl(n,t,Vl)))return void(Wl=n)}else{if(null!==(n=al(n,t)))return n.flags&=32767,void(Wl=n);if(null===e)return Kl=6,void(Wl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Wl=t);Wl=t=e}while(null!==t);0===Kl&&(Kl=5)}function Ac(e,t,n){var r=Dt,i=zl.transition;try{zl.transition=null,Dt=1,function(e,t,n,r){do{Tc()}while(null!==ac);if(0!==(6&Bl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ul&&(Wl=Ul=null,$l=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||sc||(sc=!0,Uc(ht,(function(){return Tc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=zl.transition,zl.transition=null;var o=Dt;Dt=1;var l=Bl;Bl|=4,Fl.current=null,function(e,t){if(hi=nn,jr(e=Sr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(jt){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fi={focusedElem:e,selectionRange:n},nn=!1,ul=t;null!==ul;)if(e=(t=ul).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ul=e;else for(;null!==ul;){t=ul;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,x=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:po(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(jt){Lc(t,t.return,jt)}if(null!==(e=t.sibling)){e.return=t.return,ul=e;break}ul=t.return}m=fl,fl=!1}(e,n),Cl(n,e),Nr(fi),nn=!!hi,fi=hi=null,e.current=n,Pl(n,e,i),st(),Bl=l,Dt=o,zl.transition=a}else e.current=n;if(sc&&(sc=!1,ac=e,oc=i),a=e.pendingLanes,0===a&&(ic=null),function(e){if(gt&&"function"===typeof gt.onCommitFiberRoot)try{gt.onCommitFiberRoot(mt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),mc(e,at()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nc)throw nc=!1,e=rc,rc=null,e;0!==(1&oc)&&0!==e.tag&&Tc(),a=e.pendingLanes,0!==(1&a)?e===cc?lc++:(lc=0,cc=e):lc=0,es()}(e,t,n,r)}finally{zl.transition=i,Dt=r}return null}function Tc(){if(null!==ac){var e=Ot(oc),t=zl.transition,n=Dt;try{if(zl.transition=null,Dt=16>e?16:e,null===ac)var r=!1;else{if(e=ac,ac=null,oc=0,0!==(6&Bl))throw Error(s(331));var i=Bl;for(Bl|=4,ul=e.current;null!==ul;){var a=ul,o=a.child;if(0!==(16&ul.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ul=u;null!==ul;){var d=ul;switch(d.tag){case 0:case 11:case 15:pl(8,d,a)}var h=d.child;if(null!==h)h.return=d,ul=h;else for(;null!==ul;){var f=(d=ul).sibling,p=d.return;if(xl(d),d===u){ul=null;break}if(null!==f){f.return=p,ul=f;break}ul=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}ul=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,ul=o;else e:for(;null!==ul;){if(0!==(2048&(a=ul).flags))switch(a.tag){case 0:case 11:case 15:pl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ul=y;break e}ul=a.return}}var v=e.current;for(ul=v;null!==ul;){var b=(o=ul).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,ul=b;else e:for(o=v;null!==ul;){if(0!==(2048&(l=ul).flags))try{switch(l.tag){case 0:case 11:case 15:ml(9,l)}}catch(_){Lc(l,l.return,_)}if(l===o){ul=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,ul=w;break e}ul=l.return}}if(Bl=i,es(),gt&&"function"===typeof gt.onPostCommitFiberRoot)try{gt.onPostCommitFiberRoot(mt,e)}catch(_){}r=!0}return r}finally{Dt=n,zl.transition=t}}return!1}function Rc(e,t,n){e=Gs(e,t=jo(0,t=wo(n,t),1),1),t=hc(),null!==e&&(Mt(e,1,t),mc(e,t))}function Lc(e,t,n){if(3===e.tag)Rc(e,e,n);else for(;null!==t;){if(3===t.tag){Rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ic||!ic.has(r))){t=Gs(t,e=No(t,e=wo(n,e),1),1),e=hc(),null!==t&&(Mt(t,1,e),mc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hc(),e.pingedLanes|=e.suspendedLanes&n,Ul===e&&($l&n)===n&&(4===Kl||3===Kl&&(130023424&$l)===$l&&500>at()-Zl?Sc(e,0):Xl|=n),mc(e,t)}function Fc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=wt,0===(130023424&(wt<<=1))&&(wt=4194304)));var n=hc();null!==(e=Ks(e,t))&&(Mt(e,t,n),mc(e,n))}function zc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fc(e,n)}function Bc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Fc(e,n)}function Uc(e,t){return Xe(e,t)}function Wc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $c(e,t,n,r){return new Wc(e,t,n,r)}function Vc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var n=e.alternate;return null===n?((n=$c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Vc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return qc(n.children,i,a,t);case S:o=8,i|=8;break;case j:return(e=$c(12,n,t,2|i)).elementType=j,e.lanes=a,e;case M:return(e=$c(13,n,t,i)).elementType=M,e.lanes=a,e;case P:return(e=$c(19,n,t,i)).elementType=P,e.lanes=a,e;case A:return Yc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case E:o=9;break e;case C:o=11;break e;case D:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=$c(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function qc(e,t,n,r){return(e=$c(7,e,r,t)).lanes=n,e}function Yc(e,t,n,r){return(e=$c(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Qc(e,t,n){return(e=$c(6,e,null,t)).lanes=n,e}function Xc(e,t,n){return(t=$c(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ct(0),this.expirationTimes=Ct(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jc(e,t,n,r,i,s,a,o,l){return e=new Gc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=$c(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ys(s),e}function Zc(e){if(!e)return zi;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Vi(n))return qi(e,n,t)}return t}function eu(e,t,n,r,i,s,a,o,l){return(e=Jc(n,r,!0,e,0,s,0,o,l)).context=Zc(null),n=e.current,(s=Xs(r=hc(),i=fc(n))).callback=void 0!==t&&null!==t?t:null,Gs(n,s,i),e.current.lanes=i,Mt(e,i,r),mc(e,r),e}function tu(e,t,n,r){var i=t.current,s=hc(),a=fc(i);return n=Zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Xs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Gs(i,t,a))&&(pc(e,i,a,s),Js(e,i,a)),a}function nu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ru(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function iu(e,t){ru(e,t),(e=e.alternate)&&ru(e,t)}Rl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ui.current)Do=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Do=!1,function(e,t,n){switch(t.tag){case 3:Uo(t),js();break;case 5:ca(t);break;case 1:Vi(t.type)&&Yi(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fi(Ts,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fi(da,1&da.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Qo(e,t,n):(Fi(da,1&da.current),null!==(e=nl(e,t,n))?e.sibling:null);Fi(da,1&da.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return el(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fi(da,da.current),r)break;return null;case 22:case 23:return t.lanes=0,Lo(e,t,n)}return nl(e,t,n)}(e,t,n);Do=0!==(131072&e.flags)}else Do=!1,gs&&0!==(1048576&t.flags)&&ds(t,is,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tl(e,t),e=t.pendingProps;var i=$i(t,Bi.current);Us(t,n),i=Ea(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vi(r)?(a=!0,Yi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ys(t),i.updater=go,t.stateNode=i,i._reactInternals=t,bo(t,r,e,n),t=Bo(null,t,r,!0,a,n)):(t.tag=0,gs&&a&&hs(t),Oo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Vc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=po(r,e),i){case 0:t=Fo(null,t,r,e,n);break e;case 1:t=zo(null,t,r,e,n);break e;case 11:t=Ao(null,t,r,e,n);break e;case 14:t=To(null,t,r,po(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:po(r,i),n);case 1:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:po(r,i),n);case 3:e:{if(Uo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Qs(e,t),ea(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Wo(e,t,r,n,i=wo(Error(s(423)),t));break e}if(r!==i){t=Wo(e,t,r,n,i=wo(Error(s(424)),t));break e}for(ms=wi(t.stateNode.containerInfo.firstChild),ps=t,gs=!0,xs=null,n=As(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(js(),r===i){t=nl(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 5:return ca(t),null===e&&ws(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,pi(r,i)?o=null:null!==a&&pi(r,a)&&(t.flags|=32),Io(e,t),Oo(e,t,o,n),t.child;case 6:return null===e&&ws(t),null;case 13:return Qo(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Os(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:po(r,i),n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Fi(Ts,r._currentValue),r._currentValue=o,null!==a)if(vr(a.value,o)){if(a.children===i.children&&!Ui.current){t=nl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Xs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Bs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Bs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Oo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Us(t,n),r=r(i=Ws(i)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return i=po(r=t.type,t.pendingProps),To(e,t,r,i=po(r.type,i),n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),tl(e,t),t.tag=1,Vi(r)?(e=!0,Yi(t)):e=!1,Us(t,n),yo(t,r,i),bo(t,r,i,n),Bo(null,t,r,!0,e,n);case 19:return el(e,t,n);case 22:return Lo(e,t,n)}throw Error(s(156,t.tag))};var su="function"===typeof reportError?reportError:function(e){console.error(e)};function au(e){this._internalRoot=e}function ou(e){this._internalRoot=e}function lu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function cu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function uu(){}function du(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=nu(a);o.call(e)}}tu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=nu(a);s.call(e)}}var a=eu(t,r,e,0,null,!1,0,"",uu);return e._reactRootContainer=a,e[Ni]=a.current,ei(8===e.nodeType?e.parentNode:e),_c(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=nu(l);o.call(e)}}var l=Jc(e,0,!1,null,0,!1,0,"",uu);return e._reactRootContainer=l,e[Ni]=l.current,ei(8===e.nodeType?e.parentNode:e),_c((function(){tu(t,l,n,r)})),l}(n,t,e,i,r);return nu(a)}ou.prototype.render=au.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));tu(e,t,null,null)},ou.prototype.unmount=au.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;_c((function(){tu(null,e,null,null)})),t[Ni]=null}},ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ht.length&&0!==t&&t<Ht[n].priority;n++);Ht.splice(n,0,e),0===n&&Qt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_t(t.pendingLanes);0!==n&&(Pt(t,1|n),mc(t,at()),0===(6&Bl)&&(ec=at()+500,es()))}break;case 13:_c((function(){var t=Ks(e,1);if(null!==t){var n=hc();pc(t,e,1,n)}})),iu(e,1)}},Tt=function(e){if(13===e.tag){var t=Ks(e,134217728);if(null!==t)pc(t,e,134217728,hc());iu(e,134217728)}},Rt=function(e){if(13===e.tag){var t=fc(e),n=Ks(e,t);if(null!==n)pc(n,e,t,hc());iu(e,t)}},Lt=function(){return Dt},It=function(e,t){var n=Dt;try{return Dt=e,t()}finally{Dt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(s(90));q(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=wc,Ce=_c;var hu={usingClientEntryPoint:!1,Events:[Di,Oi,Ai,je,Ne,wc]},fu={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pu={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{mt=mu.inject(pu),gt=mu}catch(Qe){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!lu(e))throw Error(s(299));var n=!1,r="",i=su;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Jc(e,1,!1,null,0,n,0,r,i),e[Ni]=t.current,ei(8===e.nodeType?e.parentNode:e),new au(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return _c(e)},t.hydrate=function(e,t,n){if(!cu(t))throw Error(s(200));return du(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!lu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=su;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=eu(t,null,e,1,null!=n?n:null,i,0,a,o),e[Ni]=t.current,ei(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ou(t)},t.render=function(e,t,n){if(!cu(t))throw Error(s(200));return du(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!cu(e))throw Error(s(40));return!!e._reactRootContainer&&(_c((function(){du(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ni]=null}))})),!0)},t.unstable_batchedUpdates=wc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return du(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".f82a8488.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="spendwise:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkspendwise=self.webpackChunkspendwise||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(43),s=n.t(i,2),a=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(We){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=r.Pop,m=null,g=x();function x(){return(u.state||{idx:null}).idx}function y(){p=r.Pop;let e=x(),t=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(b.location,e,t);n&&n(i,e),g=x()+1;let o=d(i,g),l=b.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(b.location,e,t);n&&n(i,e),g=x();let s=d(i,g),o=b.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=O(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let s=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=D(i);a=M(s[o],e,r)}return a}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=I([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=b(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,_=3,k=2,S=1,j=10,N=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=N),t&&(r+=k),n.filter((e=>!E(e))).reduce(((e,t)=>e+(w.test(t)?_:""===t?S:j)),r)}function M(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:I([s,u.pathname]),pathnameBase:F(I([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=I([s,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function T(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=T(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:B(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const I=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],$=(new Set(W),["get",...W]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const H=i.createContext(null);const K=i.createContext(null);const q=i.createContext(null);const Y=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function G(){return null!=i.useContext(Y)}function J(){return G()||c(!1),i.useContext(Y).location}function Z(e){i.useContext(q).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);Z((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,V({fromRouteId:t},i)))}),[e,t]);return r}():function(){G()||c(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(q),{matches:s}=i.useContext(Q),{pathname:a}=J(),o=JSON.stringify(R(s,n.v7_relativeSplatPath)),l=i.useRef(!1);Z((()=>{l.current=!0}));let u=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=L(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:I([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,o,a,e]);return u}()}const te=i.createContext(null);function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(q),{matches:s}=i.useContext(Q),{pathname:a}=J(),o=JSON.stringify(R(s,r.v7_relativeSplatPath));return i.useMemo((()=>L(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function re(e,t,n,s){G()||c(!1);let{navigator:a,static:o}=i.useContext(q),{matches:l}=i.useContext(Q),u=l[l.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,m=J();if(t){var g;let e="string"===typeof t?p(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),f=e}else f=m;let y=f.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!o&&n&&n.matches&&n.matches.length>0?n.matches:x(e,{pathname:v});let w=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:I([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:I([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,s);return t&&w?i.createElement(Y.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},w):w}function ie(){let e=function(){var e;let t=i.useContext(X),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,r,s)=>{let a,c=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,u&&(d<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):d===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(H);return t||c(!1),t}function he(e){let t=i.useContext(K);return t||c(!1),t}function fe(e){let t=function(){let e=i.useContext(Q);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:s}=e;G()||c(!1);let{future:a,static:o}=i.useContext(q),{matches:l}=i.useContext(Q),{pathname:u}=J(),d=ee(),h=L(t,R(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:s})),[d,f,s,n,r]),null}function xe(e){return function(e){let t=i.useContext(Q).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function ye(e){c(!1)}function ve(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;G()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:o,static:l,future:V({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:y="default"}=s,v=i.useMemo((()=>{let e=O(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:x,key:y},navigationType:a}}),[d,f,m,g,x,y,a]);return null==v?null:i.createElement(q.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:v}))}function be(e){let{children:t,location:n}=e;return re(we(t),n)}new Promise((()=>{}));i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ye&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,s)),n.push(a)})),n}var _e=n(950),ke=n.t(_e,2);function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(We){}new Map;const Ee=s.startTransition;ke.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback((e=>{d&&Ee?Ee((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(p)),[l,p]),i.useEffect((()=>me(r)),[r]),i.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Me="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=je(e,Ne),{basename:g}=i.useContext(q),x=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,Me))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:x=!0}catch(We){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;G()||c(!1);let{basename:r,navigator:s}=i.useContext(q),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:I([r,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),v=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),d=ne(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,d,r,s,n,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:p});return i.createElement("a",Se({},m,{href:n||y,onClick:x||a?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:u}))}));var Oe,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));const Te="http://localhost:5000/api",Re=async e=>{if(!e.ok){const t=(await e.json().catch((()=>({})))).error||`Error: ${e.status}`;throw new Error(t)}return e.json()},Le=async e=>{const t=await fetch(`${Te}/expenses/user/${e}`);return Re(t)},Ie=async()=>{const e=await fetch(`${Te}/expenses`);return Re(e)};var Fe=n(579);const ze=(0,i.createContext)(void 0),Be=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("currentUser");e&&r(JSON.parse(e))}catch(e){console.error("Error restoring user session:",e),localStorage.removeItem("currentUser")}finally{a(!1)}})()}),[]);const o="manager"===(null===n||void 0===n?void 0:n.role),l={currentUser:n,isLoading:s,login:async(e,t)=>{try{a(!0);const n=await(async(e,t)=>{const n=await fetch(`${Te}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});return Re(n)})(e,t);return!!n&&(r(n),localStorage.setItem("currentUser",JSON.stringify(n)),!0)}catch(n){return console.error("Login error:",n),!1}finally{a(!1)}},logout:()=>{r(null),localStorage.removeItem("currentUser")},isAuthenticated:!!n,isManager:o,updateUserPreferredCurrency:async e=>{if(n)try{const t={...n,preferredCurrency:e};await(async e=>{const t=await fetch(`${Te}/users/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return Re(t)})(t),r(t),localStorage.setItem("currentUser",JSON.stringify(t))}catch(t){throw console.error("Error updating currency preference:",t),t}}};return(0,Fe.jsx)(ze.Provider,{value:l,children:t})},Ue=()=>{const e=(0,i.useContext)(ze);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},We="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,$e=Object.keys,Ve=Array.isArray;function He(e,t){return"object"!=typeof t||$e(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||We.Promise||(We.Promise=Promise);const Ke=Object.getPrototypeOf,qe={}.hasOwnProperty;function Ye(e,t){return qe.call(e,t)}function Qe(e,t){"function"==typeof t&&(t=t(Ke(e))),("undefined"==typeof Reflect?$e:Reflect.ownKeys)(t).forEach((n=>{Ge(e,n,t[n])}))}const Xe=Object.defineProperty;function Ge(e,t,n,r){Xe(e,t,He(n&&Ye(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Je(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ge(e.prototype,"constructor",e),{extend:Qe.bind(null,e.prototype)}}}}const Ze=Object.getOwnPropertyDescriptor;function et(e,t){let n;return Ze(e,t)||(n=Ke(e))&&et(n,t)}const tt=[].slice;function nt(e,t,n){return tt.call(e,t,n)}function rt(e,t){return t(e)}function it(e){if(!e)throw new Error("Assertion Failed")}function st(e){We.setImmediate?setImmediate(e):setTimeout(e,0)}function at(e,t){return e.reduce(((e,n,r)=>{var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function ot(e,t){if("string"==typeof t&&Ye(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var s=ot(e,t[r]);n.push(s)}return n}var a=t.indexOf(".");if(-1!==a){var o=e[t.substr(0,a)];return null==o?void 0:ot(o,t.substr(a+1))}}function lt(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){it("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)lt(e,t[r],n[r])}else{var s=t.indexOf(".");if(-1!==s){var a=t.substr(0,s),o=t.substr(s+1);if(""===o)void 0===n?Ve(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var l=e[a];l&&Ye(e,a)||(l=e[a]={}),lt(l,o,n)}}else void 0===n?Ve(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ct(e){var t={};for(var n in e)Ye(e,n)&&(t[n]=e[n]);return t}const ut=[].concat;function dt(e){return ut.apply([],e)}const ht="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(dt([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>We[e])),ft=ht.map((e=>We[e]));at(ht,(e=>[e,!0]));let pt=null;function mt(e){pt="undefined"!=typeof WeakMap&&new WeakMap;const t=gt(e);return pt=null,t}function gt(e){if(!e||"object"!=typeof e)return e;let t=pt&&pt.get(e);if(t)return t;if(Ve(e)){t=[],pt&&pt.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(gt(e[n]))}else if(ft.indexOf(e.constructor)>=0)t=e;else{const n=Ke(e);for(var i in t=n===Object.prototype?{}:Object.create(n),pt&&pt.set(e,t),e)Ye(e,i)&&(t[i]=gt(e[i]))}return t}const{toString:xt}={};function yt(e){return xt.call(e).slice(8,-1)}const vt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",bt="symbol"==typeof vt?function(e){var t;return null!=e&&(t=e[vt])&&t.apply(e)}:function(){return null},wt={};function _t(e){var t,n,r,i;if(1===arguments.length){if(Ve(e))return e.slice();if(this===wt&&"string"==typeof e)return[e];if(i=bt(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const kt="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var St="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function jt(e,t){St=e,Nt=t}var Nt=()=>!0;const Et=!new Error("").stack;function Ct(){if(Et)try{throw Ct.arguments,new Error}catch(We){return We}return new Error}function Mt(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Nt).map((e=>"\n"+e)).join("")):""}var Pt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Dt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Pt),Ot={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function At(e,t){this._e=Ct(),this.name=e,this.message=t}function Tt(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Rt(e,t,n,r){this._e=Ct(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Tt(e,t)}function Lt(e,t){this._e=Ct(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Tt(e,t)}Je(At).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Mt(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Je(Rt).from(At),Je(Lt).from(At);var It=Dt.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Ft=At;var zt=Dt.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=Ct(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Ot[t]||n,this.inner=null)}return Je(r).from(Ft),e[t]=r,e}),{});zt.Syntax=SyntaxError,zt.Type=TypeError,zt.Range=RangeError;var Bt=Pt.reduce(((e,t)=>(e[t+"Error"]=zt[t],e)),{}),Ut=Dt.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=zt[t]),e)),{});function Wt(){}function $t(e){return e}function Vt(e,t){return null==e||e===$t?t:function(n){return t(e(n))}}function Ht(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Kt(e,t){return e===Wt?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ht(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ht(i,this.onerror):i),void 0!==s?s:n}}function qt(e,t){return e===Wt?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ht(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ht(r,this.onerror):r)}}function Yt(e,t){return e===Wt?t:function(n){var r=e.apply(this,arguments);He(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ht(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Ht(s,this.onerror):s),void 0===r?void 0===a?void 0:a:He(r,a)}}function Qt(e,t){return e===Wt?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Xt(e,t){return e===Wt?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then((function(){return t.apply(r,s)}))}return t.apply(this,arguments)}}Ut.ModifyError=Rt,Ut.DexieError=At,Ut.BulkError=Lt;var Gt={};const[Jt,Zt,en]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Ke(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ke(t),e]})(),tn=Zt&&Zt.then,nn=Jt&&Jt.constructor,rn=!!en;var sn=!1,an=en?()=>{en.then(Mn)}:We.setImmediate?setImmediate.bind(null,Mn):We.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Mn(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Mn,0)},on=function(e,t){gn.push([e,t]),cn&&(an(),cn=!1)},ln=!0,cn=!0,un=[],dn=[],hn=null,fn=$t,pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:er,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{er(e[0],e[1])}catch(e){}}))}},mn=pn,gn=[],xn=0,yn=[];function vn(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Wt,this._lib=!1;var t=this._PSD=mn;if(St&&(this._stackHolder=Ct(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Gt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&kn(this,this._value))}this._state=null,this._value=null,++t.ref,_n(this,e)}const bn={get:function(){var e=mn,t=zn;function n(n,r){var i=!e.global&&(e!==mn||t!==zn);const s=i&&!$n();var a=new vn(((t,a)=>{jn(this,new wn(Gn(n,e,i,s),Gn(r,e,i,s),t,a,e))}));return St&&Cn(a,this),a}return n.prototype=Gt,n},set:function(e){Ge(this,"then",e&&e.prototype===Gt?bn:{get:function(){return e},set:bn.set})}};function wn(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function _n(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Pn();t&&"function"==typeof t.then?_n(e,((e,n)=>{t instanceof vn?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Sn(e)),n&&Dn()}}),kn.bind(null,e))}catch(t){kn(e,t)}}function kn(e,t){if(dn.push(t),null===e._state){var n=e._lib&&Pn();t=fn(t),e._state=!1,e._value=t,St&&null!==t&&"object"==typeof t&&!t._promise&&function(e){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=et(t,"stack");t._promise=e,Ge(t,"stack",{get:()=>sn?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){un.some((t=>t._value===e._value))||un.push(e)}(e),Sn(e),n&&Dn()}}function Sn(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)jn(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===xn&&(++xn,on((()=>{0==--xn&&On()}),[]))}function jn(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++xn,on(Nn,[n,e,t])}else e._listeners.push(t)}function Nn(e,t,n){try{hn=t;var r,i=t._value;t._state?r=e(i):(dn.length&&(dn=[]),r=e(i),-1===dn.indexOf(i)&&function(e){for(var t=un.length;t;)if(un[--t]._value===e._value)return void un.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{hn=null,0==--xn&&On(),--n.psd.ref||n.psd.finalize()}}function En(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,s,a=e._value;null!=a?(i=a.name||"Error",s=a.message||a,r=Mt(a,0)):(i=a,s=""),t.push(i+(s?": "+s:"")+r)}return St&&((r=Mt(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&En(e._prev,t,n)),t}function Cn(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Mn(){Pn()&&Dn()}function Pn(){var e=ln;return ln=!1,cn=!1,e}function Dn(){var e,t,n;do{for(;gn.length>0;)for(e=gn,gn=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(gn.length>0);ln=!0,cn=!0}function On(){var e=un;un=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=yn.slice(0),n=t.length;n;)t[--n]()}function An(e){return new vn(Gt,!1,e)}function Tn(e,t){var n=mn;return function(){var r=Pn(),i=mn;try{return qn(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{qn(i,!1),r&&Dn()}}}Qe(vn.prototype,{then:bn,_then:function(e,t){jn(this,new wn(null,null,e,t,mn))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):An(e))):this.then(null,(e=>e&&e.name===t?n(e):An(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),An(t))))},stack:{get:function(){if(this._stack)return this._stack;try{sn=!0;var e=En(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{sn=!1}}},timeout:function(e,t){return e<1/0?new vn(((n,r)=>{var i=setTimeout((()=>r(new zt.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Ge(vn.prototype,Symbol.toStringTag,"Dexie.Promise"),pn.env=Yn(),Qe(vn,{all:function(){var e=_t.apply(null,arguments).map(Vn);return new vn((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((i,s)=>vn.resolve(i).then((n=>{e[s]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof vn)return e;if(e&&"function"==typeof e.then)return new vn(((t,n)=>{e.then(t,n)}));var t=new vn(Gt,!0,e);return Cn(t,hn),t},reject:An,race:function(){var e=_t.apply(null,arguments).map(Vn);return new vn(((t,n)=>{e.map((e=>vn.resolve(e).then(t,n)))}))},PSD:{get:()=>mn,set:e=>mn=e},totalEchoes:{get:()=>zn},newPSD:Un,usePSD:Qn,scheduler:{get:()=>on,set:e=>{on=e}},rejectionMapper:{get:()=>fn,set:e=>{fn=e}},follow:(e,t)=>new vn(((n,r)=>Un(((t,n)=>{var r=mn;r.unhandleds=[],r.onunhandled=n,r.finalize=Ht((function(){!function(e){yn.push((function t(){e(),yn.splice(yn.indexOf(t),1)})),++xn,on((()=>{0==--xn&&On()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),nn&&(nn.allSettled&&Ge(vn,"allSettled",(function(){const e=_t.apply(null,arguments).map(Vn);return new vn((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,i)=>vn.resolve(e).then((e=>r[i]={status:"fulfilled",value:e}),(e=>r[i]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),nn.any&&"undefined"!=typeof AggregateError&&Ge(vn,"any",(function(){const e=_t.apply(null,arguments).map(Vn);return new vn(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach(((e,s)=>vn.resolve(e).then((e=>t(e)),(e=>{i[s]=e,--r||n(new AggregateError(i))}))))}))})));const Rn={awaits:0,echoes:0,id:0};var Ln=0,In=[],Fn=0,zn=0,Bn=0;function Un(e,t,n,r){var i=mn,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++Bn;var a=pn.env;s.env=rn?{Promise:vn,PromiseProp:{value:vn,configurable:!0,writable:!0},all:vn.all,race:vn.race,allSettled:vn.allSettled,any:vn.any,resolve:vn.resolve,reject:vn.reject,nthen:Jn(a.nthen,s),gthen:Jn(a.gthen,s)}:{},t&&He(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=Qn(s,e,n,r);return 0===s.ref&&s.finalize(),o}function Wn(){return Rn.id||(Rn.id=++Ln),++Rn.awaits,Rn.echoes+=100,Rn.id}function $n(){return!!Rn.awaits&&(0==--Rn.awaits&&(Rn.id=0),Rn.echoes=100*Rn.awaits,!0)}function Vn(e){return Rn.echoes&&e&&e.constructor===nn?(Wn(),e.then((e=>($n(),e)),(e=>($n(),tr(e))))):e}function Hn(e){++zn,Rn.echoes&&0!=--Rn.echoes||(Rn.echoes=Rn.id=0),In.push(mn),qn(e,!0)}function Kn(){var e=In[In.length-1];In.pop(),qn(e,!1)}function qn(e,t){var n=mn;if((t?!Rn.echoes||Fn++&&e===mn:!Fn||--Fn&&e===mn)||Xn(t?Hn.bind(null,e):Kn),e!==mn&&(mn=e,n===pn&&(pn.env=Yn()),rn)){var r=pn.env.Promise,i=e.env;Zt.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(We,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Yn(){var e=We.Promise;return rn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(We,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Zt.then,gthen:e.prototype.then}:{}}function Qn(e,t,n,r,i){var s=mn;try{return qn(e,!0),t(n,r,i)}finally{qn(s,!1)}}function Xn(e){tn.call(Jt,e)}function Gn(e,t,n,r){return"function"!=typeof e?e:function(){var i=mn;n&&Wn(),qn(t,!0);try{return e.apply(this,arguments)}finally{qn(i,!1),r&&Xn($n)}}}function Jn(e,t){return function(n,r){return e.call(this,Gn(n,t),Gn(r,t))}}-1===(""+tn).indexOf("[native code]")&&(Wn=$n=Wt);const Zn="unhandledrejection";function er(e,t){var n;try{n=t.onuncatched(e)}catch(We){}if(!1!==n)try{var r,i={promise:t,reason:e};if(We.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Zn,!0,!0),He(r,i)):We.CustomEvent&&He(r=new CustomEvent(Zn,{detail:i}),i),r&&We.dispatchEvent&&(dispatchEvent(r),!We.PromiseRejectionEvent&&We.onunhandledrejection))try{We.onunhandledrejection(r)}catch(We){}St&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(We){}}var tr=vn.reject;function nr(e,t,n,r){if(e.idbdb&&(e._state.openComplete||mn.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===It.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>nr(e,t,n,r)))):tr(i)}return i._promise(t,((e,t)=>Un((()=>(mn.trans=i,r(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return tr(new zt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return tr(new zt.DatabaseClosed);e.open().catch(Wt)}return e._state.dbReadyPromise.then((()=>nr(e,t,n,r)))}const rr="3.2.7",ir=String.fromCharCode(65535),sr=-1/0,ar="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",or="String expected.",lr=[],cr="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ur=cr,dr=cr,hr=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),fr="__dbnames",pr="readonly",mr="readwrite";function gr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const xr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yr(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=mt(t))[e],t)}class vr{_trans(e,t,n){const r=this._tx||mn.trans,i=this.name;function s(e,n,r){if(!r.schema[i])throw new zt.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}const a=Pn();try{return r&&r.db===this.db?r===mn.trans?r._promise(e,s,n):Un((()=>r._promise(e,s,n)),{trans:r,transless:mn.transless||mn}):nr(this.db,e,[this.name],s)}finally{a&&Dn()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(Ve(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=$e(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>{if(e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))){for(let n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1})).sort(((e,t)=>e.keyPath.length-t.keyPath.length))[0];if(n&&this.db._maxKey!==ir){const r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map((t=>e[t])))}!n&&St&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,i=this.db._deps.indexedDB;function s(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}const[a,o]=t.reduce(((t,n)=>{let[i,a]=t;const o=r[n],l=e[n];return[i||o,i||!o?gr(a,o&&o.multi?e=>{const t=ot(e,n);return Ve(t)&&t.some((e=>s(l,e)))}:e=>s(l,ot(e,n))):a]}),[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(o):n?this.filter(o):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Ve(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(Ye(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){He(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=yr(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?vn.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{lt(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||Ve(e))return this.where(":id").equals(e).modify(t);{const n=ot(e,this.schema.primKey.keyPath);if(void 0===n)return tr(new zt.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?$e(t).forEach((n=>{lt(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=yr(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?vn.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{lt(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?vn.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:xr}))).then((e=>e.numFailures?vn.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:s}=this.schema.primKey;if(s&&r)throw new zt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new zt.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let o=s&&n?e.map(yr(s)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:o,wantResults:i}).then((e=>{let{numFailures:t,results:n,lastResult:r,failures:s}=e;if(0===t)return i?n:r;throw new Lt(`${this.name}.bulkAdd(): ${t} of ${a} operations failed`,s)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:s}=this.schema.primKey;if(s&&r)throw new zt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new zt.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let o=s&&n?e.map(yr(s)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:o,wantResults:i}).then((e=>{let{numFailures:t,results:n,lastResult:r,failures:s}=e;if(0===t)return i?n:r;throw new Lt(`${this.name}.bulkPut(): ${t} of ${a} operations failed`,s)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((e=>{let{numFailures:n,lastResult:r,failures:i}=e;if(0===n)return r;throw new Lt(`${this.name}.bulkDelete(): ${n} of ${t} operations failed`,i)}))}}function br(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,s=new Array(i-1);--i;)s[i-1]=arguments[i];return t[n].subscribe.apply(null,s),e}if("string"==typeof n)return t[n]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(e,r,i){if("object"!=typeof e){var a;r||(r=Qt),i||(i=Wt);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}$e(a=e).forEach((function(e){var t=a[e];if(Ve(t))s(e,a[e][0],a[e][1]);else{if("asap"!==t)throw new zt.InvalidArgument("Invalid event config");var n=s(e,$t,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){st((function(){e.apply(null,t)}))}))}))}}))}}function wr(e,t){return Je(t).from({prototype:e}),t}function _r(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function kr(e,t){e.filter=gr(e.filter,t)}function Sr(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>gr(r(),t()):t,e.justLimit=n&&!r}function jr(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new zt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Nr(e,t,n){const r=jr(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Er(e,t,n,r){const i=e.replayFilter?gr(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},a=(e,n,r)=>{if(!i||i(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,o=""+a;"[object ArrayBuffer]"===o&&(o=""+new Uint8Array(a)),Ye(s,o)||(s[o]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Cr(Nr(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Cr(Nr(e,r,n),gr(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Cr(e,t,n,r){var i=Tn(r?(e,t,i)=>n(r(e),t,i):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=Wt}),(t=>{e.fail(t),n=Wt}))||i(e.value,e,(e=>n=e)),n()}))}))}function Mr(e,t){try{const n=Pr(e),r=Pr(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let s=0;s<i;++s)if(e[s]!==t[s])return e[s]<t[s]?-1:1;return n===r?0:n<r?-1:1}(Dr(e),Dr(t));case"Array":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let s=0;s<i;++s){const n=Mr(e[s],t[s]);if(0!==n)return n}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Pr(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=yt(e);return"ArrayBuffer"===n?"binary":n}function Dr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Or{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,tr.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,tr.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=gr(t.algorithm,e)}_iterate(e,t){return Er(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&He(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>Er(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(_r(t,!0))return n.count({trans:e,query:{index:jr(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Er(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],i=n.length-1;function s(e,t){return t?s(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function o(e,t){var n=s(e,i),r=s(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(o)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&_r(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=jr(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((e=>{let{result:t}=e;return n?t.map(n):t}))}{const n=[];return Er(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,_r(t)?Sr(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Sr(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Sr(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return kr(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return kr(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=gr(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&_r(t,!0)&&t.limit>0)return this._read((e=>{var n=jr(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((e=>{let{result:t}=e;return t})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return kr(this._ctx,(function(e){var t=e.primaryKey.toString(),r=Ye(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var i=$e(e),s=i.length;r=function(t){for(var n=!1,r=0;r<s;++r){var a=i[r],o=e[a];ot(t,a)!==o&&(lt(t,a,o),n=!0)}return n}}const a=t.table.core,{outbound:o,extractKey:l}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let d=0;const h=[],f=(e,t)=>{const{failures:n,numFailures:r}=t;d+=e-r;for(let i of $e(n))u.push(n[i])};return this.clone().primaryKeys().then((i=>{const s=u=>{const d=Math.min(c,i.length-u);return a.getMany({trans:n,keys:i.slice(u,u+d),cache:"immutable"}).then((h=>{const p=[],m=[],g=o?[]:null,x=[];for(let e=0;e<d;++e){const t=h[e],n={value:mt(t),primKey:i[u+e]};!1!==r.call(n,n.value,n)&&(null==n.value?x.push(i[u+e]):o||0===Mr(l(t),l(n.value))?(m.push(n.value),o&&g.push(i[u+e])):(x.push(i[u+e]),p.push(n.value)))}const y=_r(t)&&t.limit===1/0&&("function"!=typeof e||e===Ar)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&a.mutate({trans:n,type:"add",values:p}).then((e=>{for(let t in e.failures)x.splice(parseInt(t),1);f(p.length,e)}))).then((()=>(m.length>0||y&&"object"==typeof e)&&a.mutate({trans:n,type:"put",keys:g,values:m,criteria:y,changeSpec:"function"!=typeof e&&e}).then((e=>f(m.length,e))))).then((()=>(x.length>0||y&&e===Ar)&&a.mutate({trans:n,type:"delete",keys:x,criteria:y}).then((e=>f(x.length,e))))).then((()=>i.length>u+d&&s(u+c)))}))};return s(0).then((()=>{if(u.length>0)throw new Rt("Error modifying one or more objects",u,d,h);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return _r(e)&&(e.isPrimKey&&!dr||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((e=>{let{failures:n,lastResult:r,results:i,numFailures:s}=e;if(s)throw new Rt("Could not delete some values",Object.keys(n).map((e=>n[e])),t-s);return t-s}))))})):this.modify(Ar)}}const Ar=(e,t)=>t.value=null;function Tr(e,t){return e<t?-1:e===t?0:1}function Rr(e,t){return e>t?-1:e===t?0:1}function Lr(e,t,n){var r=e instanceof Wr?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ir(e){return new e.Collection(e,(()=>Ur(""))).limit(0)}function Fr(e,t,n,r,i,s){for(var a=Math.min(e.length,r.length),o=-1,l=0;l<a;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):o>=0?e.substr(0,o)+t[o]+n.substr(o+1):null;i(e[l],c)<0&&(o=l)}return a<r.length&&"next"===s?e+n.substr(e.length):a<e.length&&"prev"===s?e.substr(0,n.length):o<0?null:e.substr(0,o)+r[o]+n.substr(o+1)}function zr(e,t,n,r){var i,s,a,o,l,c,u,d=n.length;if(!n.every((e=>"string"==typeof e)))return Lr(e,or);function h(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),s=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),a="next"===e?Tr:Rr;var t=n.map((function(e){return{lower:s(e),upper:i(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));o=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c=e,u="next"===e?"":r}h("next");var f=new e.Collection(e,(()=>Br(o[0],l[d-1]+r)));f._ondirectionchange=function(e){h(e)};var p=0;return f._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=s(i);if(t(h,l,p))return!0;for(var f=null,m=p;m<d;++m){var g=Fr(i,h,o[m],l[m],a,c);null===g&&null===f?p=m+1:(null===f||a(f,g)>0)&&(f=g)}return n(null!==f?function(){e.continue(f+u)}:r),!1})),f}function Br(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ur(e){return{type:1,lower:e,upper:e}}class Wr{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Ir(this):new this.Collection(this,(()=>Br(e,t,!n,!r)))}catch(e){return Lr(this,ar)}}equals(e){return null==e?Lr(this,ar):new this.Collection(this,(()=>Ur(e)))}above(e){return null==e?Lr(this,ar):new this.Collection(this,(()=>Br(e,void 0,!0)))}aboveOrEqual(e){return null==e?Lr(this,ar):new this.Collection(this,(()=>Br(e,void 0,!1)))}below(e){return null==e?Lr(this,ar):new this.Collection(this,(()=>Br(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Lr(this,ar):new this.Collection(this,(()=>Br(void 0,e)))}startsWith(e){return"string"!=typeof e?Lr(this,or):this.between(e,e+ir,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):zr(this,((e,t)=>0===e.indexOf(t[0])),[e],ir)}equalsIgnoreCase(e){return zr(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=_t.apply(wt,arguments);return 0===e.length?Ir(this):zr(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=_t.apply(wt,arguments);return 0===e.length?Ir(this):zr(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,ir)}anyOf(){const e=_t.apply(wt,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Lr(this,ar)}if(0===e.length)return Ir(this);const n=new this.Collection(this,(()=>Br(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,i,s)=>{const a=n.key;for(;t(a,e[r])>0;)if(++r,r===e.length)return i(s),!1;return 0===t(a,e[r])||(i((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[sr,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=_t.apply(wt,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Lr(this,ar)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[sr,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,i=this._descending,s=this._min,a=this._max;if(0===e.length)return Ir(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Lr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",zt.InvalidArgument);const o=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let c,u=r;function d(e,t){return u(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,i=e.length;for(;r<i;++r){const i=e[r];if(n(t[0],i[1])<0&&n(t[1],i[0])>0){i[0]=s(i[0],t[0]),i[1]=a(i[1],t[1]);break}}return r===i&&e.push(t),e}),[]),c.sort(d)}catch(e){return Lr(this,ar)}let h=0;const f=l?e=>r(e,c[h][1])>0:e=>r(e,c[h][1])>=0,p=o?e=>i(e,c[h][0])>0:e=>i(e,c[h][0])>=0;let m=f;const g=new this.Collection(this,(()=>Br(c[0][0],c[c.length-1][1],!o,!l)));return g._ondirectionchange=e=>{"next"===e?(m=f,u=r):(m=p,u=i),c.sort(d)},g._addAlgorithm(((e,t,n)=>{for(var i=e.key;m(i);)if(++h,h===c.length)return t(n),!1;return!!function(e){return!f(e)&&!p(e)}(i)||(0===this._cmp(i,c[h][1])||0===this._cmp(i,c[h][0])||t((()=>{u===r?e.continue(c[h][0]):e.continue(c[h][1])})),!1)})),g}startsWithAnyOf(){const e=_t.apply(wt,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Ir(this):this.inAnyRange(e.map((e=>[e,e+ir]))):Lr(this,"startsWithAnyOf() only works with strings")}}function $r(e){return Tn((function(t){return Vr(t),e(t.target.error),!1}))}function Vr(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Hr="storagemutated",Kr="x-storagemutated-1",qr=br(null,Hr);class Yr{_lock(){return it(!mn.global),++this._reculock,1!==this._reculock||mn.global||(mn.lockOwnerFor=this),this}_unlock(){if(it(!mn.global),0==--this._reculock)for(mn.global||(mn.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Qn(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&mn.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(it(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new zt.DatabaseClosed(n);case"MissingAPIError":throw new zt.MissingAPI(n.message,n);default:throw new zt.OpenFailed(n)}if(!this.active)throw new zt.TransactionInactive;return it(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Tn((t=>{Vr(t),this._reject(e.error)})),e.onabort=Tn((t=>{Vr(t),this.active&&this._reject(new zt.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Tn((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&qr.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return tr(new zt.ReadOnly("Transaction is readonly"));if(!this.active)return tr(new zt.TransactionInactive);if(this._locked())return new vn(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,i)},mn])}));if(n)return Un((()=>{var e=new vn(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new vn(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=vn.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new vn(((e,r)=>{n.then((n=>t._waitingQueue.push(Tn(e.bind(null,n)))),(e=>t._waitingQueue.push(Tn(r.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new zt.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(Ye(t,e))return t[e];const n=this.schema[e];if(!n)throw new zt.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function Qr(e,t,n,r,i,s,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Xr(t)}}function Xr(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Gr(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:at(n,(e=>[e.name,e]))}}let Jr=e=>{try{return e.only([[]]),Jr=()=>[[]],[[]]}catch(e){return Jr=()=>ir,ir}};function Zr(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>ot(t,e)}(e):t=>ot(t,e)}function ei(e){return[].slice.call(e)}let ti=0;function ni(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function ri(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:s}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!s):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!s)}const{schema:i,hasGetAll:s}=function(e,t){const n=ei(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=Ve(t),i=null==t,s={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Zr(t)},indexes:ei(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:i}=e,a={name:t,compound:Ve(i),keyPath:i,unique:n,multiEntry:r,extractKey:Zr(i)};return s[ni(i)]=a,a})),getIndexByKeyPath:e=>s[ni(e)]};return s[":id"]=a.primaryKey,null!=t&&(s[ni(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function(e){let{trans:n,type:i,keys:s,values:a,range:o}=e;return new Promise(((e,l)=>{e=Tn(e);const c=n.objectStore(t),u=null==c.keyPath,d="put"===i||"add"===i;if(!d&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);const{length:h}=s||a||{length:1};if(s&&a&&s.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],m=[];let g=0;const x=e=>{++g,Vr(e)};if("deleteRange"===i){if(4===o.type)return e({numFailures:g,failures:m,results:[],lastResult:void 0});3===o.type?p.push(f=c.clear()):p.push(f=c.delete(r(o)))}else{const[e,t]=d?u?[a,s]:[a,null]:[s,null];if(d)for(let n=0;n<h;++n)p.push(f=t&&void 0!==t[n]?c[i](e[n],t[n]):c[i](e[n])),f.onerror=x;else for(let n=0;n<h;++n)p.push(f=c[i](e[n])),f.onerror=x}const y=t=>{const n=t.target.result;p.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),e({numFailures:g,failures:m,results:"delete"===i?s:p.map((e=>e.result)),lastResult:n})};f.onerror=e=>{x(e),y(e)},f.onsuccess=y}))},getMany:e=>{let{trans:n,keys:r}=e;return new Promise(((e,i)=>{e=Tn(e);const s=n.objectStore(t),a=r.length,o=new Array(a);let l,c=0,u=0;const d=t=>{const n=t.target;o[n._pos]=n.result,++u===c&&e(o)},h=$r(i);for(let t=0;t<a;++t)null!=r[t]&&(l=s.get(r[t]),l._pos=t,l.onsuccess=d,l.onerror=h,++c);0===c&&e(o)}))},get:e=>{let{trans:n,key:r}=e;return new Promise(((e,i)=>{e=Tn(e);const s=n.objectStore(t).get(r);s.onsuccess=t=>e(t.target.result),s.onerror=$r(i)}))},query:function(e){return n=>new Promise(((i,s)=>{i=Tn(i);const{trans:a,values:o,limit:l,query:c}=n,u=l===1/0?void 0:l,{index:d,range:h}=c,f=a.objectStore(t),p=d.isPrimaryKey?f:f.index(d.name),m=r(h);if(0===l)return i({result:[]});if(e){const e=o?p.getAll(m,u):p.getAllKeys(m,u);e.onsuccess=e=>i({result:e.target.result}),e.onerror=$r(s)}else{let e=0;const t=o||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),n=[];t.onsuccess=r=>{const s=t.result;return s?(n.push(o?s.value:s.primaryKey),++e===l?i({result:n}):void s.continue()):i({result:n})},t.onerror=$r(s)}}))}(s),openCursor:function(e){let{trans:n,values:i,query:s,reverse:a,unique:o}=e;return new Promise(((e,l)=>{e=Tn(e);const{index:c,range:u}=s,d=n.objectStore(t),h=c.isPrimaryKey?d:d.index(c.name),f=a?o?"prevunique":"prev":o?"nextunique":"next",p=i||!("openKeyCursor"in h)?h.openCursor(r(u),f):h.openKeyCursor(r(u),f);p.onerror=$r(l),p.onsuccess=Tn((t=>{const r=p.result;if(!r)return void e(null);r.___id=++ti,r.done=!1;const i=r.continue.bind(r);let s=r.continuePrimaryKey;s&&(s=s.bind(r));const a=r.advance.bind(r),o=()=>{throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=Tn(l),r.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},r.start=e=>{const t=new Promise(((e,t)=>{e=Tn(e),p.onerror=$r(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=o,e(t)}})),n=()=>{if(p.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=Tn((e=>{p.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=s,r.advance=a,n(),t},e(r)}),l)}))},count(e){let{query:n,trans:i}=e;const{index:s,range:a}=n;return new Promise(((e,n)=>{const o=i.objectStore(t),l=s.isPrimaryKey?o:o.index(s.name),c=r(a),u=c?l.count(c):l.count();u.onsuccess=Tn((t=>e(t.target.result))),u.onerror=$r(n)}))}}}(e))),o={};return a.forEach((e=>o[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!o[e])throw new Error(`Table '${e}' not found`);return o[e]},MIN_KEY:-1/0,MAX_KEY:Jr(t),schema:i}}function ii(e,t){let{_novip:n}=e;const r=t.db,i=function(e,t,n,r){let{IDBKeyRange:i,indexedDB:s}=n;const a=function(e,t){return t.reduce(((e,t)=>{let{create:n}=t;return{...e,...n(e)}}),e)}(ri(t,i,r),e.dbcore);return{dbcore:a}}(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach((e=>{const t=e.name;n.core.schema.tables.some((e=>e.name===t))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function si(e,t,n,r){let{_novip:i}=e;n.forEach((e=>{const n=r[e];t.forEach((t=>{const r=et(t,e);(!r||"value"in r&&void 0===r.value)&&(t===i.Transaction.prototype||t instanceof i.Transaction?Ge(t,e,{get(){return this.table(e)},set(t){Xe(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new i.Table(e,n))}))}))}function ai(e,t){let{_novip:n}=e;t.forEach((e=>{for(let t in e)e[t]instanceof n.Table&&delete e[t]}))}function oi(e,t){return e._cfg.version-t._cfg.version}function li(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const a=s._reject.bind(s),o=mn.transless||mn;Un((()=>{mn.trans=s,mn.transless=o,0===t?($e(i).forEach((e=>{ui(n,e,i[e].primKey,i[e].indexes)})),ii(e,n),vn.follow((()=>e.on.populate.fire(s))).catch(a)):function(e,t,n,r){let{_novip:i}=e;const s=[],a=i._versions;let o=i._dbSchema=hi(i,i.idbdb,r),l=!1;const c=a.filter((e=>e._cfg.version>=t));return c.forEach((e=>{s.push((()=>{const s=o,a=e._cfg.dbschema;fi(i,s,r),fi(i,a,r),o=i._dbSchema=a;const c=ci(s,a);c.add.forEach((e=>{ui(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new zt.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>di(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),di(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const u=e._cfg.contentUpgrade;if(u&&e._cfg.version>t){ii(i,r),n._memoizedTables={},l=!0;let e=ct(a);c.del.forEach((t=>{e[t]=s[t]})),ai(i,[i.Transaction.prototype]),si(i,[i.Transaction.prototype],$e(e),e),n.schema=e;const t=kt(u);let o;t&&Wn();const d=vn.follow((()=>{if(o=u(n),o&&t){var e=$n.bind(null,null);o.then(e,e)}}));return o&&"function"==typeof o.then?vn.resolve(o):d.then((()=>o))}})),s.push((t=>{l&&ur||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(e._cfg.dbschema,t),ai(i,[i.Transaction.prototype]),si(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema}))})),function e(){return s.length?vn.resolve(s.shift()(n.idbtrans)).then(e):vn.resolve()}().then((()=>{var e,t;t=r,$e(e=o).forEach((n=>{t.db.objectStoreNames.contains(n)||ui(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,s,n).catch(a)}))}function ci(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const e={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!cr)e.recreate=!0,n.change.push(e);else{const t=i.idxByName,r=s.idxByName;let a;for(a in t)r[a]||e.del.push(a);for(a in r){const n=t[a],i=r[a];n?n.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,s])}return n}function ui(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>di(i,e))),i}function di(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function hi(e,t,n){const r={};return nt(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let i=t.keyPath;const s=Qr(Xr(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),a=[];for(let n=0;n<t.indexNames.length;++n){const e=t.index(t.indexNames[n]);i=e.keyPath;var o=Qr(e.name,i,!!e.unique,!!e.multiEntry,!1,i&&"string"!=typeof i,!1);a.push(o)}r[e]=Gr(e,s,a)})),r}function fi(e,t,n){let{_novip:r}=e;const i=n.db.objectStoreNames;for(let s=0;s<i.length;++s){const e=i[s],a=n.objectStore(e);r._hasGetAll="getAll"in a;for(let n=0;n<a.indexNames.length;++n){const r=a.indexNames[n],i=a.index(r).keyPath,s="string"==typeof i?i:"["+nt(i).join("+")+"]";if(t[e]){const n=t[e].idxByName[s];n&&(n.name=r,delete t[e].idxByName[s],t[e].idxByName[r]=n)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&We.WorkerGlobalScope&&We instanceof We.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}class pi{_parseStoresSpec(e,t){$e(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Qr(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Ve(r),0===t)})),i=r.shift();if(i.multi)throw new zt.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new zt.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new zt.Schema("Index must have a name and cannot be an empty string")})),t[n]=Gr(n,i,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?He(this._cfg.storesSource,e):e;const n=t._versions,r={};let i={};return n.forEach((e=>{He(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,ai(t,[t._allTables,t,t.Transaction.prototype]),si(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],$e(i),i),t._storeNames=$e(i),this}upgrade(e){return this._cfg.contentUpgrade=Xt(this._cfg.contentUpgrade||Wt,e),this}}function mi(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Li(fr,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function gi(e){return e&&"function"==typeof e.databases}function xi(e){return Un((function(){return mn.letThrough=!0,e()}))}function yi(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function vi(e){var t=t=>e.next(t),n=i(t),r=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),s=i.value;return i.done?s:s&&"function"==typeof s.then?s.then(n,r):Ve(s)?Promise.all(s).then(n,r):n(s)}}return i(t)()}function bi(e,t,n){var r=arguments.length;if(r<2)throw new zt.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,dt(i),n]}function wi(e,t,n,r,i){return vn.resolve().then((()=>{const s=mn.transless||mn,a=e._createTransaction(t,n,e._dbSchema,r),o={trans:a,transless:s};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===It.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>wi(e,t,n,null,i)))):tr(r)}const l=kt(i);let c;l&&Wn();const u=vn.follow((()=>{if(c=i.call(a,a),c)if(l){var e=$n.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=vi(c))}),o);return(c&&"function"==typeof c.then?vn.resolve(c).then((e=>a.active?e:tr(new zt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((e=>(r&&a._resolve(),a._completion.then((()=>e))))).catch((e=>(a._reject(e),tr(e))))}))}function _i(e,t,n){const r=Ve(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const ki={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function a(e,t,n){const r=ni(e),o=i[r]=i[r]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,u={...n,isVirtual:c,keyTail:t,keyLength:l,extractKey:Zr(e),unique:!c&&n.unique};return o.push(u),u.isPrimaryKey||s.push(u),l>1&&a(2===l?e[0]:e.slice(0,l-1),t+1,n),o.sort(((e,t)=>e.keyTail-t.keyTail)),u}const o=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(const e of r.indexes)a(e.keyPath,0,e);function l(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,i=n.keyTail,{type:1===r.type?2:r.type,lower:_i(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:_i(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var r,i}const c={...n,schema:{...r,primaryKey:o,indexes:s,getIndexByKeyPath:function(e){const t=i[ni(e)];return t&&t[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){const{keyTail:r,isVirtual:i,keyLength:s}=t.query.index;return i?n.openCursor(l(t)).then((n=>n&&function(n){const i=Object.create(n,{continue:{value:function(i){null!=i?n.continue(_i(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,s).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,i){n.continuePrimaryKey(_i(t,e.MAX_KEY,r),i)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===s?e[0]:e.slice(0,s)}},value:{get:()=>n.value}});return i}(n))):n.openCursor(t)}};return c}}}};function Si(e,t,n,r){return n=n||{},r=r||"",$e(e).forEach((i=>{if(Ye(t,i)){var s=e[i],a=t[i];if("object"==typeof s&&"object"==typeof a&&s&&a){const e=yt(s);e!==yt(a)?n[r+i]=t[i]:"Object"===e?Si(s,a,n,r+i+"."):s!==a&&(n[r+i]=t[i])}else s!==a&&(n[r+i]=t[i])}else n[r+i]=void 0})),$e(t).forEach((i=>{Ye(e,i)||(n[r+i]=t[i])})),n}const ji={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,i={...n,mutate(e){const i=mn.trans,{deleting:s,creating:a,updating:o}=i.table(t).hook;switch(e.type){case"add":if(a.fire===Wt)break;return i._promise("readwrite",(()=>l(e)),!0);case"put":if(a.fire===Wt&&o.fire===Wt)break;return i._promise("readwrite",(()=>l(e)),!0);case"delete":if(s.fire===Wt)break;return i._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(s.fire===Wt)break;return i._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=mn.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((l=>{const c=i.map(((n,i)=>{const c=l[i],u={onerror:null,onsuccess:null};if("delete"===e.type)s.fire.call(u,n,c,t);else if("add"===e.type||void 0===c){const s=a.fire.call(u,n,e.values[i],t);null==n&&null!=s&&(n=s,e.keys[i]=n,r.outbound||lt(e.values[i],r.keyPath,n))}else{const r=Si(c,e.values[i]),s=o.fire.call(u,r,n,c,t);if(s){const t=e.values[i];Object.keys(s).forEach((e=>{Ye(t,e)?t[e]=s[e]:lt(t,e,s[e])}))}}return u}));return n.mutate(e).then((t=>{let{failures:n,results:r,numFailures:s,lastResult:a}=t;for(let o=0;o<i.length;++o){const t=r?r[o]:i[o],s=c[o];null==t?s.onerror&&s.onerror(n[o]):s.onsuccess&&s.onsuccess("put"===e.type&&l[o]?e.values[o]:t)}return{failures:n,results:r,numFailures:s,lastResult:a}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((n=>{let{result:r}=n;return l({type:"delete",keys:r,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:r[r.length-1],lowerOpen:!0},i)))}))}}};return i}})};function Ni(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)0===Mr(t.keys[i],e[s])&&(r.push(n?mt(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch(e){return null}}const Ei={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Ni(e.keys,e.trans._cache,"clone"===e.cache);return t?vn.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?mt(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Ci(e){return!("from"in e)}const Mi=function(e,t){if(!this){const t=new Mi;return e&&"d"in e&&He(t,e),t}He(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Pi(e,t,n){const r=Mr(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Ci(e))return He(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(Mr(n,e.from)<0)return i?Pi(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Ai(e);if(Mr(t,e.to)>0)return s?Pi(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Ai(e);Mr(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Mr(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Di(e,i),s&&a&&Di(e,s)}function Di(e,t){Ci(t)||function e(t,n){let{from:r,to:i,l:s,r:a}=n;Pi(t,r,i),s&&e(t,s),a&&e(t,a)}(e,t)}function Oi(e){let t=Ci(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Mr(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Mr(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ai(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const t="r"===i?"l":"r",n={...e},r=e[i];e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],e[t]=n,n.d=Ti(n)}e.d=Ti(e)}function Ti(e){let{r:t,l:n}=e;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}Qe(Mi.prototype,{add(e){return Di(this,e),this},addKey(e){return Pi(this,e,e),this},addKeys(e){return e.forEach((e=>Pi(this,e,e))),this},[vt](){return Oi(this)}});const Ri={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Mi(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:a}=s,{extractKey:o,outbound:l}=a,c={...i,mutate:e=>{const a=e.trans,o=a.mutatedParts||(a.mutatedParts={}),l=e=>{const n=`idb://${t}/${r}/${e}`;return o[n]||(o[n]=new Mi)},c=l(""),u=l(":dels"),{type:d}=e;let[h,f]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return i.mutate(e).then((e=>{if(Ve(h)){"delete"!==d&&(h=e.results),c.addKeys(h);const t=Ni(h,p);t||"add"===d||u.addKeys(h),(t||f)&&function(e,t,n,r){t.indexes.forEach((function(t){const i=e(t.name||"");function s(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&Ve(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(n||r).forEach(((e,t)=>{const i=n&&s(n[t]),o=r&&s(r[t]);0!==Mr(i,o)&&(null!=i&&a(i),null!=o&&a(o))}))}))}(l,s,t,f)}else if(h){const e={from:h.lower,to:h.upper};u.add(e),c.add(e)}else c.add(n),u.add(n),s.indexes.forEach((e=>l(e.name).add(n)));return e}))}},u=t=>{let{query:{index:n,range:r}}=t;var i,s;return[n,new Mi(null!==(i=r.lower)&&void 0!==i?i:e.MIN_KEY,null!==(s=r.upper)&&void 0!==s?s:e.MAX_KEY)]},d={get:e=>[a,new Mi(e.key)],getMany:e=>[a,(new Mi).addKeys(e.keys)],count:u,query:u,openCursor:u};return $e(d).forEach((e=>{c[e]=function(s){const{subscr:a}=mn;if(a){const c=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new Mi)},u=c(""),h=c(":dels"),[f,p]=d[e](s);if(c(f.name||"").add(p),!f.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&s.values&&i.query({...s,values:!1});return i[e].apply(this,arguments).then((n=>{if("query"===e){if(l&&s.values)return t.then((e=>{let{result:t}=e;return u.addKeys(t),n}));const e=s.values?n.result.map(o):n.result;s.values?u.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=n,t=s.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&u.addKey(e.primaryKey),e.value)}})}return n}))}h.add(n)}}return i[e].apply(this,arguments)}})),c}}}};class Li{constructor(e,t){this._middlewares={},this.verno=0;const n=Li.dependencies;this._options=t={addons:Li.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Wt,dbReadyPromise:null,cancelOpen:Wt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s;i.dbReadyPromise=new vn((e=>{i.dbReadyResolve=e})),i.openCanceller=new vn(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=br(this,"populate","blocked","versionchange","close",{ready:[Xt,Wt]}),this.on.ready.subscribe=rt(this.on.ready.subscribe,(e=>(t,n)=>{Li.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||vn.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(s=this,wr(Or.prototype,(function(e,t){this.db=s;let n=xr,r=null;if(t)try{n=t()}catch(e){r=e}const i=e._ctx,a=i.table,o=a.hook.reading.fire;this._ctx={table:a,index:i.index,isPrimKey:!i.index||a.schema.primKey.keyPath&&i.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o!==$t?o:null}}))),this.Table=function(e){return wr(vr.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:br(null,{creating:[Kt,Wt],reading:[Vt,$t],updating:[Yt,Wt],deleting:[qt,Wt]})}))}(this),this.Transaction=function(e){return wr(Yr.prototype,(function(t,n,r,i,s){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=br(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new vn(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),tr(e)}))}))}(this),this.Version=function(e){return wr(pi.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return wr(Wr.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const i=e._deps.indexedDB;if(!i)throw new zt.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=Jr(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),lr.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(ki),this.use(ji),this.use(Ri),this.use(Ei),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new zt.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new zt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(oi),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||mn.letThrough||this._vip)?e():new vn(((e,t)=>{if(this._state.openComplete)return t(new zt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new zt.DatabaseClosed);this.open().catch(Wt)}this._state.dbReadyPromise.then(e,t)})).then(e)}use(e){let{stack:t,create:n,level:r,name:i}=e;i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:null==r?10:r,name:i}),s.sort(((e,t)=>e.level-t.level)),this}unuse(e){let{stack:t,name:n,create:r}=e;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((e=>r?e.create!==r:!!n&&e.name!==n))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?tr(t.dbOpenError):e));St&&(t.openCanceller._stackHolder=Ct()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new zt.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,a=null,o=!1;const l=()=>new vn(((r,s)=>{if(i(),!n)throw new zt.MissingAPI;const l=e.name,c=t.autoSchema?n.open(l):n.open(l,Math.round(10*e.verno));if(!c)throw new zt.MissingAPI;c.onerror=$r(s),c.onblocked=Tn(e._fireOnBlocked),c.onupgradeneeded=Tn((r=>{if(a=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=Vr,a.abort(),c.result.close();const e=n.deleteDatabase(l);e.onsuccess=e.onerror=Tn((()=>{s(new zt.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{a.onerror=$r(s);var i=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;o=i<1,e._novip.idbdb=c.result,li(e,i/10,a,s)}}),s),c.onsuccess=Tn((()=>{a=null;const n=e._novip.idbdb=c.result,i=nt(n.objectStoreNames);if(i.length>0)try{const r=n.transaction(1===(s=i).length?s[0]:s,"readonly");t.autoSchema?function(e,t,n){let{_novip:r}=e;r.verno=t.version/10;const i=r._dbSchema=hi(0,t,n);r._storeNames=nt(t.objectStoreNames,0),si(r,[r._allTables],$e(i),i)}(e,n,r):(fi(e,e._dbSchema,r),function(e,t){const n=ci(hi(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ii(e,r)}catch(e){}var s;lr.push(e),n.onversionchange=Tn((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Tn((t=>{e.on("close").fire(t)})),o&&function(e,t){let{indexedDB:n,IDBKeyRange:r}=e;!gi(n)&&t!==fr&&mi(n,r).put({name:t}).catch(Wt)}(e._deps,l),r()}),s)})).catch((e=>e&&"UnknownError"===e.name&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):vn.reject(e)));return vn.race([r,("undefined"==typeof navigator?vn.resolve():yi()).then(l)]).then((()=>(i(),t.onReadyBeingFired=[],vn.resolve(xi((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(Xt,Wt);return t.onReadyBeingFired=[],vn.resolve(xi((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{a&&a.abort()}catch(e){}return r===t.openCanceller&&e._close(),tr(n)})).finally((()=>{t.openComplete=!0,s()}))}(this)}_close(){const e=this._state,t=lr.indexOf(this);if(t>=0&&lr.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new vn((t=>{e.dbReadyResolve=t})),e.openCanceller=new vn(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new zt.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new vn(((n,r)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Tn((()=>{!function(e,t){let{indexedDB:n,IDBKeyRange:r}=e;!gi(n)&&t!==fr&&mi(n,r).delete(t).catch(Wt)}(this._deps,this.name),n()})),e.onerror=$r(r),e.onblocked=this._fireOnBlocked};if(e)throw new zt.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return $e(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=bi.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=mn.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const i=-1!==e.indexOf("?");let s,a;e=e.replace("!","").replace("?","");try{if(a=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===pr)s=pr;else{if("rw"!=e&&e!=mr)throw new zt.InvalidArgument("Invalid transaction mode: "+e);s=mr}if(r){if(r.mode===pr&&s===mr){if(!i)throw new zt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&a.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new zt.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):tr(e)}const o=wi.bind(null,this,s,a,r,n);return r?r._promise(s,o,"lock"):mn.trans?Qn(mn.transless,(()=>this._whenReady(o))):this._whenReady(o)}table(e){if(!Ye(this._allTables,e))throw new zt.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Ii="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Fi{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Ii](){return this}}function zi(e,t){return $e(t).forEach((n=>{Di(e[n]||(e[n]=new Mi),t[n])})),e}let Bi;try{Bi={indexedDB:We.indexedDB||We.mozIndexedDB||We.webkitIndexedDB||We.msIndexedDB,IDBKeyRange:We.IDBKeyRange||We.webkitIDBKeyRange}}catch(We){Bi={indexedDB:null,IDBKeyRange:null}}const Ui=Li;function Wi(e){let t=$i;try{$i=!0,qr.storagemutated.fire(e)}finally{$i=t}}Qe(Ui,{...Ut,delete:e=>new Ui(e,{addons:[]}).delete(),exists:e=>new Ui(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function(e){let{indexedDB:t,IDBKeyRange:n}=e;return gi(t)?Promise.resolve(t.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==fr)))):mi(t,n).toCollection().primaryKeys()}(Ui.dependencies).then(e)}catch(e){return tr(new zt.MissingAPI)}},defineClass:()=>function(e){He(this,e)},ignoreTransaction:e=>mn.trans?Qn(mn.transless,e):e(),vip:xi,async:function(e){return function(){try{var t=vi(e.apply(this,arguments));return t&&"function"==typeof t.then?t:vn.resolve(t)}catch(e){return tr(e)}}},spawn:function(e,t,n){try{var r=vi(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:vn.resolve(r)}catch(e){return tr(e)}},currentTransaction:{get:()=>mn.trans||null},waitFor:function(e,t){const n=vn.resolve("function"==typeof e?Ui.ignoreTransaction(e):e).timeout(t||6e4);return mn.trans?mn.trans.waitFor(n):n},Promise:vn,debug:{get:()=>St,set:e=>{jt(e,"dexie"===e?()=>!0:hr)}},derive:Je,extend:He,props:Qe,override:rt,Events:br,on:qr,liveQuery:function(e){let t,n=!1;const r=new Fi((r=>{const i=kt(e);let s=!1,a={},o={};const l={get closed(){return s},unsubscribe:()=>{s=!0,qr.storagemutated.unsubscribe(h)}};r.start&&r.start(l);let c=!1,u=!1;function d(){return $e(o).some((e=>a[e]&&function(e,t){const n=Oi(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=Oi(e);let a=s.next(i.from),o=a.value;for(;!r.done&&!a.done;){if(Mr(o.from,i.to)<=0&&Mr(o.to,i.from)>=0)return!0;Mr(i.from,o.from)<0?i=(r=n.next(o.from)).value:o=(a=s.next(i.from)).value}return!1}(a[e],o[e])))}const h=e=>{zi(a,e),d()&&f()},f=()=>{if(c||s)return;a={};const p={},m=function(t){i&&Wn();const n=()=>Un(e,{subscr:t,trans:null}),r=mn.trans?Qn(mn.transless,n):n();return i&&r.then($n,$n),r}(p);u||(qr(Hr,h),u=!0),c=!0,Promise.resolve(m).then((e=>{n=!0,t=e,c=!1,s||(d()?f():(a={},o=p,r.next&&r.next(e)))}),(e=>{c=!1,n=!1,r.error&&r.error(e),l.unsubscribe()}))};return f(),l}));return r.hasValue=()=>n,r.getValue=()=>t,r},extendObservabilitySet:zi,getByKeyPath:ot,setByKeyPath:lt,delByKeyPath:function(e,t){"string"==typeof t?lt(e,t,void 0):"length"in t&&[].map.call(t,(function(t){lt(e,t,void 0)}))},shallowClone:ct,deepClone:mt,getObjectDiff:Si,cmp:Mr,asap:st,minKey:sr,addons:[],connections:lr,errnames:It,dependencies:Bi,semVer:rr,version:rr.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Ui.maxKey=Jr(Ui.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(qr(Hr,(e=>{if(!$i){let t;cr?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Kr,!0,!0,e)):t=new CustomEvent(Kr,{detail:e}),$i=!0,dispatchEvent(t),$i=!1}})),addEventListener(Kr,(e=>{let{detail:t}=e;$i||Wi(t)})));let $i=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(Kr);"function"==typeof e.unref&&e.unref(),qr(Hr,(t=>{$i||e.postMessage(t)})),e.onmessage=e=>{e.data&&Wi(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){qr(Hr,(e=>{try{$i||("undefined"!=typeof localStorage&&localStorage.setItem(Kr,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:Kr,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===Kr){const t=JSON.parse(e.newValue);t&&Wi(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function(e){let{data:t}=e;t&&t.type===Kr&&Wi(t.changedParts)}))}vn.rejectionMapper=function(e,t){if(!e||e instanceof At||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Bt[e.name])return e;var n=new Bt[e.name](t||e.message,e);return"stack"in e&&Ge(n,"stack",{get:function(){return this.inner.stack}}),n},jt(St,hr);const Vi=[{category:"Office Supplies",maxAmount:500,description:"Items for office use including stationery, small equipment, etc.",currency:"USD"},{category:"Food & Entertainment",maxAmount:1e3,description:"Meals, client entertainment, and team events.",currency:"USD"},{category:"Travelling",maxAmount:2e3,description:"Transportation costs including airfare, train, taxi, etc.",currency:"USD"},{category:"Accommodation",maxAmount:3e3,description:"Hotel and lodging expenses while on business trips.",currency:"USD"},{category:"Client & Project Expenses",maxAmount:5e3,description:"Expenses directly related to client projects.",currency:"USD"},{category:"Subscriptions",maxAmount:1e3,description:"Software, services, and publication subscriptions.",currency:"USD"}],Hi={"Office Supplies":{averageMonthly:350,percentageOfTotal:8},"Food & Entertainment":{averageMonthly:800,percentageOfTotal:15},Travelling:{averageMonthly:1500,percentageOfTotal:25},Accommodation:{averageMonthly:2e3,percentageOfTotal:20},"Client & Project Expenses":{averageMonthly:3e3,percentageOfTotal:22},Subscriptions:{averageMonthly:700,percentageOfTotal:10}};const Ki=new class extends Li{constructor(){super("spendwiseDB"),this.users=void 0,this.expenses=void 0,this.policies=void 0,this.version(4).stores({users:"++id, username, role, companyName, isActive",expenses:"++id, userId, category, date, status, createdAt, currency, notes, [userId+date], [category+date]",policies:"category"}),this.on("populate",(async()=>{try{await this.policies.bulkAdd(Vi),console.log("Default policies initialized successfully")}catch(e){console.error("Error initializing default policies:",e)}}))}async getUserByCredentials(e,t){return this.users.where("username").equals(e).filter((e=>e.password===t&&e.isActive)).first()}async getAllUsers(){return this.users.toArray()}async getUsersByCompany(e){return this.users.where("companyName").equals(e).toArray()}async createUser(e){try{this.isOpen()||(console.log("Database was closed, attempting to reopen..."),await this.open());if(await this.users.where("username").equals(e.username).first())throw new Error("Username already exists");let i=0;const s=3;for(;i<=s;)try{var t,n;if(!e.id||!e.name||!e.username||!e.password||!e.role||!e.companyName)throw new Error("Missing required user fields");const r={...e,isActive:null!==(t=e.isActive)&&void 0!==t?t:"manager"===e.role,preferredCurrency:null!==(n=e.preferredCurrency)&&void 0!==n?n:"USD"},i=await this.users.add(r);return console.log("User created successfully with ID:",i),String(i)}catch(r){if(console.error(`Attempt ${i+1} failed:`,r),i++,i>s)throw r;await new Promise((e=>setTimeout(e,1e3)))}throw new Error("Failed to create user after multiple attempts")}catch(r){if(console.error("Error creating user:",r),!this.isOpen())try{await this.open();const t=await this.users.add(e);return String(t)}catch(i){throw console.error("Failed to recover and retry user creation:",i),new Error("Database connection error. Please try again or reload the page.")}throw r}}async updateUser(e){await this.users.put(e)}async getPendingEmployees(e){return this.users.where("companyName").equals(e).filter((e=>"employee"===e.role&&!e.isActive)).toArray()}async approveEmployee(e){const t=await this.users.get(e);t&&(t.isActive=!0,await this.users.put(t))}async getPolicyForCategory(e){return this.policies.get(e)}async getAllPolicies(){return this.policies.toArray()}async updatePolicy(e){await this.policies.put(e)}async addExpense(e){try{this.isOpen()||(console.log("Database was closed, attempting to reopen..."),await this.open());const t={...e,createdAt:e.createdAt||(new Date).toISOString()},n=await this.expenses.add(t);return console.log("Successfully added expense with ID:",n),String(n)}catch(t){if(console.error("Error adding expense to IndexedDB:",t),!this.isOpen())try{await this.open();const t=await this.expenses.add({...e,createdAt:e.createdAt||(new Date).toISOString()});return String(t)}catch(n){throw console.error("Failed to recover and retry expense addition:",n),new Error("Database connection error. Please try again or reload the page.")}throw t}}async updateExpense(e){await this.expenses.put(e)}async getExpenseById(e){return this.expenses.get(e)}async getExpensesByUserId(e){return this.expenses.where("userId").equals(e).toArray()}async getAllExpenses(){return this.expenses.toArray()}async getRecentExpenses(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.expenses.orderBy("createdAt").reverse().limit(e).toArray()}async getExpensesByCategory(e){return this.expenses.where("category").equals(e).toArray()}async getExpensesByDateRange(e,t){return this.expenses.where("date").between(e,t,!0,!0).toArray()}async getExpensesByCompany(e){const t=(await this.getUsersByCompany(e)).map((e=>e.id));return(await this.expenses.toArray()).filter((e=>t.includes(e.userId)))}};let qi=null,Yi=0;const Qi=async(e,t,n,r)=>{if(t===n)return e;const i=r||await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD";const t=Date.now();if(qi&&qi.base===e&&t-Yi<36e5)return qi;try{const n=await fetch(`https://open.er-api.com/v6/latest/${e}`);if(!n.ok)throw new Error("Failed to fetch currency rates");const r=await n.json();return qi={base:e,rates:{USD:r.rates.USD||1,EUR:r.rates.EUR||1,GBP:r.rates.GBP||1,INR:r.rates.INR||1},timestamp:t},Yi=t,qi}catch(n){return console.error("Error fetching currency rates:",n),{base:e,rates:{USD:1,EUR:.93,GBP:.79,INR:83.06},timestamp:t}}}(t);return e*i.rates[n]},Xi=e=>{switch(e){case"USD":default:return"$";case"EUR":return"\u20ac";case"GBP":return"\xa3";case"INR":return"\u20b9"}},Gi=(e,t)=>`${Xi(t)}${parseFloat(e.toString()).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ji=e=>{const t=[],n=Hi[e.category];n&&e.amount>3*n.averageMonthly&&t.push(`Amount is more than 3x the average for ${e.category}`);const r=new Date(e.date),i=r.getDay();0!==i&&6!==i||t.push("Expense submitted on a weekend");r>new Date&&t.push("Expense dated in the future");const s=["gift","personal","cash","advance","reimbursement"];if(e.description){const n=e.description.toLowerCase();for(const e of s)if(n.includes(e)){t.push(`Description contains suspicious keyword: "${e}"`);break}}return{isFraud:t.length>0,reasons:t}},Zi=e=>{if(0===e.length)return["No expenses to analyze."];const t=[],n={USD:[],EUR:[],GBP:[],INR:[]};e.forEach((e=>{n[e.currency]||(n[e.currency]=[]),n[e.currency].push(e)}));const r=Object.keys(n).filter((e=>n[e].length>0));if(1===r.length){const e=r[0],a=n[e],o=a.reduce(((e,t)=>e+t.amount),0),l=o/a.length,c={"Office Supplies":0,"Food & Entertainment":0,Travelling:0,Accommodation:0,"Client & Project Expenses":0,Subscriptions:0};a.forEach((e=>{c[e.category]+=e.amount}));let u="Office Supplies",d=0;Object.entries(c).forEach((e=>{let[t,n]=e;n>d&&(d=n,u=t)})),t.push(`Total expense amount: ${Gi(o,e)}`),t.push(`Average expense amount: ${Gi(l,e)}`),t.push(`Highest spending in "${u}" at ${Gi(d,e)}`);const h=(i=c,s=o,Object.entries(i).map((e=>{let[t,n]=e;const r=Hi[t],i=s>0?n/s*100:0;return{category:t,amount:n,industryAverage:r.averageMonthly,percentageOfTotal:i,industryPercentage:r.percentageOfTotal,difference:i-r.percentageOfTotal}}))).filter((e=>Math.abs(e.difference)>5));h.length>0&&h.forEach((e=>{const n=e.difference>0?"higher":"lower";t.push(`"${e.category}" spending is ${Math.abs(e.difference).toFixed(1)}% ${n} than industry average`)}))}else{let e="Total expenses: ";const i=[];r.forEach((e=>{const t=n[e].reduce(((e,t)=>e+t.amount),0);t>0&&i.push(Gi(t,e))})),e+=i.join(", "),t.push(e);let s="Average expenses: ";const a=[];r.forEach((e=>{const t=n[e];if(t.length>0){const n=t.reduce(((e,t)=>e+t.amount),0)/t.length;a.push(Gi(n,e))}})),s+=a.join(", "),t.push(s);let o="Highest spending categories: ";const l=[];r.forEach((e=>{const t=n[e];if(t.length>0){const n={"Office Supplies":0,"Food & Entertainment":0,Travelling:0,Accommodation:0,"Client & Project Expenses":0,Subscriptions:0};t.forEach((e=>{n[e.category]+=e.amount}));let r="Office Supplies",i=0;Object.entries(n).forEach((e=>{let[t,n]=e;n>i&&(i=n,r=t)})),i>0&&l.push(`"${r}" at ${Gi(i,e)}`)}})),o+=l.join(", "),t.push(o)}var i,s;return t},es=async(e,t)=>{let r;try{const{fetchIndianIndustrySpendingTrends:e}=await n.e(688).then(n.bind(n,688));r=await e()}catch(o){console.error("Error fetching Indian industry data:",o),r=Object.entries(Hi).map((e=>{let[t,n]=e;return{category:t,averageMonthly:50*n.averageMonthly,percentageOfTotal:n.percentageOfTotal}}))}const i={};r.forEach((e=>{i[e.category]={averageMonthly:e.averageMonthly,percentageOfTotal:e.percentageOfTotal}}));const s=(new Date).getMonth(),a=e=>9!==s&&10!==s||"Food & Entertainment"!==e&&"Client & Project Expenses"!==e?2!==s||"Client & Project Expenses"!==e&&"Office Supplies"!==e?s>=5&&s<=8&&"Travelling"===e?"Trending down during monsoon season":"Stable trend":"Trending up due to financial year end":"Trending up due to festival season";return Object.entries(e).map((e=>{var t;let[n,r]=e;const s=n,o=(null===(t=i[s])||void 0===t?void 0:t.averageMonthly)||50*Hi[s].averageMonthly,l=r-o,c=o>0?l/o*100:0;let u="";return u=Math.abs(c)<10?`Your spending on ${s} is in line with industry standards in India.`:c>10?`Your company is spending ${c.toFixed(1)}% more on ${s} than the industry average in India. Consider reviewing these expenses.`:`Your company is efficiently managing ${s} expenses, spending ${Math.abs(c).toFixed(1)}% less than the industry average in India.`,{category:s,industryAverage:o,companyAverage:r,difference:l,percentageDifference:c,insight:u,trend:a(s)}}))},ts=(0,i.createContext)(void 0),ns=e=>{let{children:t}=e;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),{currentUser:c}=Ue();(0,i.useEffect)((()=>{(async()=>{try{l(!0);const e=await(async()=>{const e=await fetch(`${Te}/policies`);return Re(e)})();a(e);let t=[];c&&(t="manager"===c.role?await Ie():await Le(c.id)),r(t)}catch(e){console.error("Error loading expense data:",e)}finally{l(!1)}})()}),[c]);const u=async(e,t)=>{try{return await Qi(e.amount,e.currency,t)}catch(n){return console.error("Error converting currency:",n),e.amount}},d={expenses:n,policies:s,isLoading:o,addExpense:async e=>{try{const t={...e,id:crypto.randomUUID(),createdAt:(new Date).toISOString()},{isFraud:n,reasons:i}=Ji(t),s={...t,status:n?"flagged":"pending"},a=await(async e=>{const t=await fetch(`${Te}/expenses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return(await Re(t)).id})(s);return r((e=>[...e,s])),a}catch(t){throw console.error("Error adding expense:",t),t}},updateExpense:async e=>{try{await(async e=>{const t=await fetch(`${Te}/expenses/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return Re(t)})(e),r((t=>t.map((t=>t.id===e.id?e:t))))}catch(t){throw console.error("Error updating expense:",t),t}},getExpenseById:async e=>{try{return await(async e=>{const t=await fetch(`${Te}/expenses/${e}`);return Re(t)})(e)}catch(t){throw console.error(`Error getting expense ID ${e}:`,t),t}},getUserExpenses:async e=>{try{return await Le(e)}catch(t){throw console.error(`Error getting expenses for user ${e}:`,t),t}},getAllExpenses:async()=>{try{return await Ie()}catch(e){throw console.error("Error getting all expenses:",e),e}},updatePolicy:async e=>{try{await(async e=>{const t=await fetch(`${Te}/policies/${encodeURIComponent(e.category)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return Re(t)})(e),a((t=>t.map((t=>t.category===e.category?e:t))))}catch(t){throw console.error("Error updating policy:",t),t}},getCategorySummary:()=>["Office Supplies","Food & Entertainment","Travelling","Accommodation","Client & Project Expenses","Subscriptions"].map((e=>{const t=n.filter((t=>t.category===e)),r=t.reduce(((e,t)=>e+t.amount),0);return{category:e,total:r,count:t.length}})),getUserSummary:()=>{const e=new Map;return n.forEach((t=>{e.has(t.userId)||e.set(t.userId,{userId:t.userId,userName:"",total:0,count:0});const n=e.get(t.userId);n.total+=t.amount,n.count+=1})),Array.from(e.values())},getExpensesByCategory:e=>n.filter((t=>t.category===e)),getExpensesByDateRange:async(e,t)=>n.filter((n=>{const r=new Date(n.date),i=new Date(e),s=new Date(t);return r>=i&&r<=s})),validateExpenseAgainstPolicy:(e,t)=>{const n=s.find((e=>e.category===t));if(!n)return{valid:!0,message:"No policy found for this category"};const r=e<=n.maxAmount;return{valid:r,message:r?`Amount is within policy limit of ${Gi(n.maxAmount,n.currency)}`:`Amount exceeds policy limit of ${Gi(n.maxAmount,n.currency)}`}},convertExpenseAmount:u,formatExpenseAmount:async(e,t)=>{try{const n=t||(null===c||void 0===c?void 0:c.preferredCurrency)||"USD";if(e.currency===n)return Gi(e.amount,e.currency);const r=await u(e,n);return Gi(r,n)}catch(n){return console.error("Error formatting expense amount:",n),Gi(e.amount,e.currency)}}};return(0,Fe.jsx)(ts.Provider,{value:d,children:t})},rs=()=>{const e=(0,i.useContext)(ts);if(!e)throw new Error("useExpenses must be used within an ExpenseProvider");return e},is=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),{login:c,isAuthenticated:u,isLoading:d}=Ue(),h=ee();return u&&!d?(0,Fe.jsx)(ge,{to:"/dashboard"}):d?(0,Fe.jsxs)("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 md:h-16 md:w-16 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-3 md:ml-4 text-base md:text-lg text-gray-700",children:"Loading..."})]}):(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"max-w-md w-full space-y-6 md:space-y-8",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold text-center text-primary",children:"SpendWise"}),(0,Fe.jsx)("h2",{className:"mt-2 text-center text-lg md:text-xl font-semibold text-gray-800",children:"Company Expense Tracker"}),(0,Fe.jsx)("p",{className:"mt-2 text-center text-xs md:text-sm text-gray-600",children:"Sign in to manage and track your company expenses"})]}),(0,Fe.jsx)("div",{className:"mt-6 md:mt-8 bg-white py-6 md:py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,Fe.jsxs)("form",{className:"space-y-5 md:space-y-6",onSubmit:async t=>{if(t.preventDefault(),e&&n)try{l(!0),a("");await c(e,n)?h("/dashboard"):a("Invalid username or password, or your account is pending approval")}catch(r){console.error("Login error:",r),a("An error occurred during login. Please try again.")}finally{l(!1)}else a("Please provide both username and password")},children:[s&&(0,Fe.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 md:p-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-xs md:text-sm text-red-700",children:s})})]})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"username",className:"form-label text-sm md:text-base",children:"Username"}),(0,Fe.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"form-input text-sm md:text-base",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your username"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"password",className:"form-label text-sm md:text-base",children:"Password"}),(0,Fe.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"form-input text-sm md:text-base",value:n,onChange:e=>r(e.target.value),placeholder:"Enter your password"})]}),(0,Fe.jsx)("div",{children:(0,Fe.jsx)("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 "+(o?"opacity-70 cursor-not-allowed":""),children:o?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 md:h-5 md:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})}),(0,Fe.jsx)("div",{className:"text-xs md:text-sm text-center mt-4",children:(0,Fe.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,Fe.jsx)(De,{to:"/signup",className:"text-primary hover:underline",children:"Sign up now"})]})})]})})]})})},ss={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let as;const os=new Uint8Array(16);const ls=[];for(let Zd=0;Zd<256;++Zd)ls.push((Zd+256).toString(16).slice(1));function cs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ls[e[t+0]]+ls[e[t+1]]+ls[e[t+2]]+ls[e[t+3]]+"-"+ls[e[t+4]]+ls[e[t+5]]+"-"+ls[e[t+6]]+ls[e[t+7]]+"-"+ls[e[t+8]]+ls[e[t+9]]+"-"+ls[e[t+10]]+ls[e[t+11]]+ls[e[t+12]]+ls[e[t+13]]+ls[e[t+14]]+ls[e[t+15]]).toLowerCase()}const us=function(e,t,n){if(ss.randomUUID&&!t&&!e)return ss.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!as){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");as=crypto.getRandomValues.bind(crypto)}return as(os)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return cs(r)},ds=()=>{const e=ee(),[t,n]=(0,i.useState)(""),[r,s]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)("employee"),[p,m]=(0,i.useState)(""),[g,x]=(0,i.useState)("USD"),[y,v]=(0,i.useState)({}),[b,w]=(0,i.useState)(!1),[_,k]=(0,i.useState)("");return(0,Fe.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"max-w-md w-full space-y-6 md:space-y-8",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold text-center text-primary",children:"SpendWise"}),(0,Fe.jsx)("h2",{className:"mt-2 text-center text-lg md:text-xl font-semibold text-gray-800",children:"Create a New Account"}),(0,Fe.jsx)("p",{className:"mt-2 text-center text-xs md:text-sm text-gray-600",children:"Sign up to start tracking your company expenses"})]}),_&&(0,Fe.jsx)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-sm text-green-700",children:_})})]})}),y.general&&(0,Fe.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-sm text-red-700",children:y.general})})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 md:p-8",children:(0,Fe.jsxs)("form",{className:"space-y-4 md:space-y-6",onSubmit:async i=>{i.preventDefault(),v({}),k("");const f={};if(t.trim()||(f.name="Name is required"),r.trim()?r.length<3?f.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(r)||(f.username="Username can only contain letters, numbers, and underscores"):f.username="Username is required",a.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||(f.email="Please enter a valid email address"):f.email="Email is required",l?l.length<6&&(f.password="Password must be at least 6 characters"):f.password="Password is required",l!==u&&(f.confirmPassword="Passwords do not match"),p.trim()||(f.companyName="Company name is required"),Object.keys(f).length>0)v(f);else try{w(!0);const i={id:us(),name:t.trim(),username:r.trim().toLowerCase(),email:a.trim().toLowerCase(),password:l,role:h,companyName:p.trim(),isActive:"manager"===h,preferredCurrency:g};await Ki.createUser(i),k("employee"===h?"Account created! You will receive an email notification when your account is approved by the manager.":"Account created successfully! You can now log in."),n(""),s(""),o(""),c(""),d(""),m(""),setTimeout((()=>{e("/login")}),3e3)}catch(x){console.error("Error creating user:",x),x instanceof Error?x.message.includes("Username already exists")?v({username:"Username already exists. Please choose another."}):x.message.includes("Email already exists")?v({email:"Email already exists. Please use another email address."}):x.message.includes("Database connection")?v({general:"Database connection error. Please try again or reload the page."}):x.message.includes("Missing required user fields")?v({general:"Some required information is missing. Please check all fields."}):v({general:"An error occurred while creating your account. Please try again."}):v({general:"An unexpected error occurred. Please try again."})}finally{w(!1)}},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"name",className:"form-label",children:"Full Name"}),(0,Fe.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:t,onChange:e=>n(e.target.value),className:"form-input "+(y.name?"border-red-500":""),placeholder:"John Doe"}),y.name&&(0,Fe.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.name})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),(0,Fe.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:r,onChange:e=>s(e.target.value),className:"form-input "+(y.username?"border-red-500":""),placeholder:"johndoe"}),y.username&&(0,Fe.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.username})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,Fe.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:a,onChange:e=>o(e.target.value),className:"form-input "+(y.email?"border-red-500":""),placeholder:"john@example.com"}),y.email&&(0,Fe.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.email})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,Fe.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:l,onChange:e=>c(e.target.value),className:"form-input "+(y.password?"border-red-500":""),placeholder:"******"}),y.password&&(0,Fe.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.password})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),(0,Fe.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:u,onChange:e=>d(e.target.value),className:"form-input "+(y.confirmPassword?"border-red-500":""),placeholder:"******"}),y.confirmPassword&&(0,Fe.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.confirmPassword})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"role",className:"form-label",children:"Role"}),(0,Fe.jsxs)("div",{className:"flex space-x-4 mt-1",children:[(0,Fe.jsxs)("label",{className:"inline-flex items-center",children:[(0,Fe.jsx)("input",{type:"radio",className:"form-radio text-primary",name:"role",value:"employee",checked:"employee"===h,onChange:()=>f("employee")}),(0,Fe.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Employee"})]}),(0,Fe.jsxs)("label",{className:"inline-flex items-center",children:[(0,Fe.jsx)("input",{type:"radio",className:"form-radio text-primary",name:"role",value:"manager",checked:"manager"===h,onChange:()=>f("manager")}),(0,Fe.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Manager"})]})]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"companyName",className:"form-label",children:"Company Name"}),(0,Fe.jsx)("input",{id:"companyName",name:"companyName",type:"text",required:!0,value:p,onChange:e=>m(e.target.value),className:"form-input "+(y.companyName?"border-red-500":""),placeholder:"Acme Inc."}),y.companyName&&(0,Fe.jsx)("p",{className:"mt-1 text-xs text-red-600",children:y.companyName}),"employee"===h&&(0,Fe.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"If your company already has a manager on SpendWise, make sure to use the exact company name."})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("label",{htmlFor:"currency",className:"form-label",children:"Preferred Currency"}),(0,Fe.jsxs)("select",{id:"currency",name:"currency",value:g,onChange:e=>x(e.target.value),className:"form-input",children:[(0,Fe.jsx)("option",{value:"USD",children:"USD ($)"}),(0,Fe.jsx)("option",{value:"EUR",children:"EUR (\u20ac)"}),(0,Fe.jsx)("option",{value:"GBP",children:"GBP (\xa3)"}),(0,Fe.jsx)("option",{value:"INR",children:"INR (\u20b9)"})]})]}),(0,Fe.jsx)("div",{className:"pt-2",children:(0,Fe.jsx)("button",{type:"submit",disabled:b,className:"w-full btn btn-primary "+(b?"opacity-70 cursor-not-allowed":""),children:b?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})}),(0,Fe.jsx)("div",{className:"text-center text-sm",children:(0,Fe.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,Fe.jsx)(De,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})})]})})]})})};function hs(e){return e+.5|0}const fs=(e,t,n)=>Math.max(Math.min(e,n),t);function ps(e){return fs(hs(2.55*e),0,255)}function ms(e){return fs(hs(255*e),0,255)}function gs(e){return fs(hs(e/2.55)/100,0,1)}function xs(e){return fs(hs(100*e),0,100)}const ys={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vs=[..."0123456789ABCDEF"],bs=e=>vs[15&e],ws=e=>vs[(240&e)>>4]+vs[15&e],_s=e=>(240&e)>>4===(15&e);function ks(e){var t=(e=>_s(e.r)&&_s(e.g)&&_s(e.b)&&_s(e.a))(e)?bs:ws;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Ss=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function js(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Ns(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Es(e,t,n){const r=js(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Cs(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=a>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,a]}function Ms(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(ms)}function Ps(e,t,n){return Ms(js,e,t,n)}function Ds(e){return(e%360+360)%360}function Os(e){const t=Ss.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?ps(+t[5]):ms(+t[5]));const i=Ds(+t[2]),s=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Ms(Es,e,t,n)}(i,s,a):"hsv"===t[1]?function(e,t,n){return Ms(Ns,e,t,n)}(i,s,a):Ps(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}const As={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ts={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Rs;function Ls(e){Rs||(Rs=function(){const e={},t=Object.keys(Ts),n=Object.keys(As);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,As[s]);s=parseInt(Ts[a],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),Rs.transparent=[0,0,0,0]);const t=Rs[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Is=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Fs=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,zs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Bs(e,t,n){if(e){let r=Cs(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Ps(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Us(e,t){return e?Object.assign(t||{},e):e}function Ws(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ms(e[3]))):(t=Us(e,{r:0,g:0,b:0,a:1})).a=ms(t.a),t}function $s(e){return"r"===e.charAt(0)?function(e){const t=Is.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?ps(e):fs(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?ps(n):fs(n,0,255)),r=255&(t[4]?ps(r):fs(r,0,255)),i=255&(t[6]?ps(i):fs(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):Os(e)}class Vs{constructor(e){if(e instanceof Vs)return e;const t=typeof e;let n;"object"===t?n=Ws(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*ys[e[1]],g:255&17*ys[e[2]],b:255&17*ys[e[3]],a:5===n?17*ys[e[4]]:255}:7!==n&&9!==n||(t={r:ys[e[1]]<<4|ys[e[2]],g:ys[e[3]]<<4|ys[e[4]],b:ys[e[5]]<<4|ys[e[6]],a:9===n?ys[e[7]]<<4|ys[e[8]]:255})),t}(e)||Ls(e)||$s(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Us(this._rgb);return e&&(e.a=gs(e.a)),e}set rgb(e){this._rgb=Ws(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${gs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?ks(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Cs(e),n=t[0],r=xs(t[1]),i=xs(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${gs(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,a=2*s-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=zs(gs(e.r)),i=zs(gs(e.g)),s=zs(gs(e.b));return{r:ms(Fs(r+n*(zs(gs(t.r))-r))),g:ms(Fs(i+n*(zs(gs(t.g))-i))),b:ms(Fs(s+n*(zs(gs(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Vs(this.rgb)}alpha(e){return this._rgb.a=ms(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=hs(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bs(this._rgb,2,e),this}darken(e){return Bs(this._rgb,2,-e),this}saturate(e){return Bs(this._rgb,1,e),this}desaturate(e){return Bs(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Cs(e);n[0]=Ds(n[0]+t),n=Ps(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Hs(){}const Ks=(()=>{let e=0;return()=>e++})();function qs(e){return null===e||void 0===e}function Ys(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Qs(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Xs(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Gs(e,t){return Xs(e)?e:t}function Js(e,t){return"undefined"===typeof e?t:e}const Zs=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ea(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function ta(e,t,n,r){let i,s,a;if(Ys(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(Qs(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function na(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ra(e){if(Ys(e))return e.map(ra);if(Qs(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=ra(e[n[i]]);return t}return e}function ia(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function sa(e,t,n,r){if(!ia(e))return;const i=t[e],s=n[e];Qs(i)&&Qs(s)?aa(i,s,r):t[e]=ra(s)}function aa(e,t,n){const r=Ys(t)?t:[t],i=r.length;if(!Qs(e))return e;const s=(n=n||{}).merger||sa;let a;for(let o=0;o<i;++o){if(a=r[o],!Qs(a))continue;const t=Object.keys(a);for(let r=0,i=t.length;r<i;++r)s(t[r],e,a,n)}return e}function oa(e,t){return aa(e,t,{merger:la})}function la(e,t,n){if(!ia(e))return;const r=t[e],i=n[e];Qs(r)&&Qs(i)?oa(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ra(i))}const ca={"":e=>e,x:e=>e.x,y:e=>e.y};function ua(e,t){const n=ca[t]||(ca[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function da(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ha=e=>"undefined"!==typeof e,fa=e=>"function"===typeof e,pa=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const ma=Math.PI,ga=2*ma,xa=ga+ma,ya=Number.POSITIVE_INFINITY,va=ma/180,ba=ma/2,wa=ma/4,_a=2*ma/3,ka=Math.log10,Sa=Math.sign;function ja(e,t,n){return Math.abs(e-t)<n}function Na(e){const t=Math.round(e);e=ja(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ka(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Ea(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Ca(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ma(e){return e*(ma/180)}function Pa(e){return e*(180/ma)}function Da(e){if(!Xs(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Oa(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*ma&&(s+=ga),{angle:s,distance:i}}function Aa(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ta(e,t){return(e-t+xa)%ga-ma}function Ra(e){return(e%ga+ga)%ga}function La(e,t,n,r){const i=Ra(e),s=Ra(t),a=Ra(n),o=Ra(s-i),l=Ra(a-i),c=Ra(i-s),u=Ra(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function Ia(e,t,n){return Math.max(t,Math.min(n,e))}function Fa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function za(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Ba=(e,t,n,r)=>za(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Ua=(e,t,n)=>za(e,n,(r=>e[r][t]>=n));const Wa=["push","pop","shift","splice","unshift"];function $a(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Wa.forEach((t=>{delete e[t]})),delete e._chartjs)}function Va(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ha="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Ka(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n=s,r||(r=!0,Ha.call(window,(()=>{r=!1,e.apply(t,n)})))}}const qa=e=>"start"===e?"left":"end"===e?"right":"center",Ya=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Qa(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(i=Math.min(Ba(l,u,d).lo,n?r:Ba(t,u,a.getPixelForValue(d)).lo),c){const e=l.slice(0,i+1).reverse().findIndex((e=>!qs(e[o.axis])));i-=Math.max(0,e)}i=Ia(i,0,r-1)}if(p){let e=Math.max(Ba(l,a.axis,h,!0).hi+1,n?0:Ba(t,u,a.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!qs(e[o.axis])));e+=Math.max(0,t)}s=Ia(e,i,r)-i}else s=r-i}return{start:i,count:s}}function Xa(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Ga=e=>0===e||1===e,Ja=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*ga/n),Za=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ga/n)+1,eo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*ba),easeOutSine:e=>Math.sin(e*ba),easeInOutSine:e=>-.5*(Math.cos(ma*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ga(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ga(e)?e:Ja(e,.075,.3),easeOutElastic:e=>Ga(e)?e:Za(e,.075,.3),easeInOutElastic(e){const t=.1125;return Ga(e)?e:e<.5?.5*Ja(2*e,t,.45):.5+.5*Za(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-eo.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*eo.easeInBounce(2*e):.5*eo.easeOutBounce(2*e-1)+.5};function to(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function no(e){return to(e)?e:new Vs(e)}function ro(e){return to(e)?e:new Vs(e).saturate(.5).darken(.1).hexString()}const io=["x","y","borderWidth","radius","tension"],so=["color","borderColor","backgroundColor"];const ao=new Map;function oo(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=ao.get(n);return r||(r=new Intl.NumberFormat(e,t),ao.set(n,r)),r}(t,n).format(e)}const lo={values:e=>Ys(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=ka(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),oo(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(ka(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?lo.numeric.call(this,e,t,n):""}};var co={formatters:lo};const uo=Object.create(null),ho=Object.create(null);function fo(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function po(e,t,n){return"string"===typeof t?aa(fo(e,t),n):aa(fo(e,""),t)}class mo{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>ro(t.backgroundColor),this.hoverBorderColor=(e,t)=>ro(t.borderColor),this.hoverColor=(e,t)=>ro(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return po(this,e,t)}get(e){return fo(this,e)}describe(e,t){return po(ho,e,t)}override(e,t){return po(uo,e,t)}route(e,t,n,r){const i=fo(this,e),s=fo(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=s[r];return Qs(e)?Object.assign({},t,e):Js(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var go=new mo({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:so},numbers:{type:"number",properties:io}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:co.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function xo(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function yo(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function vo(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function bo(e,t,n,r){wo(e,t,n,r,null)}function wo(e,t,n,r,i){let s,a,o,l,c,u,d,h;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*va;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,m,0,0,ga):e.arc(n,r,m,0,ga),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=_a,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=_a,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,a=Math.cos(g+wa)*l,d=Math.cos(g+wa)*(i?i/2-c:l),o=Math.sin(g+wa)*l,h=Math.sin(g+wa)*(i?i/2-c:l),e.arc(n-d,r-o,c,g-ma,g-ba),e.arc(n+h,r-a,c,g-ba,g),e.arc(n+d,r+o,c,g,g+ba),e.arc(n-h,r+a,c,g+ba,g+ma),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=wa;case"rectRot":d=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+h,r-a),e.lineTo(n+d,r+o),e.lineTo(n-h,r+a),e.closePath();break;case"crossRot":g+=wa;case"cross":d=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"star":d=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a),g+=wa,d=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"line":a=i?i/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function _o(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ko(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function So(e){e.restore()}function jo(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function No(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Eo(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,u),e.lineTo(o,u),e.stroke()}}function Co(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Mo(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Ys(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),qs(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&Co(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),qs(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),Eo(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function Po(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ma,ma,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,ma,ba,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,ba,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-ba,!0),e.lineTo(n+a.topLeft,r)}const Do=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Oo=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ao(e,t){const n=(""+e).match(Do);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const To=e=>+e||0;function Ro(e,t){const n={},r=Qs(t),i=r?Object.keys(t):t,s=Qs(e)?r?n=>Js(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of i)n[a]=To(s(a));return n}function Lo(e){return Ro(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Io(e){return Ro(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Fo(e){const t=Lo(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function zo(e,t){e=e||{},t=t||go.font;let n=Js(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=Js(e.style,t.style);r&&!(""+r).match(Oo)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Js(e.family,t.family),lineHeight:Ao(Js(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Js(e.weight,t.weight),string:""};return i.string=function(e){return!e||qs(e.size)||qs(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Bo(e,t,n,r){let i,s,a,o=!0;for(i=0,s=e.length;i<s;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&Ys(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function Uo(e,t){return Object.assign(Object.create(e),t)}function Wo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Zo("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Wo([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>qo(n,r,(()=>function(e,t,n,r){let i;for(const s of t)if(i=Zo(Ho(s,e),n),"undefined"!==typeof i)return Ko(e,i)?Go(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>el(e).includes(t),ownKeys:e=>el(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function $o(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Vo(e,r),setContext:t=>$o(e,t,n,r),override:i=>$o(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>qo(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];fa(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,a||r);o.delete(e),Ko(e,l)&&(l=Go(i._scopes,i,e,l));return l}(t,o,e,n));Ys(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(Qs(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Go(r,i,e,l);t.push($o(n,s,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));Ko(t,o)&&(o=$o(o,i,s&&s[t],a));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Vo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:fa(n)?n:()=>n,isIndexable:fa(r)?r:()=>r}}const Ho=(e,t)=>e?e+da(t):t,Ko=(e,t)=>Qs(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function qo(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function Yo(e,t,n){return fa(e)?e(t,n):e}const Qo=(e,t)=>!0===e?t:"string"===typeof e?ua(t,e):void 0;function Xo(e,t,n,r,i){for(const s of t){const t=Qo(n,s);if(t){e.add(t);const s=Yo(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Go(e,t,n,r){const i=t._rootScopes,s=Yo(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let l=Jo(o,a,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=Jo(o,a,s,l,r),null!==l))&&Wo(Array.from(o),[""],i,s,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(Ys(i)&&Qs(n))return n;return i||{}}(t,n,r))))}function Jo(e,t,n,r,i){for(;n;)n=Xo(e,t,n,r,i);return n}function Zo(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function el(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const tl=Number.EPSILON||1e-14,nl=(e,t)=>t<e.length&&!e[t].skip&&e[t],rl=e=>"x"===e?"y":"x";function il(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=Aa(s,i),l=Aa(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function sl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=rl(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=nl(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=nl(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[n]-l[n])/e:0}s[a]=o?c?Sa(i[a-1])!==Sa(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,s,a,o,l,c=nl(e,0);for(let u=0;u<r-1;++u)l=c,c=nl(e,u+1),l&&c&&(ja(t[u],0,tl)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(a=3/Math.sqrt(o),n[u]=i*a*t[u],n[u+1]=s*a*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=rl(n),i=e.length;let s,a,o,l=nl(e,0);for(let c=0;c<i;++c){if(a=o,o=l,l=nl(e,c+1),!o)continue;const i=o[n],u=o[r];a&&(s=(i-a[n])/3,o[`cp1${n}`]=i-s,o[`cp1${r}`]=u-s*t[c]),l&&(s=(l[n]-i)/3,o[`cp2${n}`]=i+s,o[`cp2${r}`]=u+s*t[c])}}(e,s,t)}function al(e,t,n){return Math.max(Math.min(e,n),t)}function ol(e,t,n,r,i){let s,a,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)sl(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],l=il(n,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,s,a,o=_o(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&_o(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=al(i.cp1x,t.left,t.right),i.cp1y=al(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=al(i.cp2x,t.left,t.right),i.cp2y=al(i.cp2y,t.top,t.bottom)))}(e,n)}function ll(){return"undefined"!==typeof window&&"undefined"!==typeof document}function cl(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ul(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const dl=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const hl=["top","right","bottom","left"];function fl(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=hl[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function pl(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=dl(n),s="border-box"===i.boxSizing,a=fl(i,"padding"),o=fl(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))a=i,o=s;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:p}=t;return s&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/p*n.height/r)}}const ml=e=>Math.round(10*e)/10;function gl(e,t,n,r){const i=dl(e),s=fl(i,"margin"),a=ul(i.maxWidth,e,"clientWidth")||ya,o=ul(i.maxHeight,e,"clientHeight")||ya,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&cl(e);if(s){const e=s.getBoundingClientRect(),a=dl(s),o=fl(a,"border","width"),l=fl(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=ul(a.maxWidth,s,"clientWidth"),i=ul(a.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||ya,maxHeight:i||ya}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=fl(i,"border","width"),t=fl(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=ml(Math.min(c,a,l.maxWidth)),u=ml(Math.min(u,o,l.maxHeight)),c&&!u&&(u=ml(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=ml(Math.floor(u*r))),{width:c,height:u}}function xl(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const yl=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ll()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(We){}return e}();function vl(e,t){const n=function(e,t){return dl(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function bl(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function wl(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function _l(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=bl(e,i,n),o=bl(i,s,n),l=bl(s,t,n),c=bl(a,o,n),u=bl(o,l,n);return bl(c,u,n)}function kl(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Sl(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function jl(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Nl(e){return"angle"===e?{between:La,compare:Ta,normalize:Ra}:{between:Fa,compare:(e,t)=>e-t,normalize:e=>e}}function El(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function Cl(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:l,normalize:c}=Nl(r),{start:u,end:d,loop:h,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=Nl(r),l=t.length;let c,u,{start:d,end:h,loop:f}=e;if(f){for(d+=l,h+=l,c=0,u=l;c<u&&a(o(t[d%l][r]),i,s);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:f,style:e.style}}(e,t,n),p=[];let m,g,x,y=!1,v=null;const b=()=>y||l(i,x,m)&&0!==o(i,x),w=()=>!y||0===o(s,m)||l(s,x,m);for(let _=u,k=u;_<=d;++_)g=t[_%a],g.skip||(m=c(g[r]),m!==x&&(y=l(m,i,s),null===v&&b()&&(v=0===o(m,i)?_:k),null!==v&&w()&&(p.push(El({start:v,end:_,loop:h,count:a,style:f})),v=null),k=_,x=m));return null!==v&&p.push(El({start:v,end:d,loop:h,count:a,style:f})),p}function Ml(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Cl(r[i],e.points,t);s.length&&n.push(...s)}return n}function Pl(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=Dl(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let u=s,d=t[0].start,h=d;function f(e,t,r,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,d=t%l)}}for(const p of t){d=o?d:p.start;let e,t=n[d%l];for(h=d+1;h<=p.end;h++){const s=n[h%l];e=Dl(r.setContext(Uo(i,{type:"segment",p0:t,p1:s,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),Ol(e,u)&&f(d,h-1,p.loop,u),t=s,u=e}d<h-1&&f(d,h-1,p.loop,u)}return c}(e,t,n,r):t}function Dl(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ol(e,t){if(!t)return!1;const n=[],r=function(e,t){return to(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class Al{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=Ha.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,a=i.length-1,o=!1;for(;a>=0;--a)s=i[a],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Tl=new Al;const Rl="transparent",Ll={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=no(e||Rl),i=r.valid&&no(t||Rl);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Il{constructor(e,t,n,r){const i=t[n];r=Bo([e.to,r,i,e.from]);const s=Bo([e.from,i,r]);this._active=!0,this._fn=e.fn||Ll[e.type||typeof s],this._easing=eo[e.easing]||eo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Bo([e.to,t,r,e.from]),this._from=Bo([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,a=this._to;let o;if(this._active=i!==a&&(s||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Fl{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Qs(e))return;const t=Object.keys(go.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!Qs(i))return;const s={};for(const e of t)s[e]=i[e];(Ys(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,a);continue}u.cancel()}d&&d.duration?(i[l]=u=new Il(d,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Tl.add(this._chart,n),!0):void 0}}function zl(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function Bl(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Ul(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let a,o,l,c;if(null===t)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=e.values[l],Xs(c)&&(s||0===t||Sa(t)===Sa(c))&&(t+=c)}return u||r.all?t:0}function Wl(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function $l(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Vl(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function Hl(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,a,r),d=t.length;let h;for(let f=0;f<d;++f){const e=t[f],{[l]:n,[c]:s}=e;h=(e._stacks||(e._stacks={}))[c]=$l(i,u,n),h[o]=s,h._top=Vl(h,a,!0,r.type),h._bottom=Vl(h,a,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=s}}function Kl(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function ql(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const Yl=e=>"reset"===e||"none"===e,Ql=(e,t)=>t?e:Object.assign({},e);class Xl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ql(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=Js(n.xAxisID,Kl(e,"x")),s=t.yAxisID=Js(n.yAxisID,Kl(e,"y")),a=t.rAxisID=Js(n.rAxisID,Kl(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,s,a),c=t.vAxisID=r(o,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$a(this._data,this),e._stacked&&ql(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Qs(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:e[u]};return o}(t,e)}else if(n!==t){if(n){$a(n,this);const e=this._cachedMeta;ql(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Wa.forEach((e=>{const t="_onData"+da(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const a=n.apply(this,i);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),a}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=Wl(t.vScale,t),t.stack!==n.stack&&(r=!0,ql(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(Hl(this,t._parsed),t._stacked=Wl(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,a=i.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Ys(r[e])?this.parseArrayData(n,r,e,t):Qs(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[a]||d&&l[a]<d[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(i()&&(u=!1),d=l);n._sorted=u}s&&Hl(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,a=i.axis,o=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let d,h,f;for(d=0,h=r;d<h;++d)f=d+n,u[d]={[a]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+n,h=t[d],l[c]={x:i.parse(ua(h,a),d),y:s.parse(ua(h,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return Ul({keys:Bl(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,s=Ul(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Bl(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let d,h;function f(){h=r[d];const t=h[a.axis];return!Xs(h[e.axis])||c>t||u<t}for(d=0;d<s&&(f()||(this.updateRangeFromParsed(l,e,h,o),!i));++d);if(i)for(d=s-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],Xs(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return Qs(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(Js(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=zl(e,n),i=zl(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return Uo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return Uo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],o=this.enableOptionSharing&&ha(n);if(a)return Ql(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(go.elements[e]),f=l.resolveNamedOptions(d,h,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(Ql(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,a=i[s];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(s,this.getContext(e,n,t))}const l=new Fl(r,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Yl(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){Yl(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Yl(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=s;a--)e[a]=e[a-t]};for(o(i),a=e;a<s;++a)i[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&ql(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Gl extends Xl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,a=e=>+n[e];if(Qs(n[e])){const{key:e="value"}=this._parsing;a=t=>+ua(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=a(i)}}_getRotation(){return Ma(this.options.rotation-90)}_getCircumference(){return Ma(this.options.circumference)}_getRotationExtents(){let e=ga,t=-ga;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min((l=this.options.cutout,c=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function(e,t,n){let r=1,i=1,s=0,a=0;if(t<ga){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(e,t,r)=>La(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>La(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),m=f(0,c,d),g=f(ba,u,h),x=p(ma,c,d),y=p(ma+ba,u,h);r=(m-x)/2,i=(g-y)/2,s=-(m+x)/2,a=-(g+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}(h,d,o),x=(n.width-s)/f,y=(n.height-s)/p,v=Math.max(Math.min(x,y)/2,0),b=Zs(this.options.radius,v),w=(b-Math.max(b*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=g*b,r.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/ga)}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.chartArea,o=s.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=i&&o.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,i);for(m=t;m<t+n;++m){const t=this._circumference(m,i),n=e[m],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};p&&(s.options=f||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ga*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=oo(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,s,a,o;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,a=s.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)o=a.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Js(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Jl extends Xl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:o}=Qa(t,r,s);this._drawStart=a,this._drawCount=o,Xa(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),d=s.axis,h=a.axis,{spanGaps:f,segment:p}=this.options,m=Ea(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,x=t+n,y=e.length;let v=t>0&&this.getParsed(t-1);for(let b=0;b<y;++b){const n=e[b],f=g?n:{};if(b<t||b>=x){f.skip=!0;continue}const y=this.getParsed(b),w=qs(y[h]),_=f[d]=s.getPixelForValue(y[d],b),k=f[h]=i||w?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,y,o):y[h],b);f.skip=isNaN(_)||isNaN(k)||w,f.stop=b>0&&Math.abs(y[d]-v[d])>m,p&&(f.parsed=y,f.raw=l.data[b]),u&&(f.options=c||this.resolveDataElementOptions(b,n.active?"active":r)),g||this.updateElement(n,b,f,r),v=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Zl extends Gl{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function ec(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tc{static override(e){Object.assign(tc.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ec()}parse(){return ec()}format(){return ec()}add(){return ec()}diff(){return ec()}startOf(){return ec()}endOf(){return ec()}}var nc=tc;function rc(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&a&&s.length){const a=o._reversePixels?Ua:Ba;if(!r){const r=a(s,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,s=n.slice(0,r.lo+1).reverse().findIndex((e=>!qs(e[t.axis])));r.lo-=Math.max(0,s);const a=n.slice(r.hi).findIndex((e=>!qs(e[t.axis])));r.hi+=Math.max(0,a)}return r}if(i._sharedOptions){const e=s[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=a(s,t,n-r),i=a(s,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function ic(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=rc(s[o],t,a,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function sc(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return ic(e,n,t,(function(n,a,o){(i||_o(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:a,index:o})}),!0),s}function ac(e,t,n,r,i,s){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return ic(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,i);if(r&&!d)return;const h=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(h))&&!d)return;const f=o(t,h);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})})),a}function oc(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?ac(e,t,n,r,i,s):function(e,t,n,r){let i=[];return ic(e,n,t,(function(e,n,s){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Oa(e,{x:t.x,y:t.y});La(l,a,o)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function lc(e,t,n,r,i){const s=[],a="x"===n?"inXRange":"inYRange";let o=!1;return ic(e,n,t,((e,r,l)=>{e[a]&&e[a](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))})),r&&!o?[]:s}var cc={evaluateInteractionItems:ic,modes:{index(e,t,n,r){const i=pl(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?sc(e,i,s,r,a):oc(e,i,s,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=pl(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?sc(e,i,s,r,a):oc(e,i,s,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>sc(e,pl(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=pl(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return oc(e,i,s,n.intersect,r,a)},x:(e,t,n,r)=>lc(e,pl(t,e),"x",n.intersect,r),y:(e,t,n,r)=>lc(e,pl(t,e),"y",n.intersect,r)}};const uc=["left","top","right","bottom"];function dc(e,t){return e.filter((e=>e.pos===t))}function hc(e,t){return e.filter((e=>-1===uc.indexOf(e.pos)&&e.box.axis===t))}function fc(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function pc(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!uc.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:a&&t.availableHeight)}return n}function mc(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function gc(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xc(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!Qs(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&gc(a,s.getPadding());const o=Math.max(0,t.outerWidth-mc(a,e,"left","right")),l=Math.max(0,t.outerHeight-mc(a,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function yc(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function vc(e,t,n,r){const i=[];let s,a,o,l,c,u;for(s=0,a=e.length,c=0;s<a;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,yc(o.horizontal,t));const{same:a,other:d}=xc(t,n,o,r);c|=a&&i.length,u=u||d,l.fullSize||i.push(o)}return c&&vc(i,t,n,r)||u}function bc(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function wc(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;ha(l.start)&&(a=l.start),e.fullSize?bc(e,i.left,a,n.outerWidth-i.right-i.left,s):bc(e,t.left+l.placed,a,r,s),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;ha(l.start)&&(s=l.start),e.fullSize?bc(e,s,i.top,a,n.outerHeight-i.bottom-i.top):bc(e,s,t.top+l.placed,a,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=a}var _c={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Fo(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:a,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}(e),n=fc(t.filter((e=>e.box.fullSize)),!0),r=fc(dc(t,"left"),!0),i=fc(dc(t,"right")),s=fc(dc(t,"top"),!0),a=fc(dc(t,"bottom")),o=hc(t,"x"),l=hc(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:dc(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;ta(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);gc(h,Fo(r));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),p=pc(l.concat(c),d);vc(o.fullSize,f,d,p),vc(l,f,d,p),vc(c,f,d,p)&&vc(l,f,d,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),wc(o.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,wc(o.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ta(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class kc{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Sc extends kc{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const jc="$chartjs",Nc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ec=e=>null===e||""===e;const Cc=!!yl&&{passive:!0};function Mc(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Cc)}function Pc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Dc(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Pc(n.addedNodes,r),t=t&&!Pc(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Oc(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Pc(n.removedNodes,r),t=t&&!Pc(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Ac=new Map;let Tc=0;function Rc(){const e=window.devicePixelRatio;e!==Tc&&(Tc=e,Ac.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Lc(e,t,n){const r=e.canvas,i=r&&cl(r);if(!i)return;const s=Ka(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return a.observe(i),function(e,t){Ac.size||window.addEventListener("resize",Rc),Ac.set(e,t)}(e,s),a}function Ic(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Ac.delete(e),Ac.size||window.removeEventListener("resize",Rc)}(e)}function Fc(e,t,n){const r=e.canvas,i=Ka((t=>{null!==e.ctx&&n(function(e,t){const n=Nc[e.type]||e.type,{x:r,y:i}=pl(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Cc)}(r,t,i),i}class zc extends kc{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[jc]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ec(i)){const t=vl(e,"width");void 0!==t&&(e.width=t)}if(Ec(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=vl(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[jc])return!1;const n=t[jc].initial;["height","width"].forEach((e=>{const r=n[e];qs(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[jc],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:Dc,detach:Oc,resize:Lc}[t]||Fc;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Ic,detach:Ic,resize:Ic}[t]||Mc)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return gl(e,t,n,r)}isAttached(e){const t=e&&cl(e);return!(!t||!t.isConnected)}}class Bc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Ea(this.x)&&Ea(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function Uc(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return function(e,t,n,r){let i,s=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),s++,a=n[s*r])}(t,c,s,a/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let a=0,o=s.length-1;a<o;a++){const e=s[a];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(Wc(t,c,u,qs(r)?0:o-r,o),e=0,n=a-1;e<n;e++)Wc(t,c,u,s[e],s[e+1]);return Wc(t,c,u,l,qs(r)?t.length:l+r),c}return Wc(t,c,u),c}function Wc(e,t,n,r,i){const s=Js(r,0),a=Math.min(Js(i,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<a;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}const $c=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Vc=(e,t)=>Math.min(t||e,e);function Hc(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function Kc(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>a+o)))return c}function qc(e){return e.drawTicks?e.tickLength:0}function Yc(e,t){if(!e.display)return 0;const n=zo(e.font,t),r=Fo(e.padding);return(Ys(e.text)?e.text.length:1)*n.lineHeight+r.height}function Qc(e,t,n){let r=qa(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class Xc extends Bc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Gs(e,Number.POSITIVE_INFINITY),t=Gs(t,Number.NEGATIVE_INFINITY),n=Gs(n,Number.POSITIVE_INFINITY),r=Gs(r,Number.NEGATIVE_INFINITY),{min:Gs(e,n),max:Gs(t,r),minDefined:Xs(e),maxDefined:Xs(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Gs(n,Gs(r,n)),max:Gs(r,Gs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ea(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=Zs(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(s)),max:a(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?Hc(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Uc(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ea(this.options.afterUpdate,[this])}beforeSetDimensions(){ea(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ea(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ea(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ea(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=ea(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){ea(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ea(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Vc(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,a,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=Ia(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),u+6>s&&(s=h/(n-(e.offset?.5:1)),a=this.maxHeight-qc(e.grid)-t.padding-Yc(e.title,this.chart.options.font),o=Math.sqrt(u*u+d*d),l=Pa(Math.min(Math.asin(Ia((c.highest.height+6)/s,-1,1)),Math.asin(Ia(a/o,-1,1))-Math.asin(Ia(d/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){ea(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ea(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=Yc(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=qc(i)+s):(e.height=this.maxHeight,e.width=qc(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=Ma(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const t=n.mirror?0:u*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;o?l?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===i?d=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-a+s)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ea(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)qs(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Hc(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],a=[],o=Math.floor(t/Vc(t,n));let l,c,u,d,h,f,p,m,g,x,y,v=0,b=0;for(l=0;l<t;l+=o){if(d=e[l].label,h=this._resolveTickFontOptions(l),r.font=f=h.string,p=i[f]=i[f]||{data:{},gc:[]},m=h.lineHeight,g=x=0,qs(d)||Ys(d)){if(Ys(d))for(c=0,u=d.length;c<u;++c)y=d[c],qs(y)||Ys(y)||(g=xo(r,p.data,p.gc,g,y),x+=m)}else g=xo(r,p.data,p.gc,g,d),x=m;s.push(g),a.push(x),v=Math.max(g,v),b=Math.max(x,b)}!function(e,t){ta(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const w=s.indexOf(v),_=a.indexOf(b),k=e=>({width:s[e]||0,height:a[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(_),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Ia(this._alignToPixels?yo(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Uo(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Uo(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Ma(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:a}=r,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=qc(i),d=[],h=a.setContext(this.getContext()),f=h.display?h.width:0,p=f/2,m=function(e){return yo(n,e,f)};let g,x,y,v,b,w,_,k,S,j,N,E;if("top"===s)g=m(this.bottom),w=this.bottom-u,k=g-p,j=m(e.top)+p,E=e.bottom;else if("bottom"===s)g=m(this.top),j=e.top,E=m(e.bottom)-p,w=g+p,k=this.top+u;else if("left"===s)g=m(this.right),b=this.right-u,_=g-p,S=m(e.left)+p,N=e.right;else if("right"===s)g=m(this.left),S=e.left,N=m(e.right)-p,b=g+p,_=this.left+u;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(Qs(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}j=e.top,E=e.bottom,w=g+p,k=w+u}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if(Qs(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}b=g-p,_=b-u,S=e.left,N=e.right}const C=Js(r.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/C));for(x=0;x<c;x+=M){const e=this.getContext(x),t=i.setContext(e),r=a.setContext(e),s=t.lineWidth,c=t.color,u=r.dash||[],h=r.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=Kc(this,x,o),void 0!==y&&(v=yo(n,y,s),l?b=_=S=N=v:w=k=j=E=v,d.push({tx1:b,ty1:w,tx2:_,ty2:k,x1:S,y1:j,x2:N,y2:E,width:s,color:c,borderDash:u,borderDashOffset:h,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=i,d=qc(n.grid),h=d+c,f=u?-c:h,p=-Ma(this.labelRotation),m=[];let g,x,y,v,b,w,_,k,S,j,N,E,C="middle";if("top"===r)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,b=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,b=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(Qs(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)b=(e.left+e.right)/2-h;else if(Qs(r)){const e=Object.keys(r)[0],t=r[e];b=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?C="top":"end"===o&&(C="bottom"));const M=this._getLabelSizes();for(g=0,x=a.length;g<x;++g){y=a[g],v=y.label;const e=i.setContext(this.getContext(g));k=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),j=S.lineHeight,N=Ys(v)?v.length:1;const t=N/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let d,h=_;if(s?(b=k,"inner"===_&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===r?"near"===l||0!==p?-N*j+j/2:"center"===l?-M.highest.height/2-t*j+j:-M.highest.height+j/2:"near"===l||0!==p?j/2:"center"===l?M.highest.height/2-t*j:M.highest.height-N*j,u&&(E*=-1),0===p||e.showLabelBackdrop||(b+=j/2*Math.sin(p))):(w=k,E=(1-N)*j/2),e.showLabelBackdrop){const t=Fo(e.backdropPadding),n=M.heights[g],r=M.widths[g];let i=E-t.top,s=0-t.left;switch(C){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===x-1?s-=r:g>0&&(s-=r/2)}d={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:v,font:S,textOffset:E,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:C,translation:[b,w],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ma(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=yo(e,this.left,s)-s/2,c=yo(e,this.right,a)+a/2,u=d=o):(u=yo(e,this.top,s)-s/2,d=yo(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&ko(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Mo(t,i.label,0,i.textOffset,n,e)}n&&So(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=zo(n.font),s=Fo(n.padding),a=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||Qs(t)?(o+=s.bottom,Ys(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,f,p=0;const m=a-i,g=o-s;if(e.isHorizontal()){if(h=Ya(r,s,o),Qs(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+m-t}else f="center"===n?(c.bottom+c.top)/2+m-t:$c(e,n,t);d=o-s}else{if(Qs(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:$c(e,n,t);f=Ya(r,a,i),p="left"===n?-ba:ba}return{titleX:h,titleY:f,maxWidth:d,rotation:p}}(this,o,t,a);Mo(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:Qc(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Js(e.grid&&e.grid.z,-1),r=Js(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Xc.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return zo(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Gc{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=aa(Object.create(null),[n?go.get(n):{},go.get(t),e.defaults]);go.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");go.route(s,i,l,o)}))}(t,e.defaultRoutes);e.descriptors&&go.describe(t,e.descriptors)}(e,s,n),this.override&&go.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in go[r]&&(delete go[r][n],this.override&&delete uo[n])}}class Jc{constructor(){this.controllers=new Gc(Xl,"datasets",!0),this.elements=new Gc(Bc,"elements"),this.plugins=new Gc(Object,"plugins"),this.scales=new Gc(Xc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):ta(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=da(e);ea(n["before"+r],[],n),t[e](n),ea(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var Zc=new Jc;class eu{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===ea(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){qs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Js(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(Zc.plugins.items);for(let s=0;s<r.length;s++)n.push(Zc.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const a=[],o=e.getContext();for(const l of i){const t=l.id,i=tu(n[t],r);null!==i&&a.push({plugin:l,options:nu(e.config,{plugin:l,local:s[t]},i,o)})}return a}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function tu(e,t){return t||!1!==e?!0===e?{}:e:null}function nu(e,t,n,r){let{plugin:i,local:s}=t;const a=e.pluginScopeKeys(i),o=e.getOptionScopes(n,a);return s&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ru(e,t){const n=go.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function iu(e){if("x"===e||"y"===e||"r"===e)return e}function su(e){if(iu(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&iu(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function au(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function ou(e,t){const n=uo[e.type]||{scales:{}},r=t.scales||{},i=ru(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!Qs(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=su(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return au(e,"x",n[0])||au(e,"y",n[0])}return{}}(t,e),go.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};s[t]=oa(Object.create(null),[{axis:o},a,c[o],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,a=n.indexAxis||ru(i,t),o=(uo[i]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),oa(s[i],[{axis:t},r[i],o[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];oa(t,[go.scales[t.type],go.scale])})),s}function lu(e){const t=e.options||(e.options={});t.plugins=Js(t.plugins,{}),t.scales=ou(e,t)}function cu(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const uu=new Map,du=new Set;function hu(e,t){let n=uu.get(e);return n||(n=t(),uu.set(e,n),du.add(n)),n}const fu=(e,t,n)=>{const r=ua(t,n);void 0!==r&&e.add(r)};class pu{constructor(e){this._config=function(e){return(e=e||{}).data=cu(e.data),lu(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=cu(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),lu(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hu(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return hu(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return hu(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return hu(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>fu(o,e,t)))),t.forEach((e=>fu(o,r,e))),t.forEach((e=>fu(o,uo[i]||{},e))),t.forEach((e=>fu(o,go,e))),t.forEach((e=>fu(o,ho,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),du.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,uo[t]||{},go.datasets[t]||{},{type:t},go,ho]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:a}=mu(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=Vo(e);for(const i of t){const t=n(i),s=r(i),a=(s||t)&&e[i];if(t&&(fa(a)||gu(a))||s&&Ys(a))return!0}return!1}(s,t)){i.$shared=!1;o=$o(s,n=fa(n)?n():n,this.createResolver(e,n,a))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=mu(this._resolverCache,e,n);return Qs(t)?$o(i,t,void 0,r):i}}function mu(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:Wo(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,s)}return s}const gu=e=>Qs(e)&&Object.getOwnPropertyNames(e).some((t=>fa(e[t])));const xu=["top","bottom","left","right","chartArea"];function yu(e,t){return"top"===e||"bottom"===e||-1===xu.indexOf(e)&&"x"===t}function vu(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function bu(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ea(n&&n.onComplete,[e],t)}function wu(e){const t=e.chart,n=t.options.animation;ea(n&&n.onProgress,[e],t)}function _u(e){return ll()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ku={},Su=e=>{const t=_u(e);return Object.values(ku).filter((e=>e.canvas===t)).pop()};function ju(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}function Nu(e,t,n){return e.options.clip?e[n]:t[n]}class Eu{static defaults=(()=>go)();static instances=(()=>ku)();static overrides=(()=>uo)();static registry=(()=>Zc)();static version="4.4.8";static getChart=(()=>Su)();static register(){Zc.add(...arguments),Cu()}static unregister(){Zc.remove(...arguments),Cu()}constructor(e,t){const n=this.config=new pu(t),r=_u(e),i=Su(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!ll()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Sc:zc}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,s.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=Ks(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],ku[this.id]=this,a&&o?(Tl.listen(this,"complete",bu),Tl.listen(this,"progress",wu),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return qs(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vo(this.canvas,this.ctx),this}stop(){return Tl.stop(this),this}resize(e,t){Tl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,xl(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),ea(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){ta(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=su(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),ta(i,(t=>{const i=t.options,s=i.id,a=su(s,i),o=Js(i.type,t.dtype);void 0!==i.position&&yu(i.position,a)===yu(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(Zc.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),ta(r,((e,t)=>{e||delete n[t]})),ta(n,(e=>{_c.configure(this,e,e.options),_c.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(vu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||ru(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=Zc.getController(s),{datasetElementType:r,dataElementType:a}=go.datasets[s];Object.assign(t,{dataElementType:Zc.getElement(a),datasetElementType:r&&Zc.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){ta(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||ta(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vu("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ta(this.scales,(e=>{_c.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);pa(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){ju(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!pa(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;_c.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],ta(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,fa(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Tl.has(this)?this.attached&&!Tl.running(this)&&Tl.start(this):(this.draw(),bu({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Nu(n,t,"left"),right:Nu(n,t,"right"),top:Nu(r,t,"top"),bottom:Nu(r,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&ko(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&So(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return _o(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=cc.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Uo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);ha(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Tl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vo(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ku[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};ta(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){ta(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},ta(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,a,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){s=e[a];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!na(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=i(t,e),a=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,a=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,ea(i.onHover,[e,a,this],this),o&&ea(i.onClick,[e,a,this],this));const c=!na(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function Cu(){return ta(Eu.instances,(e=>e._plugins.invalidate()))}function Mu(e,t,n,r){const i=Ro(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,a=Math.min(s,r*t/2),o=e=>{const t=(n-Math.min(s,e))*r/2;return Ia(e,0,Math.min(s,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Ia(i.innerStart,0,a),innerEnd:Ia(i.innerEnd,0,a)}}function Pu(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Du(e,t,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(d>0?d-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const m=(p-Math.max(.001,p*d-n/ma)/d)/2,g=l+m+f,x=i-m-f,{outerStart:y,outerEnd:v,innerStart:b,innerEnd:w}=Mu(t,h,d,x-g),_=d-y,k=d-v,S=g+y/_,j=x-v/k,N=h+b,E=h+w,C=g+b/N,M=x-w/E;if(e.beginPath(),s){const t=(S+j)/2;if(e.arc(a,o,d,S,t),e.arc(a,o,d,t,j),v>0){const t=Pu(k,j,a,o);e.arc(t.x,t.y,v,j,x+ba)}const n=Pu(E,x,a,o);if(e.lineTo(n.x,n.y),w>0){const t=Pu(E,M,a,o);e.arc(t.x,t.y,w,x+ba,M+Math.PI)}const r=(x-w/h+(g+b/h))/2;if(e.arc(a,o,h,x-w/h,r,!0),e.arc(a,o,h,r,g+b/h,!0),b>0){const t=Pu(N,C,a,o);e.arc(t.x,t.y,b,C+Math.PI,g-ba)}const i=Pu(_,g,a,o);if(e.lineTo(i.x,i.y),y>0){const t=Pu(_,S,a,o);e.arc(t.x,t.y,y,g-ba,S)}}else{e.moveTo(a,o);const t=Math.cos(S)*d+a,n=Math.sin(S)*d+o;e.lineTo(t,n);const r=Math.cos(j)*d+a,i=Math.sin(j)*d+o;e.lineTo(r,i)}e.closePath()}function Ou(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(s){Du(e,t,n,r,p,i);for(let t=0;t<s;++t)e.stroke();isNaN(o)||(p=a+(o%ga||ga))}f&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(s,a,o,r-c,n+c),l>i?(c=i/l,e.arc(s,a,l,n+c,r-c,!0)):e.arc(s,a,i,n+ba,r-ba),e.closePath(),e.clip()}(e,t,p),s||(Du(e,t,n,r,p,i),e.stroke())}class Au extends Bc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=Oa(r,{x:e,y:t}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,h=Js(u,o-a),f=La(i,a,o)&&a!==o,p=h>=ga||f,m=Fa(s,l+d,c+d);return p&&m}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+i)/2,u=(s+a+l+o)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>ga?Math.floor(n/ga):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const o=r*(1-Math.sin(Math.min(ma,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let l=t.endAngle;if(s){Du(e,t,n,r,l,i);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=a+(o%ga||ga))}Du(e,t,n,r,l,i),e.fill()}(e,this,o,i,s),Ou(e,this,o,i,s),e.restore()}}function Tu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Js(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Js(n.borderDash,t.borderDash)),e.lineDashOffset=Js(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Js(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Js(n.borderWidth,t.borderWidth),e.strokeStyle=Js(n.borderColor,t.borderColor)}function Ru(e,t,n){e.lineTo(n.x,n.y)}function Lu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function Iu(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:c}=Lu(i,n,r),u=function(e){return e.stepped?jo:e.tension||"monotone"===e.cubicInterpolationMode?No:Ru}(s);let d,h,f,{move:p=!0,reverse:m}=r||{};for(d=0;d<=c;++d)h=i[(o+(m?c-d:d))%a],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):u(e,f,h,m,s.stepped),f=h);return l&&(h=i[(o+(m?c:0))%a],u(e,f,h,m,s.stepped)),!!l}function Fu(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=Lu(i,n,r),{move:l=!0,reverse:c}=r||{};let u,d,h,f,p,m,g=0,x=0;const y=e=>(a+(c?o-e:e))%s,v=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(d=i[y(0)],e.moveTo(d.x,d.y)),u=0;u<=o;++u){if(d=i[y(u)],d.skip)continue;const t=d.x,n=d.y,r=0|t;r===h?(n<f?f=n:n>p&&(p=n),g=(x*g+t)/++x):(v(),e.lineTo(t,n),h=r,x=0,f=p=n),m=n}v()}function zu(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Fu:Iu}const Bu="function"===typeof Path2D;function Uu(e,t,n,r){Bu&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Tu(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,a=zu(t);for(const o of i)Tu(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class Wu extends Bc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;ol(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return Pl(e,!0===r?[{start:a,end:o,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(a-1)%i,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:r}),s}(n,a,o<a?o+i:o,!!e._fullLoop&&0===a&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=Ml(this,{property:t,start:r,end:r});if(!s.length)return;const a=[],o=function(e){return e.stepped?wl:e.tension||"monotone"===e.cubicInterpolationMode?_l:bl}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],d=i[c],h=i[u];if(d===h){a.push(d);continue}const f=o(d,h,Math.abs((r-d[t])/(h[t]-d[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return zu(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=zu(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)s&=i(e,this,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Uu(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function $u(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Vu extends Bc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return $u(this,e,"x",t)}inYRange(e,t){return $u(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!_o(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,bo(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const Hu=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Ku extends Bc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ea(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=zo(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=Hu(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,a,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=e;i.textAlign="left",i.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*a>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,h+=c,d++),o[f]={left:0,top:h,row:d,width:p,height:r},l[l.length-1]+=p+a})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=a,d=0,h=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=qu(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}(n,t,i,e,r);s>0&&h+g+2*a>c&&(u+=d+a,l.push({width:d,height:h}),f+=d+a,p++,d=h=0),o[s]={left:f,top:h,col:p,width:m,height:g},d=Math.max(d,m),h+=g+a})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=kl(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=Ya(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,a=Ya(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(a),o.width),a+=o.width+r}else{let i=0,a=Ya(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,a=Ya(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=a,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;ko(e,this),this._draw(),So(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,a=go.color,o=kl(e.rtl,this.left,this.width),l=zo(s.font),{padding:c}=s,u=l.size,d=u/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=Hu(s,u),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:Ya(i,this.left+c,this.right-n[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:Ya(i,this.top+x+c,this.bottom-t[0].height),line:0},Sl(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach(((v,b)=>{r.strokeStyle=v.fontColor,r.fillStyle=v.fontColor;const w=r.measureText(v.text).width,_=o.textAlign(v.textAlign||(v.textAlign=s.textAlign)),k=f+d+w;let S=h.x,j=h.y;o.setWidth(this.width),g?b>0&&S+k+c>this.right&&(j=h.y+=y,h.line++,S=h.x=Ya(i,this.left+c,this.right-n[h.line])):b>0&&j+y>this.bottom&&(S=h.x=S+t[h.line].width+c,h.line++,j=h.y=Ya(i,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=Js(n.lineWidth,1);if(r.fillStyle=Js(n.fillStyle,a),r.lineCap=Js(n.lineCap,"butt"),r.lineDashOffset=Js(n.lineDashOffset,0),r.lineJoin=Js(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Js(n.strokeStyle,a),r.setLineDash(Js(n.lineDash,[])),s.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);wo(r,a,l,t+d,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),a=o.leftForLtr(e,f),l=Io(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?Po(r,{x:a,y:s,w:f,h:p,radius:l}):r.rect(a,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(S),j,v),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,S+f+d,g?S+k:this.right,e.rtl),function(e,t,n){Mo(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(S),j,v),g)h.x+=k+c;else if("string"!==typeof v.text){const e=l.lineHeight;h.y+=qu(v,e)+c}else h.y+=y})),jl(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=zo(t.font),r=Fo(t.padding);if(!t.display)return;const i=kl(e.rtl,this.left,this.width),s=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=Ya(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Ya(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Ya(a,u,u+d);s.textAlign=i.textAlign(qa(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Mo(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=zo(e.font),n=Fo(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Fa(e,this.left,this.right)&&Fa(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Fa(e,r.left,r.left+r.width)&&Fa(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&ea(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&ea(t.onHover,[e,n,this],this)}else n&&ea(t.onClick,[e,n,this],this)}}function qu(e,t){return t*(e.text?e.text.length:0)}var Yu={id:"legend",_element:Ku,start(e,t,n){const r=e.legend=new Ku({ctx:e.ctx,options:n,chart:e});_c.configure(e,r,n),_c.addBox(e,r)},stop(e){_c.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;_c.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Fo(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Qu extends Bc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Ys(n.text)?n.text.length:1;this._padding=Fo(n.padding);const i=r*zo(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,a=s.align;let o,l,c,u=0;return this.isHorizontal()?(l=Ya(a,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=Ya(a,r,t),u=-.5*ma):(l=i-e,c=Ya(a,t,r),u=.5*ma),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=zo(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:o}=this._drawArgs(r);Mo(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:qa(t.align),textBaseline:"middle",translation:[i,s]})}}var Xu={id:"title",_element:Qu,start(e,t,n){!function(e,t){const n=new Qu({ctx:e.ctx,options:t,chart:e});_c.configure(e,n,t),_c.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;_c.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;_c.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Gu={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;const a=[...r].reduce(((e,t)=>e+t))/r.size;return{x:a,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Aa(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function Ju(e,t){return t&&(Ys(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Zu(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function ed(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function td(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,l=zo(t.bodyFont),c=zo(t.titleFont),u=zo(t.footerFont),d=s.length,h=i.length,f=r.length,p=Fo(t.padding);let m=p.height,g=0,x=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(x+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),x){m+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-f)*l.lineHeight+(x-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0;const v=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,ta(e.title,v),n.font=l.string,ta(e.beforeBody.concat(e.afterBody),v),y=t.displayColors?a+2+t.boxPadding:0,ta(r,(e=>{ta(e.before,v),ta(e.lines,v),ta(e.after,v)})),y=0,n.font=u.string,ta(e.footer,v),n.restore(),g+=p.width,{width:g,height:m}}function nd(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+s+a>t.width||"right"===e&&i-s-a<0||void 0}(c,e,t,n)&&(c="center"),c}function rd(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||nd(e,t,n,r),yAlign:r}}function id(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Io(a);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,h)+i:"right"===o&&(p+=Math.max(d,f)+i),{x:Ia(p,0,r.width-t.width),y:Ia(m,0,r.height-t.height)}}function sd(e,t,n){const r=Fo(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function ad(e){return Ju([],Zu(e))}function od(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const ld={beforeTitle:Hs,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Hs,beforeBody:Hs,beforeLabel:Hs,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return qs(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Hs,afterBody:Hs,beforeFooter:Hs,footer:Hs,afterFooter:Hs};function cd(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?ld[t].call(n,r):i}class ud extends Bc{static positioners=(()=>Gu)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new Fl(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Uo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=cd(n,"beforeTitle",this,e),i=cd(n,"title",this,e),s=cd(n,"afterTitle",this,e);let a=[];return a=Ju(a,Zu(r)),a=Ju(a,Zu(i)),a=Ju(a,Zu(s)),a}getBeforeBody(e,t){return ad(cd(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return ta(e,(e=>{const t={before:[],lines:[],after:[]},i=od(n,e);Ju(t.before,Zu(cd(i,"beforeLabel",this,e))),Ju(t.lines,cd(i,"label",this,e)),Ju(t.after,Zu(cd(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return ad(cd(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=cd(n,"beforeFooter",this,e),i=cd(n,"footer",this,e),s=cd(n,"afterFooter",this,e);let a=[];return a=Ju(a,Zu(r)),a=Ju(a,Zu(i)),a=Ju(a,Zu(s)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(ed(this.chart,t[a]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),ta(l,(t=>{const n=od(e.callbacks,t);r.push(cd(n,"labelColor",this,t)),i.push(cd(n,"labelPointStyle",this,t)),s.push(cd(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=Gu[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=td(this,n),a=Object.assign({},e,t),o=rd(this.chart,n,a),l=id(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=Io(a),{x:d,y:h}=e,{width:f,height:p}=t;let m,g,x,y,v,b;return"center"===i?(v=h+p/2,"left"===r?(m=d,g=m-s,y=v+s,b=v-s):(m=d+f,g=m+s,y=v-s,b=v+s),x=m):(g="left"===r?d+Math.max(o,c)+s:"right"===r?d+f-Math.max(l,u)-s:this.caretX,"top"===i?(y=h,v=y-s,m=g-s,x=g+s):(y=h+p,v=y+s,m=g+s,x=g-s),b=y),{x1:m,x2:g,x3:x,y1:y,y2:v,y3:b}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,a,o;if(i){const l=kl(n.rtl,this.x,this.width);for(e.x=sd(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=zo(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,o+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=zo(i.bodyFont),u=sd(this,"left",i),d=r.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(d,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,bo(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,bo(e,t,n,c)}else{e.lineWidth=Qs(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(d,l),n=r.leftForLtr(r.xPlus(d,1),l-2),a=Io(s.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Po(e,{x:t,y:f,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Po(e,{x:n,y:f+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=zo(n.bodyFont);let d=u.lineHeight,h=0;const f=kl(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+h),e.y+d/2),e.y+=d+i},m=f.textAlign(s);let g,x,y,v,b,w,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=sd(this,m,n),t.fillStyle=n.bodyColor,ta(this.beforeBody,p),h=a&&"right"!==m?"center"===s?l/2+c:l+2+c:0,v=0,w=r.length;v<w;++v){for(g=r[v],x=this.labelTextColors[v],t.fillStyle=x,ta(g.before,p),y=g.lines,a&&y.length&&(this._drawColorBox(t,e,v,f,n),d=Math.max(u.lineHeight,o)),b=0,_=y.length;b<_;++b)p(y[b]),d=u.lineHeight;ta(g.after,p)}h=0,d=u.lineHeight,ta(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,a;if(i){const o=kl(n.rtl,this.x,this.width);for(e.x=sd(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=zo(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Io(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l-d,o),t.quadraticCurveTo(a+l,o,a+l,o+d),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-f),t.quadraticCurveTo(a+l,o+c,a+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+h,o+c),t.quadraticCurveTo(a,o+c,a,o+c-h),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,o+u),t.quadraticCurveTo(a,o,a+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=Gu[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=td(this,e),a=Object.assign({},n,this._size),o=rd(t,e,a),l=id(e,a,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Fo(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),Sl(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),jl(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!na(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),a=this._positionChanged(s,e),o=t||!na(s,i)||a;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=Gu[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}var dd={id:"tooltip",_element:ud,positioners:Gu,afterInit(e,t,n){n&&(e.tooltip=new ud({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ld},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function hd(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function fd(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class pd extends Xc{static id="category";static defaults=(()=>({ticks:{callback:fd}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qs(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Ia(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:hd(n,e,Js(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return fd.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function md(e,t){const n=[],{bounds:r,step:i,min:s,max:a,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=i||1,f=c-1,{min:p,max:m}=t,g=!qs(s),x=!qs(a),y=!qs(l),v=(m-p)/(u+1);let b,w,_,k,S=Na((m-p)/f/h)*h;if(S<1e-14&&!g&&!x)return[{value:p},{value:m}];k=Math.ceil(m/S)-Math.floor(p/S),k>f&&(S=Na(k*S/f/h)*h),qs(o)||(b=Math.pow(10,o),S=Math.ceil(S*b)/b),"ticks"===r?(w=Math.floor(p/S)*S,_=Math.ceil(m/S)*S):(w=p,_=m),g&&x&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-s)/i,S/1e3)?(k=Math.round(Math.min((a-s)/S,c)),S=(a-s)/k,w=s,_=a):y?(w=g?s:w,_=x?a:_,k=l-1,S=(_-w)/k):(k=(_-w)/S,k=ja(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const j=Math.max(Da(S),Da(w));b=Math.pow(10,qs(o)?j:o),w=Math.round(w*b)/b,_=Math.round(_*b)/b;let N=0;for(g&&(d&&w!==s?(n.push({value:s}),w<s&&N++,ja(Math.round((w+N*S)*b)/b,s,gd(s,v,e))&&N++):w<s&&N++);N<k;++N){const e=Math.round((w+N*S)*b)/b;if(x&&e>a)break;n.push({value:e})}return x&&d&&_!==a?n.length&&ja(n[n.length-1].value,a,gd(a,v,e))?n[n.length-1].value=a:n.push({value:a}):x&&_!==a||n.push({value:_}),n}function gd(e,t,n){let{horizontal:r,minRotation:i}=n;const s=Ma(i),a=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class xd extends Xc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qs(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=Sa(r),t=Sa(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=md({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Ca(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return oo(e,this.chart.options.locale,this.options.ticks.format)}}class yd extends xd{static id="linear";static defaults=(()=>({ticks:{callback:co.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Xs(e)?e:0,this.max=Xs(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Ma(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}co.formatters.logarithmic;co.formatters.numeric;const vd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bd=Object.keys(vd);function wd(e,t){return e-t}function _d(e,t){if(qs(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),Xs(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!Ea(s)&&!0!==s?n.startOf(a,i):n.startOf(a,"isoWeek",s)),+a)}function kd(e,t,n,r){const i=bd.length;for(let s=bd.indexOf(e);s<i-1;++s){const e=vd[bd[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return bd[s]}return bd[i-1]}function Sd(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=za(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function jd(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class Nd extends Xc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new nc(e.adapters.date);r.init(t),oa(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:_d(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function o(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(i=Math.max(i,e.max))}s&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=Xs(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=Xs(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?kd(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=bd.length-1;s>=bd.indexOf(n);s--){const n=bd[s];if(vd[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return bd[n?bd.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=bd.indexOf(e)+1,n=bd.length;t<n;++t)if(vd[bd[t]].common)return bd[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),jd(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=Ia(r,0,s),i=Ia(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||kd(i.minUnit,t,n,this._getLabelCapacity(t)),a=Js(r.ticks.stepSize,1),o="week"===s&&i.isoWeekday,l=Ea(o)||!0===o,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,a,s),d++)Sd(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==d||Sd(c,u,f),Object.keys(c).sort(wd).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return ea(s,[e,t,n],this);const a=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],u=l&&a[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,r||(h?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Ma(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*s,h:n*s+a*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,jd(this,[e],this._majorUnit),r),s=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(_d(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Va(e.sort(wd))}}const Ed="label";function Cd(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Md(e,t){e.labels=t}function Pd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ed;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function Dd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ed;const n={labels:[],datasets:[]};return Md(n,e.labels),Pd(n,e.datasets,t),n}function Od(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=e,p=(0,i.useRef)(null),m=(0,i.useRef)(null),g=()=>{p.current&&(m.current=new Eu(p.current,{type:o,data:Dd(l,a),options:c&&{...c},plugins:u}),Cd(t,m.current))},x=()=>{Cd(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,i.useEffect)((()=>{!s&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[s,c]),(0,i.useEffect)((()=>{!s&&m.current&&Md(m.current.config.data,l.labels)}),[s,l.labels]),(0,i.useEffect)((()=>{!s&&m.current&&l.datasets&&Pd(m.current.config.data,l.datasets,a)}),[s,l.datasets]),(0,i.useEffect)((()=>{m.current&&(s?(x(),setTimeout(g)):m.current.update(h))}),[s,c,l.labels,l.datasets,h]),(0,i.useEffect)((()=>{m.current&&(x(),setTimeout(g))}),[o]),(0,i.useEffect)((()=>(g(),()=>x())),[]),i.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},d)}const Ad=(0,i.forwardRef)(Od);function Td(e,t){return Eu.register(t),(0,i.forwardRef)(((t,n)=>i.createElement(Ad,{...t,ref:n,type:e})))}const Rd=Td("line",Jl),Ld=Td("pie",Zl);Eu.register(Au,dd,Yu,pd,yd,Vu,Wu,Xu);const Id=()=>{const{currentUser:e,isManager:t}=Ue(),{expenses:n,policies:r,isLoading:s}=rs(),[a,o]=(0,i.useState)("month"),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(!1),g=i.useMemo((()=>{if(!n.length)return[];const e=new Date,t=new Date;switch(a){case"week":t.setDate(e.getDate()-7);break;case"month":t.setMonth(e.getMonth()-1);break;case"year":t.setFullYear(e.getFullYear()-1)}return n.filter((e=>new Date(e.date)>=t))}),[n,a]);(0,i.useEffect)((()=>{if(g.length>0){const e=new Set(g.map((e=>e.currency)));if(m(e.size>1),e.size>1){(async()=>{let e=0;for(const t of g)if("INR"===t.currency)e+=t.amount;else{e+=await Qi(t.amount,t.currency,"INR")}f(e)})()}}}),[g]);const x=i.useMemo((()=>{const e={"Office Supplies":{USD:0,EUR:0,GBP:0,INR:0},"Food & Entertainment":{USD:0,EUR:0,GBP:0,INR:0},Travelling:{USD:0,EUR:0,GBP:0,INR:0},Accommodation:{USD:0,EUR:0,GBP:0,INR:0},"Client & Project Expenses":{USD:0,EUR:0,GBP:0,INR:0},Subscriptions:{USD:0,EUR:0,GBP:0,INR:0}};g.forEach((t=>{e[t.category][t.currency]+=t.amount}));return{labels:Object.keys(e),datasets:[{label:"Expense by Category",data:Object.values(e).map((e=>Object.values(e).reduce(((e,t)=>e+t),0))),backgroundColor:["rgba(54, 162, 235, 0.5)","rgba(255, 99, 132, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}),[g]),y=i.useMemo((()=>{const e={},t=new Date;for(let r=5;r>=0;r--){const n=new Date(t.getFullYear(),t.getMonth()-r,1).toLocaleDateString("en-US",{month:"short",year:"numeric"});e[n]={USD:0,EUR:0,GBP:0,INR:0}}g.forEach((t=>{const n=new Date(t.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});void 0!==e[n]&&(e[n][t.currency]+=t.amount)}));const n=Object.keys(e[Object.keys(e)[0]]||{}).map(((t,n)=>{const r=[{border:"rgb(79, 70, 229)",background:"rgba(79, 70, 229, 0.1)"},{border:"rgb(16, 185, 129)",background:"rgba(16, 185, 129, 0.1)"},{border:"rgb(245, 158, 11)",background:"rgba(245, 158, 11, 0.1)"},{border:"rgb(239, 68, 68)",background:"rgba(239, 68, 68, 0.1)"}];return{label:`${t} Expenses`,data:Object.values(e).map((e=>e[t])),borderColor:r[n].border,backgroundColor:r[n].background,tension:.3,fill:!0}})).filter((e=>e.data.some((e=>e>0))));return{labels:Object.keys(e),datasets:n}}),[g]);return(0,i.useEffect)((()=>{if(g.length>0){const e=Zi(g);c(e);const t=[...g].sort(((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()));d(t.slice(0,5))}}),[g]),s?(0,Fe.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-4 text-gray-700",children:"Loading dashboard data..."})]}):(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,Fe.jsxs)("h1",{className:"text-xl md:text-2xl font-semibold text-gray-800 mb-4 sm:mb-0",children:[null===e||void 0===e?void 0:e.name,"'s Dashboard"]}),(0,Fe.jsxs)("div",{className:"flex space-x-2",children:[(0,Fe.jsx)("button",{onClick:()=>o("week"),className:"px-2 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-md "+("week"===a?"bg-primary text-white":"bg-white text-gray-700 border border-gray-300"),children:"Week"}),(0,Fe.jsx)("button",{onClick:()=>o("month"),className:"px-2 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-md "+("month"===a?"bg-primary text-white":"bg-white text-gray-700 border border-gray-300"),children:"Month"}),(0,Fe.jsx)("button",{onClick:()=>o("year"),className:"px-2 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-md "+("year"===a?"bg-primary text-white":"bg-white text-gray-700 border border-gray-300"),children:"Year"})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-2 md:p-3 rounded-full bg-indigo-100 text-primary",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Total Expenses"}),p?(0,Fe.jsxs)("p",{className:"text-lg md:text-2xl font-semibold text-gray-800",children:[Gi(h||0,"INR"),(0,Fe.jsx)("span",{className:"block text-xs font-normal text-gray-500 mt-1",children:"(All currencies converted to INR)"})]}):(0,Fe.jsx)("p",{className:"text-lg md:text-2xl font-semibold text-gray-800",children:g.length>0?(0,Fe.jsx)(Fe.Fragment,{children:Object.entries(g.reduce(((e,t)=>(e[t.currency]||(e[t.currency]=0),e[t.currency]+=t.amount,e)),{})).map((e=>{let[t,n]=e;return(0,Fe.jsx)("span",{className:"mr-2",children:Gi(n,t)},t)}))}):Gi(0,"USD")})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-2 md:p-3 rounded-full bg-green-100 text-success",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Total Entries"}),(0,Fe.jsx)("p",{className:"text-lg md:text-2xl font-semibold text-gray-800",children:g.length})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-2 md:p-3 rounded-full bg-yellow-100 text-warning",children:(0,Fe.jsxs)("svg",{className:"w-6 h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Pending Approval"}),(0,Fe.jsx)("p",{className:"text-lg md:text-2xl font-semibold text-gray-800",children:g.filter((e=>"pending"===e.status)).length})]})]})}),(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-2 md:p-3 rounded-full bg-red-100 text-danger",children:(0,Fe.jsx)("svg",{className:"w-6 h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Flagged"}),(0,Fe.jsx)("p",{className:"text-lg md:text-2xl font-semibold text-gray-800",children:g.filter((e=>"flagged"===e.status)).length})]})]})})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[(0,Fe.jsx)("h2",{className:"text-base md:text-lg font-semibold mb-4",children:"Expenses by Category"}),x.datasets[0].data.some((e=>e>0))?(0,Fe.jsx)("div",{className:"h-56 md:h-64",children:(0,Fe.jsx)(Ld,{data:x,options:{maintainAspectRatio:!1}})}):(0,Fe.jsx)("div",{className:"flex items-center justify-center h-56 md:h-64 text-gray-500",children:"No data available for the selected period"})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[(0,Fe.jsx)("h2",{className:"text-base md:text-lg font-semibold mb-4",children:"Monthly Expense Trend"}),(0,Fe.jsx)("div",{className:"h-56 md:h-64",children:(0,Fe.jsx)(Rd,{data:y,options:{maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Amount"}}}}})})]})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[(0,Fe.jsx)("h2",{className:"text-base md:text-lg font-semibold mb-4",children:"Expense Insights"}),l.length>0?(0,Fe.jsx)("ul",{className:"space-y-2",children:l.map(((e,t)=>(0,Fe.jsxs)("li",{className:"flex items-start",children:[(0,Fe.jsx)("span",{className:"flex-shrink-0 h-5 w-5 rounded-full bg-primary flex items-center justify-center text-white text-xs mr-2 md:mr-3 mt-0.5",children:t+1}),(0,Fe.jsx)("span",{className:"text-sm md:text-base text-gray-700",children:e})]},t)))}):(0,Fe.jsx)("p",{className:"text-sm md:text-base text-gray-500",children:"No insights available for the selected period."})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[(0,Fe.jsx)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4",children:(0,Fe.jsx)("h2",{className:"text-base md:text-lg font-semibold mb-2 sm:mb-0",children:"Recent Expenses"})}),u.length>0?(0,Fe.jsx)("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{scope:"col",className:"px-4 md:px-6 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Fe.jsx)("th",{scope:"col",className:"px-4 md:px-6 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Category"}),(0,Fe.jsx)("th",{scope:"col",className:"px-4 md:px-6 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,Fe.jsx)("th",{scope:"col",className:"px-4 md:px-6 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Fe.jsx)("th",{scope:"col",className:"px-4 md:px-6 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Status"}),(0,Fe.jsx)("th",{scope:"col",className:"px-4 md:px-6 py-2 md:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{className:"px-4 md:px-6 py-2 md:py-4 whitespace-nowrap text-xs md:text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,Fe.jsx)("td",{className:"px-4 md:px-6 py-2 md:py-4 whitespace-nowrap text-xs md:text-sm text-gray-500 hidden sm:table-cell",children:e.category}),(0,Fe.jsx)("td",{className:"px-4 md:px-6 py-2 md:py-4 whitespace-nowrap text-xs md:text-sm text-gray-500",children:e.description.length>20?`${e.description.substring(0,20)}...`:e.description}),(0,Fe.jsx)("td",{className:"px-4 md:px-6 py-2 md:py-4 whitespace-nowrap text-xs md:text-sm font-medium text-gray-900",children:Gi(e.amount,e.currency)}),(0,Fe.jsx)("td",{className:"px-4 md:px-6 py-2 md:py-4 whitespace-nowrap hidden md:table-cell",children:(0,Fe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("approved"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"flagged"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,Fe.jsx)("td",{className:"px-4 md:px-6 py-2 md:py-4 whitespace-nowrap text-xs md:text-sm text-gray-500",children:(0,Fe.jsx)("a",{href:`/expenses/${e.id}`,className:"text-primary hover:text-indigo-700",children:"View Details"})})]},e.id)))})]})}):(0,Fe.jsx)("p",{className:"text-gray-500 text-sm",children:"You haven't submitted any expenses yet."})]})]})};Id.displayName="Dashboard";const Fd=Id,zd=()=>{const e=ee(),{currentUser:t}=Ue(),{addExpense:n,validateExpenseAgainstPolicy:r,expenses:s}=rs(),a=(0,i.useRef)(null),[o,l]=(0,i.useState)(0),[c,u]=(0,i.useState)((null===t||void 0===t?void 0:t.preferredCurrency)||"USD"),[d,h]=(0,i.useState)((new Date).toISOString().split("T")[0]),[f,p]=(0,i.useState)("Office Supplies"),[m,g]=(0,i.useState)(""),[x,y]=(0,i.useState)(null),[v,b]=(0,i.useState)(""),[w,_]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),[j,N]=(0,i.useState)(""),[E,C]=(0,i.useState)(null),[M,P]=(0,i.useState)(!1),[D,O]=(0,i.useState)(""),A=(0,i.useRef)(null),[T,R]=(0,i.useState)([]);(0,i.useEffect)((()=>{"employee"!==(null===t||void 0===t?void 0:t.role)&&e("/dashboard")}),[t,e]),(0,i.useEffect)((()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;return e?(A.current=new e,A.current.continuous=!1,A.current.lang="en-US",A.current.interimResults=!1,A.current.maxAlternatives=1,A.current.onresult=e=>{const t=e.results[0][0].transcript.toLowerCase();if(O(`Command recognized: "${t}"`),t.includes("set amount")||t.includes("amount")){const e=t.match(/\d+(\.\d+)?/);if(e&&e[0]){const t=parseFloat(e[0]);l(t),O(`Amount set to ${Gi(t,c)}`)}}else if(t.includes("category")){const e=["Office Supplies","Food & Entertainment","Travelling","Accommodation","Client & Project Expenses","Subscriptions"];for(const n of e)if(t.includes(n.toLowerCase())){p(n),O(`Category set to ${n}`);break}}else if(t.includes("description")||t.includes("note")){const e=t.match(/(description|note)\s+(.+)/i);e&&e[2]&&(g(e[2]),O(`Description set to "${e[2]}"`))}else t.includes("submit")||t.includes("save")?(O("Ready to submit expense..."),setTimeout((()=>{var e;null===(e=document.querySelector("form"))||void 0===e||e.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}),1e3)):O(`Command not recognized: "${t}"`)},A.current.onerror=e=>{console.error("Speech recognition error",e.error),P(!1),O(`Error: ${e.error}`)},A.current.onend=()=>{P(!1)}):console.warn("SpeechRecognition is not supported in this browser"),()=>{A.current&&A.current.abort()}}),[c]);(0,i.useEffect)((()=>{if(t){const e=s.filter((e=>e.userId===t.id)).map((e=>e.description)).filter((e=>e.length>20));R(e)}}),[t,s]),(0,i.useEffect)((()=>{null!==t&&void 0!==t&&t.preferredCurrency&&u(t.preferredCurrency)}),[t]);const[L,I]=(0,i.useState)({});return(0,Fe.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Add New Expense"}),L.general&&(0,Fe.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-sm text-red-700",children:L.general})})]})}),v&&(0,Fe.jsx)("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 p-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-sm text-green-700",children:v})})]})}),(0,Fe.jsxs)("form",{onSubmit:async i=>{i.preventDefault(),I({}),b("");const s=(()=>{const e={};(!o||o<=0)&&(e.amount="Please enter a valid amount"),d?new Date(d)>new Date&&(e.date="Date cannot be in the future"):e.date="Please select a date";(!m||m.trim().length<5)&&(e.description="Please enter a description (minimum 5 characters)");const t=r(o,f);return t.valid||(e.amount=t.message),e})();if(Object.keys(s).length>0)I(s);else if(t)try{_(!0);const r={userId:t.id,amount:o,currency:c,date:d,category:f,description:j?`${m} [OCR: ${j.substring(0,100)}...]`:m,receiptImage:x||void 0,status:E&&E.isFraud?"flagged":"pending",notes:E&&E.isFraud?`Potential fraud detected: ${E.reasons.join(". ")}`:""};let i;console.log("Submitting expense:",r);let s=0;const u=3;for(;s<=u;)try{i=await n(r),console.log("Expense added successfully, ID:",i);break}catch(a){if(console.error(`Attempt ${s+1} failed:`,a),s++,s>u)throw a;await new Promise((e=>setTimeout(e,1e3)))}if(!i)throw new Error("Failed to get a valid expense ID");b("Expense submitted successfully! Waiting for manager approval."),l(0),h((new Date).toISOString().split("T")[0]),g(""),y(null),N(""),C(null),setTimeout((()=>{e(`/expenses/${i}`)}),2e3)}catch(u){console.error("Error submitting expense:",u);let e="An error occurred while submitting the expense. Please try again.";u instanceof Error&&(u.message.includes("Database connection")?e="Database connection issue. Please reload the page and try again.":u.message.includes("storage")?e="Storage issue. Your browser storage might be full or restricted.":u.message.includes("policy")&&(e="Expense amount exceeds policy limits. Please adjust the amount or category.")),I({general:e})}finally{_(!1)}else I({general:"You must be logged in to submit an expense"})},children:[D&&(0,Fe.jsx)("div",{className:"mb-4 p-3 rounded-md "+(D.includes("Error")?"bg-red-100 text-red-800":D.includes("not recognized")?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:(0,Fe.jsx)("p",{className:"text-sm",children:D})}),M&&(0,Fe.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md mb-4 text-sm",children:[(0,Fe.jsx)("p",{className:"font-medium mb-1",children:"Voice Command Examples:"}),(0,Fe.jsxs)("ul",{className:"list-disc pl-5 text-gray-600 space-y-1",children:[(0,Fe.jsx)("li",{children:"\u201cAmount 500\u201d - Set expense amount"}),(0,Fe.jsx)("li",{children:"\u201cCategory Travelling\u201d - Set expense category"}),(0,Fe.jsx)("li",{children:"\u201cDescription lunch with client\u201d - Add description"}),(0,Fe.jsx)("li",{children:"\u201cSubmit\u201d - Submit the expense"})]})]}),(0,Fe.jsxs)("div",{className:"mb-6 flex flex-wrap gap-4",children:[(0,Fe.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()},className:"flex items-center px-4 py-2 bg-indigo-50 text-primary rounded-md hover:bg-indigo-100 transition-colors",disabled:k,children:k?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Image..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Scan Receipt"]})}),(0,Fe.jsx)("button",{type:"button",onClick:()=>{var e,t;M?(null===(e=A.current)||void 0===e||e.abort(),P(!1),O("")):(O("Listening for commands..."),null===(t=A.current)||void 0===t||t.start(),P(!0))},className:"flex items-center px-4 py-2 rounded-md transition-colors "+(M?"bg-red-500 text-white animate-pulse":"bg-indigo-50 text-primary hover:bg-indigo-100"),children:M?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),"Listening..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),"Voice Command"]})}),(0,Fe.jsx)("input",{type:"file",ref:a,onChange:async e=>{const n=e.target.files;if(!n||0===n.length)return;const r=n[0];try{S(!0),C(null);const e=new FileReader;e.onload=e=>{e.target&&"string"===typeof e.target.result&&y(e.target.result)},e.readAsDataURL(r);const n=await(async()=>(await new Promise((e=>setTimeout(e,200))),`INVOICE\n    Store: ABC Supplies Ltd.\n    Date: ${(new Date).toLocaleDateString()}\n    \n    Item 1: Office Chair - \u20b94500.00\n    Item 2: Desk Lamp - \u20b9899.00\n    \n    Subtotal: \u20b95399.00\n    Tax: \u20b9971.82\n    \n    Total: \u20b96370.82\n    \n    Payment Method: Credit Card\n    Transaction ID: TXN-${Math.floor(1e4*Math.random())}`))();N(n);const a=(e=>{const t=e.match(/Total:\s*\u20b9?(\d+(\.\d+)?)/i),n=t?parseFloat(t[1]):null,r=e.match(/Date:\s*([^\n]+)/i),i=r?r[1].trim():null,s=e.match(/Store:\s*([^\n]+)/i),a=s?s[1].trim():null,o={isFraud:!1,reasons:[]};return Math.random()<.1&&(o.isFraud=!0,o.reasons.push("Suspicious formatting detected in receipt")),{amount:n,date:i,vendor:a,fraudDetection:o}})(n),c=((e,t,n)=>{const r={isFraud:!1,reasons:[]};if(!e||e.length<20)return r.isFraud=!0,r.reasons.push("Receipt text is too short or missing"),r;t&&t>1.5*{"Office Supplies":5e3,"Food & Entertainment":2e3,Travelling:1e4,Accommodation:8e3,"Client & Project Expenses":2e4,Subscriptions:5e3}[n]&&(r.isFraud=!0,r.reasons.push(`Amount is unusually high for ${n} category`));return Math.random()<.05&&(r.isFraud=!0,r.reasons.push("Suspicious pattern detected in receipt text")),r})(n,a.amount,f,s.filter((e=>e.userId===(null===t||void 0===t?void 0:t.id)))),u={isFraud:a.fraudDetection.isFraud||c.isFraud,reasons:[...a.fraudDetection.reasons,...c.reasons]};if(C(u),a.amount&&!o&&l(a.amount),a.date)try{const e=new Date(a.date);isNaN(e.getTime())||h(e.toISOString().split("T")[0])}catch(i){console.error("Error parsing date:",i)}a.vendor&&g(m?`${m} - ${a.vendor}`:a.vendor)}catch(i){console.error("Error processing receipt:",i),I({general:"Failed to process the receipt. Please try manual entry."})}finally{S(!1)}},accept:"image/*",capture:"environment",className:"hidden"})]}),x&&(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Receipt Image:"}),(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("img",{src:x,alt:"Receipt",className:"max-h-48 rounded-md border border-gray-300"}),(0,Fe.jsx)("button",{type:"button",onClick:()=>{y(null),C(null),N("")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Fe.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),E&&(0,Fe.jsxs)("div",{className:"mt-2 p-3 rounded-md "+(E.isFraud?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"),children:[(0,Fe.jsx)("div",{className:"flex items-center",children:E.isFraud?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,Fe.jsx)("span",{className:"font-medium text-red-700",children:"Possible Fraud Detected"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,Fe.jsx)("span",{className:"font-medium text-green-700",children:"Receipt Verified"})]})}),E.isFraud&&E.reasons.length>0&&(0,Fe.jsx)("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:E.reasons.map(((e,t)=>(0,Fe.jsx)("li",{children:e},t)))})]}),j&&(0,Fe.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-md",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Fe.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Extracted Text:"}),(0,Fe.jsx)("button",{type:"button",onClick:()=>navigator.clipboard.writeText(j),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Copy"})]}),(0,Fe.jsx)("div",{className:"text-xs text-gray-600 max-h-24 overflow-y-auto whitespace-pre-wrap",children:j})]})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{htmlFor:"amount",className:"form-label",children:"Amount"}),(0,Fe.jsxs)("div",{className:"relative mt-1 rounded-md shadow-sm",children:[(0,Fe.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Fe.jsx)("span",{className:"text-gray-500",children:Xi(c)})}),(0,Fe.jsx)("input",{id:"amount",type:"number",min:"0",step:"0.01",value:o,onChange:e=>l(parseFloat(e.target.value)||0),className:"form-input pl-8 "+(L.amount?"border-red-500":""),placeholder:"0.00"})]}),L.amount&&(0,Fe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.amount})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{htmlFor:"currency",className:"form-label",children:"Currency"}),(0,Fe.jsxs)("select",{id:"currency",value:c,onChange:e=>u(e.target.value),className:"form-input "+(L.currency?"border-red-500":""),children:[(0,Fe.jsx)("option",{value:"USD",children:"USD - US Dollar"}),(0,Fe.jsx)("option",{value:"EUR",children:"EUR - Euro"}),(0,Fe.jsx)("option",{value:"GBP",children:"GBP - British Pound"}),(0,Fe.jsx)("option",{value:"INR",children:"INR - Indian Rupee"})]}),L.currency&&(0,Fe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.currency})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date"}),(0,Fe.jsx)("input",{id:"date",type:"date",value:d,onChange:e=>h(e.target.value),className:"form-input "+(L.date?"border-red-500":""),max:(new Date).toISOString().split("T")[0]}),L.date&&(0,Fe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.date})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),(0,Fe.jsxs)("select",{id:"category",value:f,onChange:e=>p(e.target.value),className:"form-input "+(L.category?"border-red-500":""),children:[(0,Fe.jsx)("option",{value:"Office Supplies",children:"Office Supplies"}),(0,Fe.jsx)("option",{value:"Food & Entertainment",children:"Food & Entertainment"}),(0,Fe.jsx)("option",{value:"Travelling",children:"Travelling"}),(0,Fe.jsx)("option",{value:"Accommodation",children:"Accommodation"}),(0,Fe.jsx)("option",{value:"Client & Project Expenses",children:"Client & Project Expenses"}),(0,Fe.jsx)("option",{value:"Subscriptions",children:"Subscriptions"})]}),L.category&&(0,Fe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.category})]}),(0,Fe.jsxs)("div",{className:"mb-4 md:col-span-2",children:[(0,Fe.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,Fe.jsx)("textarea",{id:"description",value:m,onChange:e=>g(e.target.value),className:"form-input h-20 "+(L.description?"border-red-500":""),placeholder:"Enter a detailed description of the expense"}),L.description&&(0,Fe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:L.description})]}),(0,Fe.jsx)("div",{className:"md:col-span-2",children:(0,Fe.jsx)("button",{type:"submit",className:"w-full bg-primary hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md transition-colors",disabled:w,children:w?(0,Fe.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Fe.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Expense"})})]})]})]})})},Bd=()=>{const{id:e}=function(){let{matches:e}=i.useContext(Q),t=e[e.length-1];return t?t.params:{}}(),t=ee(),{currentUser:n,isManager:r}=Ue(),{getExpenseById:s,updateExpense:a,getUserExpenses:o}=rs(),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(!0),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)([]),[g,x]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{if(e)try{d(!0),f(null);const t=await s(e);if(!t)return void f("Expense not found");c(t);const n=await o(t.userId);if(m(n),"flagged"===t.status){const e=Ji(t);x(e)}}catch(t){console.error("Error loading expense:",t),f("Failed to load expense details")}finally{d(!1)}})()}),[e,s,o]);const y=async e=>{if(l&&r)try{const t={...l,status:e};await a(t),c(t)}catch(t){console.error("Error updating status:",t),f("Failed to update expense status")}};return u?(0,Fe.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-4 text-gray-700",children:"Loading expense details..."})]}):h||!l?(0,Fe.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsxs)("div",{className:"ml-3",children:[(0,Fe.jsx)("p",{className:"text-sm text-red-700",children:h||"Failed to load expense"}),(0,Fe.jsx)("button",{onClick:()=>t("/dashboard"),className:"mt-2 text-sm font-medium text-red-700 hover:text-red-600",children:"Go back to dashboard"})]})]})}):(0,Fe.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,Fe.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Expense Details"}),(0,Fe.jsx)("span",{className:"px-3 py-1 inline-flex text-sm font-semibold rounded-full "+("approved"===l.status?"bg-green-100 text-green-800":"pending"===l.status?"bg-yellow-100 text-yellow-800":"flagged"===l.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]}),(0,Fe.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Submitted on ",new Date(l.createdAt).toLocaleDateString()," at"," ",new Date(l.createdAt).toLocaleTimeString()]})]}),(0,Fe.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-2",children:"Amount"}),(0,Fe.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",l.amount.toFixed(2)]})]}),(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-2",children:"Category"}),(0,Fe.jsx)("p",{className:"text-gray-900",children:l.category})]}),(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-2",children:"Date"}),(0,Fe.jsx)("p",{className:"text-gray-900",children:new Date(l.date).toLocaleDateString()})]}),(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-2",children:"Description"}),(0,Fe.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap",children:l.description})]})]}),(0,Fe.jsxs)("div",{children:[l.receiptImage&&(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-2",children:"Receipt"}),(0,Fe.jsx)("img",{src:l.receiptImage,alt:"Receipt",className:"max-w-full rounded-md border border-gray-300"})]}),g&&g.isFraud&&(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium text-red-600 mb-2",children:"Potential Fraud Detected"}),(0,Fe.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:(0,Fe.jsx)("ul",{className:"list-disc list-inside text-sm text-red-700",children:g.reasons.map(((e,t)=>(0,Fe.jsx)("li",{children:e},t)))})})]}),l.notes&&(0,Fe.jsxs)("div",{className:"mb-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium text-gray-700 mb-2",children:"Notes"}),(0,Fe.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap",children:l.notes})]})]})]}),(0,Fe.jsx)("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:(0,Fe.jsxs)("div",{className:"flex flex-wrap gap-4 justify-end",children:[(0,Fe.jsx)("button",{onClick:()=>t("/dashboard"),className:"btn btn-outline",children:"Back to Dashboard"}),r&&"approved"!==l.status&&(0,Fe.jsx)("button",{onClick:()=>y("approved"),className:"btn btn-success",children:"Approve Expense"}),r&&"rejected"!==l.status&&(0,Fe.jsx)("button",{onClick:()=>y("rejected"),className:"btn btn-danger",children:"Reject Expense"}),r&&"flagged"===l.status&&(0,Fe.jsx)("button",{onClick:()=>y("pending"),className:"btn btn-warning",children:"Clear Flag"})]})})]}),r&&p.length>0&&(0,Fe.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Other Expenses by This User"}),(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.filter((e=>e.id!==l.id)).slice(0,5).map((e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.category}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",e.amount.toFixed(2)]}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("approved"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"flagged"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Fe.jsx)("button",{onClick:()=>t(`/expenses/${e.id}`),className:"text-primary hover:text-indigo-700",children:"View"})})]},e.id)))})]})})]})]})},Ud=i.memo((e=>{let{policies:t,editingPolicy:n,isManager:r,currencies:i,handleEdit:s,handleSave:a,handleCancel:o,setEditingPolicy:l}=e;return(0,Fe.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Maximum Amount"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r&&(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e=>(0,Fe.jsx)("tr",{children:n&&n.category===e.category?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.category}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("input",{type:"number",min:"0",step:"10",value:n.maxAmount,onChange:e=>l({...n,maxAmount:parseFloat(e.target.value)||0}),className:"form-input w-32 py-1"})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("select",{value:n.currency,onChange:e=>l({...n,currency:e.target.value}),className:"form-select w-24 py-1",children:i.map((e=>(0,Fe.jsx)("option",{value:e,children:e},e)))})}),(0,Fe.jsx)("td",{className:"px-6 py-4",children:(0,Fe.jsx)("input",{type:"text",value:n.description,onChange:e=>l({...n,description:e.target.value}),className:"form-input w-full py-1"})}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Fe.jsx)("button",{onClick:a,className:"text-primary hover:text-indigo-700 mr-4",children:"Save"}),(0,Fe.jsx)("button",{onClick:o,className:"text-gray-500 hover:text-gray-700",children:"Cancel"})]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.category}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.maxAmount.toFixed(2)}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.currency}),(0,Fe.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.description}),r&&(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Fe.jsx)("button",{onClick:()=>s(e),className:"text-primary hover:text-indigo-700",disabled:null!==n,children:"Edit"})})]})},e.category)))})]})})}));Ud.displayName="PolicyList";const Wd=i.memo((e=>{let{expenses:t}=e;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{a(!0);try{const e=[{category:"Office Supplies",industryAverage:15e3,companyAverage:14200,difference:-800,percentageDifference:-5.3,trend:"steady",insight:"Your spending on office supplies aligns with industry averages."},{category:"Food & Entertainment",industryAverage:3e4,companyAverage:32500,difference:2500,percentageDifference:8.3,trend:"trending up",insight:"Spending is slightly higher than industry average. Consider implementing meal allowance caps."},{category:"Travelling",industryAverage:65e3,companyAverage:58e3,difference:-7e3,percentageDifference:-10.8,trend:"trending down",insight:"Excellent travel cost management. Your company is saving significantly compared to peers."}];await new Promise((e=>setTimeout(e,300))),r(e)}catch(o){console.error("Error loading industry trends:",o),l("Failed to load industry data")}finally{a(!1)}})()}),[]),(0,Fe.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-6",children:[(0,Fe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-800 p-4",children:[(0,Fe.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Industry Spending Trends - India"}),(0,Fe.jsx)("p",{className:"text-sm text-indigo-100",children:"Compare your company's spending with industry averages across India's corporate sector"})]}),s?(0,Fe.jsxs)("div",{className:"flex items-center justify-center p-12",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"}),(0,Fe.jsx)("p",{className:"ml-4 text-gray-600",children:"Loading latest industry trend data..."})]}):o?(0,Fe.jsx)("div",{className:"p-6 text-center",children:(0,Fe.jsx)("p",{className:"text-red-500",children:o})}):(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expense Category"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Industry Average (Monthly)"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Your Company's Avg Spend"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Difference"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Market Trend"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Insights"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(((e,t)=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.category}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["\u20b9",e.industryAverage.toLocaleString("en-IN")]}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["\u20b9",e.companyAverage.toLocaleString("en-IN")]}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm "+(e.difference>0?"text-red-500":"text-green-500"),children:[e.difference>0?"+":"","\u20b9",Math.abs(e.difference).toLocaleString("en-IN"),"(",e.percentageDifference>0?"+":"",e.percentageDifference.toFixed(1),"%)"]}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs "+(e.trend.includes("up")?"bg-red-100 text-red-800":e.trend.includes("down")?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.trend})}),(0,Fe.jsx)("td",{className:"px-6 py-4 text-sm text-gray-700",children:e.insight})]},t)))})]})}),(0,Fe.jsx)("div",{className:"bg-gray-50 px-4 py-3",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsx)("p",{className:"text-xs text-gray-500",children:"Data based on real industry benchmarks from across India's corporate sector."}),(0,Fe.jsx)("button",{onClick:()=>a(!0),className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:"Refresh Data"})]})})]})}));Wd.displayName="IndustryTrendsSection";const $d=()=>{const{policies:e,updatePolicy:t,isLoading:n,expenses:r,getCategorySummary:s}=rs(),{currentUser:a,isManager:o}=Ue(),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)([]),[g,x]=(0,i.useState)(!1),y=["USD","EUR","GBP","INR"],v=(0,i.useCallback)((async()=>{x(!0);try{const e={"Office Supplies":0,"Food & Entertainment":0,Travelling:0,Accommodation:0,"Client & Project Expenses":0,Subscriptions:0},t=(new Date).getMonth(),n=(new Date).getFullYear(),i=r.filter((e=>{const r=new Date(e.date);return r.getMonth()===t&&r.getFullYear()===n}));i.forEach((t=>{e[t.category]+=t.amount}));Object.values(e).reduce(((e,t)=>e+t),0);if(0===i.length){const e={"Office Supplies":16e3,"Food & Entertainment":32e3,Travelling:65e3,Accommodation:55e3,"Client & Project Expenses":8e4,Subscriptions:28e3},t=(Object.values(e).reduce(((e,t)=>e+t),0),await es(e));m(t)}else{const t=await es(e);m(t)}}catch(u){console.error("Error fetching industry trends:",u),d("Failed to load industry trends data. Please try again later.")}finally{x(!1)}}),[r]);(0,i.useEffect)((()=>{v()}),[v]);const b=()=>{c(null),d(null)},w=async()=>{if(l)try{if(l.maxAmount<=0)return void d("Maximum amount must be greater than zero");if(!l.description.trim())return void d("Description is required");await t(l),f(`Policy for ${l.category} updated successfully`),c(null),setTimeout((()=>{f(null)}),3e3)}catch(e){console.error("Error updating policy:",e),d("Failed to update policy. Please try again.")}};return n?(0,Fe.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-4 text-gray-700",children:"Loading policies..."})]}):(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Expense Policies"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500",children:o?"Set spending limits and guidelines for expense categories":"View spending limits and guidelines for expense categories"})]}),u&&(0,Fe.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-sm text-red-700",children:u})})]})}),h&&(0,Fe.jsx)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-sm text-green-700",children:h})})]})}),(0,Fe.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Maximum Amount"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),o&&(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,Fe.jsx)("tr",{children:l&&l.category===e.category?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.category}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("input",{type:"number",min:"0",step:"10",value:l.maxAmount,onChange:e=>c({...l,maxAmount:parseFloat(e.target.value)||0}),className:"form-input w-32 py-1"})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("select",{value:l.currency,onChange:e=>c({...l,currency:e.target.value}),className:"form-select w-24 py-1",children:y.map((e=>(0,Fe.jsx)("option",{value:e,children:e},e)))})}),(0,Fe.jsx)("td",{className:"px-6 py-4",children:(0,Fe.jsx)("input",{type:"text",value:l.description,onChange:e=>c({...l,description:e.target.value}),className:"form-input w-full py-1"})}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Fe.jsx)("button",{onClick:w,className:"text-primary hover:text-indigo-700 mr-4",children:"Save"}),(0,Fe.jsx)("button",{onClick:b,className:"text-gray-500 hover:text-gray-700",children:"Cancel"})]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.category}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.maxAmount.toFixed(2)}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.currency}),(0,Fe.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.description}),o&&(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Fe.jsx)("button",{onClick:()=>(e=>{o&&(c({...e}),d(null),f(null))})(e),className:"text-primary hover:text-indigo-700",disabled:null!==l,children:"Edit"})})]})},e.category)))})]})}),(0,Fe.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Fe.jsx)("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:"About Expense Policies"}),(0,Fe.jsx)("p",{className:"text-gray-600 mb-4",children:"Expense policies define the maximum spending limits for each expense category. These limits are used to validate expenses during submission and can help control company spending."}),(0,Fe.jsxs)("ul",{className:"list-disc pl-5 text-gray-600 space-y-2",children:[(0,Fe.jsx)("li",{children:"Set reasonable limits based on typical expenses in each category"}),(0,Fe.jsx)("li",{children:"Provide clear descriptions to help employees understand what's covered"}),(0,Fe.jsx)("li",{children:"Expenses exceeding limits will be flagged for review"}),o&&(0,Fe.jsx)("li",{children:"You can update these policies at any time based on company needs"})]})]}),(0,Fe.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-6",children:[(0,Fe.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-800 p-4",children:[(0,Fe.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Industry Spending Trends - India"}),(0,Fe.jsx)("p",{className:"text-sm text-indigo-100",children:"Compare your company's spending with industry averages across India's corporate sector"})]}),g?(0,Fe.jsxs)("div",{className:"flex items-center justify-center p-12",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"}),(0,Fe.jsx)("p",{className:"ml-4 text-gray-600",children:"Loading latest industry trend data..."})]}):(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expense Category"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Industry Average (Monthly)"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Your Company's Avg Spend"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Difference"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Market Trend"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Insights"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.category}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["\u20b9",e.industryAverage.toLocaleString("en-IN")]}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["\u20b9",e.companyAverage.toLocaleString("en-IN")]}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm "+(e.difference>0?"text-red-500":"text-green-500"),children:[e.difference>0?"+":"","\u20b9",e.difference.toLocaleString("en-IN"),"(",e.percentageDifference>0?"+":"",e.percentageDifference.toFixed(1),"%)"]}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Fe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs "+(e.trend.includes("up")?"bg-red-100 text-red-800":e.trend.includes("down")?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.trend})}),(0,Fe.jsx)("td",{className:"px-6 py-4 text-sm text-gray-700",children:e.insight})]},e.category)))})]})}),(0,Fe.jsx)("div",{className:"bg-gray-50 px-4 py-3",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsx)("p",{className:"text-xs text-gray-500",children:"Data based on real industry benchmarks from across India's corporate sector."}),(0,Fe.jsx)("button",{onClick:()=>v(),className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:"Refresh Data"})]})})]})]})};$d.displayName="ExpensePolicy";const Vd=$d,Hd=()=>{const e=ee(),{currentUser:t,logout:n,updateUserPreferredCurrency:r}=Ue(),{getUserExpenses:s,isLoading:a,formatExpenseAmount:o}=rs(),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),[h,f]=(0,i.useState)((null===t||void 0===t?void 0:t.preferredCurrency)||"USD"),[p,m]=(0,i.useState)(!1),[g,x]=(0,i.useState)(!1),[y,v]=(0,i.useState)({totalSubmitted:0,totalApproved:0,totalRejected:0,totalFlagged:0,totalPending:0,totalAmount:0,formattedTotalAmount:"$0.00",approvedAmount:0,formattedApprovedAmount:"$0.00"});(0,i.useEffect)((()=>{(async()=>{if(t)try{const e=await s(t.id);c(e);const n=e.length,r=e.filter((e=>"approved"===e.status)).length,i=e.filter((e=>"rejected"===e.status)).length,a=e.filter((e=>"flagged"===e.status)).length,l=e.filter((e=>"pending"===e.status)).length;let u=0,h=Xi(t.preferredCurrency)+"0.00",p=0,m=Xi(t.preferredCurrency)+"0.00";const g=e.map((async e=>{const n=await o(e,t.preferredCurrency);return parseFloat(n.replace(/[^0-9.-]+/g,""))})),x=e.filter((e=>"approved"===e.status)).map((async e=>{const n=await o(e,t.preferredCurrency);return parseFloat(n.replace(/[^0-9.-]+/g,""))})),y=await Promise.all(g),b=await Promise.all(x);if(u=y.reduce(((e,t)=>e+t),0),p=b.reduce(((e,t)=>e+t),0),h=Xi(t.preferredCurrency)+u.toFixed(2),m=Xi(t.preferredCurrency)+p.toFixed(2),v({totalSubmitted:n,totalApproved:r,totalRejected:i,totalFlagged:a,totalPending:l,totalAmount:u,formattedTotalAmount:h,approvedAmount:p,formattedApprovedAmount:m}),f(t.preferredCurrency),e.length>0){const t=Zi(e);d(t)}}catch(e){console.error("Error loading user data:",e)}})()}),[t,s,o]);return a?(0,Fe.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-4 text-gray-700",children:"Loading profile data..."})]}):t?(0,Fe.jsxs)("div",{className:"space-y-8",children:[g&&(0,Fe.jsx)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,Fe.jsx)("div",{className:"ml-3",children:(0,Fe.jsx)("p",{className:"text-sm text-green-700",children:"Currency preference updated successfully!"})})]})}),(0,Fe.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,Fe.jsx)("div",{className:"p-6 sm:p-8 bg-primary bg-opacity-10",children:(0,Fe.jsxs)("div",{className:"flex flex-col sm:flex-row items-center",children:[(0,Fe.jsx)("div",{className:"w-24 h-24 rounded-full bg-primary flex items-center justify-center text-white text-4xl font-bold mb-4 sm:mb-0 sm:mr-6",children:t.name.charAt(0)}),(0,Fe.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t.name}),(0,Fe.jsxs)("p",{className:"text-gray-600",children:["@",t.username]}),(0,Fe.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[(0,Fe.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary bg-opacity-10 text-primary capitalize",children:t.role}),(0,Fe.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:t.companyName})]})]}),(0,Fe.jsx)("div",{className:"ml-auto mt-4 sm:mt-0",children:(0,Fe.jsx)("button",{onClick:n,className:"btn btn-outline text-red-600 border-red-600 hover:bg-red-600 hover:text-white",children:"Logout"})})]})}),(0,Fe.jsxs)("div",{className:"p-6 border-t border-gray-200",children:[(0,Fe.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Currency Preference"}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"form-input mr-3 w-40",disabled:p,children:[(0,Fe.jsx)("option",{value:"USD",children:"USD ($)"}),(0,Fe.jsx)("option",{value:"EUR",children:"EUR (\u20ac)"}),(0,Fe.jsx)("option",{value:"GBP",children:"GBP (\xa3)"}),(0,Fe.jsx)("option",{value:"INR",children:"INR (\u20b9)"})]}),(0,Fe.jsx)("button",{onClick:async()=>{if(t&&h!==t.preferredCurrency)try{m(!0),await r(h),x(!0),setTimeout((()=>x(!1)),3e3)}catch(e){console.error("Error updating currency preference:",e)}finally{m(!1)}},disabled:p||h===t.preferredCurrency,className:`btn btn-primary ${p?"opacity-70 cursor-not-allowed":""} ${h===t.preferredCurrency?"opacity-50 cursor-not-allowed":""}`,children:p?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Fe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Currency"})]}),(0,Fe.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"This will be used to display all expenses in your preferred currency."})]})]}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:(0,Fe.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Expenses"}),(0,Fe.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:y.formattedTotalAmount})]})]}),(0,Fe.jsxs)("p",{className:"mt-3 text-sm text-gray-500",children:["Approved: ",y.formattedApprovedAmount]})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:(0,Fe.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Approved"}),(0,Fe.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:y.totalApproved})]})]}),(0,Fe.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:y.totalSubmitted>0?`${Math.round(y.totalApproved/y.totalSubmitted*100)}% of total`:"No expenses submitted"})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:(0,Fe.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),(0,Fe.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:y.totalPending})]})]}),(0,Fe.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:y.totalSubmitted>0?`${Math.round(y.totalPending/y.totalSubmitted*100)}% of total`:"No expenses submitted"})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("div",{className:"p-3 rounded-full bg-red-100 text-red-600",children:(0,Fe.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,Fe.jsxs)("div",{className:"ml-4",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Flagged/Rejected"}),(0,Fe.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:y.totalFlagged+y.totalRejected})]})]}),(0,Fe.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:y.totalSubmitted>0?`${Math.round((y.totalFlagged+y.totalRejected)/y.totalSubmitted*100)}% of total`:"No expenses submitted"})]})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Your Expense Insights"}),u.length>0?(0,Fe.jsx)("ul",{className:"space-y-2",children:u.map(((e,t)=>(0,Fe.jsxs)("li",{className:"flex items-start",children:[(0,Fe.jsx)("span",{className:"flex-shrink-0 h-5 w-5 rounded-full bg-primary flex items-center justify-center text-white text-xs mr-3 mt-0.5",children:t+1}),(0,Fe.jsx)("span",{className:"text-gray-700",children:e})]},t)))}):(0,Fe.jsx)("p",{className:"text-gray-500",children:"No insights available yet. Submit more expenses to get personalized insights."})]}),(0,Fe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Fe.jsx)("h2",{className:"text-lg font-semibold",children:"Recent Activity"}),(0,Fe.jsx)("button",{onClick:()=>e("/add-expense"),className:"btn btn-primary text-sm",children:"Add New Expense"})]}),l.length>0?(0,Fe.jsx)("div",{className:"overflow-x-auto",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())).slice(0,5).map((t=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.date).toLocaleDateString()}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.category}),(0,Fe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",t.amount.toFixed(2)]}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("approved"===t.status?"bg-green-100 text-green-800":"pending"===t.status?"bg-yellow-100 text-yellow-800":"flagged"===t.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Fe.jsx)("button",{onClick:()=>e(`/expenses/${t.id}`),className:"text-primary hover:text-indigo-700",children:"View Details"})})]},t.id)))})]})}):(0,Fe.jsxs)("div",{className:"text-center py-8",children:[(0,Fe.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Fe.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"No expenses submitted yet"}),(0,Fe.jsx)("button",{onClick:()=>e("/add-expense"),className:"mt-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create your first expense"})]})]})]}):(0,Fe.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:(0,Fe.jsxs)("div",{className:"flex",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Fe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Fe.jsxs)("div",{className:"ml-3",children:[(0,Fe.jsx)("p",{className:"text-sm text-red-700",children:"User not authenticated. Please log in."}),(0,Fe.jsx)("button",{onClick:()=>e("/login"),className:"mt-2 text-sm font-medium text-red-700 hover:text-red-600",children:"Go to Login"})]})]})})},Kd=()=>{const{currentUser:e}=Ue(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{if(e&&"manager"===e.role)try{const t=await Ki.getPendingEmployees(e.companyName);n(t)}catch(t){console.error("Error fetching pending employees:",t),o({text:"Could not load pending employees. Please try again.",type:"error"})}finally{s(!1)}else s(!1)})()}),[e]);return r?(0,Fe.jsxs)("div",{className:"flex items-center justify-center py-16",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-3 text-gray-700",children:"Loading pending employees..."})]}):(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Fe.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Manage Employee Access"})}),a&&(0,Fe.jsx)("div",{className:`p-4 rounded-md ${"success"===a.type?"bg-green-50 border-green-500 text-green-700":"bg-red-50 border-red-500 text-red-700"} border-l-4`,children:a.text}),0===t.length?(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:(0,Fe.jsx)("p",{className:"text-gray-700",children:"No pending employee accounts to approve."})}):(0,Fe.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,Fe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fe.jsx)("thead",{className:"bg-gray-50",children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),(0,Fe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,Fe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.username}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.companyName}),(0,Fe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Fe.jsx)("button",{onClick:()=>(async e=>{try{await Ki.approveEmployee(e),n((t=>t.filter((t=>t.id!==e)))),o({text:"Employee approved successfully!",type:"success"}),setTimeout((()=>{o(null)}),3e3)}catch(t){console.error("Error approving employee:",t),o({text:"Failed to approve employee. Please try again.",type:"error"})}})(e.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-primary hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Approve"})})]},e.id)))})]})})]})},qd=()=>(0,Fe.jsx)("div",{className:"min-h-full flex flex-col justify-center items-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h1",{className:"text-9xl font-bold text-primary",children:"404"}),(0,Fe.jsx)("h2",{className:"mt-4 text-3xl font-semibold text-gray-900",children:"Page Not Found"}),(0,Fe.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"We can't seem to find the page you're looking for."}),(0,Fe.jsx)("div",{className:"mt-8",children:(0,Fe.jsxs)(De,{to:"/",className:"btn btn-primary inline-flex items-center space-x-2",children:[(0,Fe.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,Fe.jsx)("span",{children:"Back to Dashboard"})]})})]})}),Yd=()=>{const{currentUser:e,logout:t,isManager:n}=Ue(),r=J(),[s,a]=(0,i.useState)(!1),o=e=>r.pathname===e?"bg-primary text-white":"text-gray-700 hover:bg-gray-100";return(0,Fe.jsxs)("div",{className:"flex flex-col md:flex-row h-screen",children:[(0,Fe.jsxs)("div",{className:"md:hidden bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,Fe.jsx)("h1",{className:"text-xl font-bold text-primary",children:"SpendWise"}),(0,Fe.jsx)("button",{onClick:()=>{a(!s)},className:"p-2 rounded-md hover:bg-gray-100","aria-label":"Toggle menu",children:(0,Fe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s?(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),(0,Fe.jsxs)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200 z-30 md:static md:block transition-transform duration-300 ease-in-out "+(s?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[(0,Fe.jsxs)("div",{className:"p-6 border-b border-gray-200 hidden md:block",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-bold text-primary",children:"SpendWise"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Company Expense Tracker"})]}),(0,Fe.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,Fe.jsxs)("nav",{className:"space-y-2",children:[(0,Fe.jsxs)(De,{to:"/dashboard",className:`flex items-center p-3 rounded-lg ${o("/dashboard")}`,onClick:()=>a(!1),children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard"]}),"employee"===(null===e||void 0===e?void 0:e.role)&&(0,Fe.jsxs)(De,{to:"/add-expense",className:`flex items-center p-3 rounded-lg ${o("/add-expense")}`,onClick:()=>a(!1),children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]}),(0,Fe.jsxs)(De,{to:"/expense-policy",className:`flex items-center p-3 rounded-lg ${o("/expense-policy")}`,onClick:()=>a(!1),children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View Policies"]}),n&&(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsxs)(De,{to:"/employee-approval",className:`flex items-center p-3 rounded-lg ${o("/employee-approval")}`,onClick:()=>a(!1),children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Employee Approval"]})}),(0,Fe.jsxs)(De,{to:"/profile",className:`flex items-center p-3 rounded-lg ${o("/profile")}`,onClick:()=>a(!1),children:[(0,Fe.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]})]})}),(0,Fe.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,Fe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Fe.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center mr-3",children:(0,Fe.jsx)("span",{className:"text-lg font-semibold text-gray-700",children:null===e||void 0===e?void 0:e.name.charAt(0)})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("p",{className:"font-medium text-gray-800",children:null===e||void 0===e?void 0:e.name}),(0,Fe.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:null===e||void 0===e?void 0:e.role})]})]}),(0,Fe.jsxs)("button",{onClick:t,className:"w-full flex items-center justify-center p-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:[(0,Fe.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]}),(0,Fe.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Fe.jsx)("header",{className:"bg-white border-b border-gray-200 shadow-sm p-4 hidden md:block",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["/dashboard"===r.pathname&&"Dashboard","/add-expense"===r.pathname&&"Add New Expense","/expense-policy"===r.pathname&&"Expense Policies","/employee-approval"===r.pathname&&"Employee Approval","/profile"===r.pathname&&"User Profile",r.pathname.startsWith("/expenses/")&&"Expense Details"]}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})}),(0,Fe.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:(0,Fe.jsx)(xe,{})}),(0,Fe.jsxs)("footer",{className:"bg-white border-t border-gray-200 p-3 md:p-4 text-center text-xs md:text-sm text-gray-500",children:["\xa9 ",(new Date).getFullYear()," SpendWise - Company Expense Tracker"]})]}),s&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>a(!1)})]})},Qd=e=>{let{children:t}=e;const{isAuthenticated:n,isLoading:r}=Ue();return r?(0,Fe.jsxs)("div",{className:"flex items-center justify-center h-screen",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-4 text-lg text-gray-700",children:"Loading..."})]}):n?(0,Fe.jsx)(Fe.Fragment,{children:t}):(0,Fe.jsx)(ge,{to:"/login",replace:!0})},Xd=e=>{let{children:t}=e;const{isManager:n,isLoading:r}=Ue();return r?(0,Fe.jsxs)("div",{className:"flex items-center justify-center h-screen",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-4 text-lg text-gray-700",children:"Loading..."})]}):n?(0,Fe.jsx)(Fe.Fragment,{children:t}):(0,Fe.jsx)(ge,{to:"/dashboard",replace:!0})},Gd=e=>{let{children:t}=e;const{currentUser:n,isLoading:r}=Ue();return r?(0,Fe.jsxs)("div",{className:"flex items-center justify-center h-screen",children:[(0,Fe.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"}),(0,Fe.jsx)("p",{className:"ml-4 text-lg text-gray-700",children:"Loading..."})]}):n&&"employee"===n.role?(0,Fe.jsx)(Fe.Fragment,{children:t}):(0,Fe.jsx)(ge,{to:"/dashboard",replace:!0})},Jd=()=>(0,Fe.jsx)(Ce,{children:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(ns,{children:(0,Fe.jsxs)(be,{children:[(0,Fe.jsx)(ye,{path:"/login",element:(0,Fe.jsx)(is,{})}),(0,Fe.jsx)(ye,{path:"/signup",element:(0,Fe.jsx)(ds,{})}),(0,Fe.jsxs)(ye,{path:"/",element:(0,Fe.jsx)(Qd,{children:(0,Fe.jsx)(Yd,{})}),children:[(0,Fe.jsx)(ye,{index:!0,element:(0,Fe.jsx)(ge,{to:"/dashboard",replace:!0})}),(0,Fe.jsx)(ye,{path:"dashboard",element:(0,Fe.jsx)(Fd,{})}),(0,Fe.jsx)(ye,{path:"add-expense",element:(0,Fe.jsx)(Gd,{children:(0,Fe.jsx)(zd,{})})}),(0,Fe.jsx)(ye,{path:"expenses/:id",element:(0,Fe.jsx)(Bd,{})}),(0,Fe.jsx)(ye,{path:"expense-policy",element:(0,Fe.jsx)(Vd,{})}),(0,Fe.jsx)(ye,{path:"employee-approval",element:(0,Fe.jsx)(Xd,{children:(0,Fe.jsx)(Kd,{})})}),(0,Fe.jsx)(ye,{path:"profile",element:(0,Fe.jsx)(Hd,{})})]}),(0,Fe.jsx)(ye,{path:"*",element:(0,Fe.jsx)(qd,{})})]})})})});a.createRoot(document.getElementById("root")).render((0,Fe.jsx)(i.StrictMode,{children:(0,Fe.jsx)(Jd,{})}))})();
//# sourceMappingURL=main.3fb7f354.js.map